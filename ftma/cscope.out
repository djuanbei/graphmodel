cscope 15 $HOME/mycode/c++/graphmodel/ftma               0000281659
	@include/action/counteraction.h

11 #iâdeà
ACTION_HPP


12 
	#ACTION_HPP


	)

14 
	~<veùÜ
>

16 
	~"ut/d©a.hµ
"

18 
Çme¥aû
 
	gg¿ph§t
 {

19 
usšg
 
	g¡d
::
·œ
;

20 
usšg
 
	g¡d
::
veùÜ
;

22 
şass
 
	gIn¡ªûFaùÜy
;

24 şas 
	cCouÁ”AùiÚ
 {

26 
	gpublic
:

27 
vœtu®
 
İ”©Ü
()Ğ*
couÁ”_v®ue
 ) const = 0;

31 
vœtu®
 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

32 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) = 0;

34 
	g´iv©e
:

35 
vœtu®
 
CouÁ”AùiÚ
 *
cİy
() const = 0;

37 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

40 şas 
	cSim¶eCouÁ”AùiÚ
 : 
public
 
CouÁ”AùiÚ
 {

41 
public
:

42 
İ”©Ü
()Ğ*
couÁ”_v®ue
 ) const {

43 
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] = 
rhs
;

46 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

47 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

49 
	gglob®_couÁ”_id
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_id
 );

52 
	g´iv©e
:

53 
Sim¶eCouÁ”AùiÚ
Ğ
cid
, 
v
 ) {

54 
	gloÿl_couÁ”_id
 = 
cid
;

55 
	gglob®_couÁ”_id
 = 0;

56 
	grhs
 = 
v
;

59 ~
Sim¶eCouÁ”AùiÚ
() {}

61 
CouÁ”AùiÚ
 *
cİy
() const {

62  
Ãw
 
Sim¶eCouÁ”AùiÚ
Ğ
loÿl_couÁ”_id
, 
rhs
 );

65 
	gloÿl_couÁ”_id
;

66 
	gglob®_couÁ”_id
;

67 
	grhs
;

68 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

71 şas 
	cSim¶eCouÁ”PAùiÚ
 : 
public
 
CouÁ”AùiÚ
 {

72 
public
:

73 
İ”©Ü
()Ğ*
couÁ”_v®ue
 ) const {

74 
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] = 
·¿m‘”_v
;

77 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

78 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

79 
	gglob®_couÁ”_id
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_id
 );

80 
	g·¿m‘”_v
 = 
·¿m‘”_v®ue
[ 
·¿m‘”_id
 ];

83 
	g´iv©e
:

84 
Sim¶eCouÁ”PAùiÚ
Ğ
cid
, 
•¬am‘”_id
 ) {

86 
	gloÿl_couÁ”_id
 = 
cid
;

87 
	gglob®_couÁ”_id
 = 0;

88 
	g·¿m‘”_id
 = 
•¬am‘”_id
;

89 
	g·¿m‘”_v
 = 0;

91 ~
Sim¶eCouÁ”PAùiÚ
() {}

93 
CouÁ”AùiÚ
 *
cİy
() const {

94  
Ãw
 
Sim¶eCouÁ”PAùiÚ
Ğ
loÿl_couÁ”_id
, 
·¿m‘”_id
 );

97 
	gloÿl_couÁ”_id
;

98 
	gglob®_couÁ”_id
;

99 
	g·¿m‘”_id
;

100 
	g·¿m‘”_v
;

101 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

104 şas 
	cDeçuÉCAùiÚ
 : 
public
 
CouÁ”AùiÚ
 {

105 
public
:

106 
İ”©Ü
()Ğ*
couÁ”_v®ue
 ) const {

107 ‡utØ
e
 : 
glob®_»ÏtiÚs
 ) {

108 
couÁ”_v®ue
[ 
e
.
fœ¡
 ] = 0;

109 ‡utØ
	g“
 : 
e
.
£cÚd
 ) {

110 
couÁ”_v®ue
[ 
e
.
fœ¡
 ] +ğ
“
.fœ¡ *ƒe.
£cÚd
;

115 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

116 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

118  
size_t
 
	gi
 = 0; i < 
	gloÿl_»ÏtiÚs
.
size
(); i++ ) {

119 
	gglob®_»ÏtiÚs
[ 
i
 ].
	gfœ¡
 = 
id_m­
.
©
Ğ
loÿl_»ÏtiÚs
[ i ].
fœ¡
 );

122  
size_t
 
	gi
 = 0; i < 
	gloÿl_»ÏtiÚs
.
size
(); i++ ) {

124  
size_t
 
	gj
 = 0; j < 
	gloÿl_»ÏtiÚs
[ 
i
 ].
	g£cÚd
.
size
(); j++ ) {

126 
	gglob®_»ÏtiÚs
[ 
i
 ].
	g£cÚd
[ 
j
 ].second =

127 
·¿m‘”_v®ue
[ 
loÿl_»ÏtiÚs
[ 
i
 ].
£cÚd
[ 
j
 ].second ];

132 
	g´iv©e
:

133 
DeçuÉCAùiÚ
(

134 cÚ¡ 
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> &
»ÏtiÚs1
 ) {

136 
	gloÿl_»ÏtiÚs
 = 
»ÏtiÚs1
;

137 
	gglob®_»ÏtiÚs
 = 
»ÏtiÚs1
;

139 ~
DeçuÉCAùiÚ
() {}

141 
CouÁ”AùiÚ
 *
cİy
(ècÚ¡ {  
Ãw
 
DeçuÉCAùiÚ
Ğ
loÿl_»ÏtiÚs
 ); }

143 
	gveùÜ
<
	g·œ
<, veùÜ<·œ<, >>>> 
	gloÿl_»ÏtiÚs
;

144 
	gveùÜ
<
	g·œ
<, veùÜ<·œ<, >>>> 
	gglob®_»ÏtiÚs
;

145 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

	@include/channel.h

11 #iâdeà
CHANNEL_H


12 
	#CHANNEL_H


	)

13 
	~<m­
>

14 
Çme¥aû
 
	gg¿ph§t
 {

16 
	eCHANNEL_TYPE
 { 
	gONE2ONE_CH
, 
	gBROADCAST_CH
, 
	gURGENT_CH
 };

18 
	eCHANNEL_ACTION
 { 
	gCHANNEL_SEND
, 
	gCHANNEL_RECEIVE
 };

20 cÚ¡ 
	gNO_CHANNEL
 = 0;

22 
	sChªÃl
 {

23 
	gloÿl_id
;

24 
	gglßbl_id
;

25 
CHANNEL_TYPE
 
	gty³
;

26 
boŞ
 
	gis_urg’t
;

27 
CHANNEL_ACTION
 
	gaùiÚ
;

29 
ChªÃl
()

30 : 
loÿl_id
( -1 )

31 , 
glßbl_id
( -1 )

32 , 
ty³
Ğ
ONE2ONE_CH
 )

33 , 
is_urg’t
Ğ
çl£
 ) {}

34 
glob®IpUpd©e
ĞcÚ¡ 
¡d
::
m­
<, > &
id_m­
 ) {

36 
	gglßbl_id
 = 
id_m­
.
©
Ğ
loÿl_id
 );

	@include/constraint/clockdiffcons.hpp

11 #iâdeà
LIN_SIMP_CONS_HPP


12 
	#LIN_SIMP_CONS_HPP


	)

13 
	~"ut/dbmut.hµ
"

14 
	~<io¡»am
>

15 
	~<¿ndom
>

17 
Çme¥aû
 
	gg¿ph§t
 {

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 cÚ¡ 
	gGLOBAL_CLOCK_ID
=0;

28 
	g‹m¶©e
 <
ty³Çme
 
	gC
> cÏs 
	cClockCÚ¡¿št
 {

30 
	gpublic
:

31 
şock_x
;

32 
	gşock_y
;

33 
COMP_OPERATOR
 
	gİ
;

34 
C
 
	gm©rix_v®ue
;

36 
ClockCÚ¡¿št
ĞcÚ¡ 
şock_id1
, cÚ¡ 
şock_id2
, cÚ¡ 
C
 
rhs
,

37 
boŞ
 
is_¡riù_»f
 = 
Œue
 ) {

38 
·¿m‘”_id
=-100;

39 
	gşock_x
 = 
şock_id1
;

40 
	gşock_y
 = 
şock_id2
;

41 
	gm©rix_v®ue
 = 
g‘M©rixV®ue
Ğ
rhs
, 
is_¡riù_»f
 );

43 
ClockCÚ¡¿št
ĞcÚ¡ 
şock_id1
, cÚ¡ 
şock_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
C
 
rhs
 ) {

44 
	g·¿m‘”_id
=-100;

45 
š™
(
şock_id1
, 
şock_id2
, 
İ
, 
rhs
 );

48 
ClockCÚ¡¿št
ĞcÚ¡ 
şock_id1
, cÚ¡ 
şock_id2
, 
COMP_OPERATOR
 
eİ
, cÚ¡ 
rhs
, cÚ¡ 
•¬am‘”_id
 ) {

49 
	gşock_x
=
şock_id1
;

50 
	gşock_y
=
şock_id2
;

51 
	gİ
=
eİ
;

52 
	g·¿m‘”_id
=
•¬am‘”_id
;

53 
as£¹
(
·¿m‘”_id
>=0 );

56 
glob®Upd©e
ĞcÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

57 if(
	g·¿m‘”_id
< 0 ){

60 
	grhs
 = 
·¿m‘”_v®ue
[ 
·¿m‘”_id
 ];

61 
	gid1
=
şock_x
;

62 
	gid2
=
şock_y
;

63 
š™
Ğ
id1
, 
id2
, 
İ
, 
rhs
);

66 
şockShiá
Ğ
shiá
 ) {

67 iàĞ
	gşock_x
 > 0 ) {

68 
	gşock_x
 +ğ
shiá
;

70 iàĞ
	gşock_y
 > 0 ) {

71 
	gşock_y
 +ğ
shiá
;

74 
ClockCÚ¡¿št
 
¿ndCÚ¡
Ğ
num
, 
low
, 
up
 ) const {

75 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
Ğ0, 
num
 );

76 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

77 
	gxx
 = 
di¡ributiÚ
Ğ
g’”©Ü
 );

78 
	gyy
 = 
di¡ributiÚ
Ğ
g’”©Ü
 );

79  
	gxx
 =ğ
yy
 ) {

80 
yy
 = 
di¡ributiÚ
Ğ
g’”©Ü
 );

83 
	g¡d
::
unifÜm_št_di¡ributiÚ
<
C
> 
di¡ributiÚ1
Ğ
low
, 
up
 );

85 
C
 
	gvv
 = 
di¡ributiÚ1
Ğ
g’”©Ü
 );

86  
ClockCÚ¡¿št
Ğ
xx
, 
yy
, 
vv
 );

89 
ClockCÚ¡¿št
 
Ãg
( ) const {

90 
ClockCÚ¡¿št
 
»
Ğ*
this
 );

91 
	g»
.
Ãg_im¶
();

92  
	g»
;

95 
boŞ
 
isS©
ĞcÚ¡ 
ClockCÚ¡¿št
<
C
> &
cÚs
 ) const {

97 iàĞĞ
	gcÚs
.
	gşock_x
 =ğ
şock_x
 ) && ( 
cÚs
.
şock_y
 == clock_y ) ) {

98  
Œue
;

99 } iàĞĞ
	gcÚs
.
	gşock_x
 =ğ
şock_y
 ) && ( 
cÚs
.şock_y =ğ
şock_x
 ) ) {

100 
ClockCÚ¡¿št
<
C
> 
ÃgCÚs
 = 
cÚs
.
Ãg
();

101  
	gÃgCÚs
.
	gm©rix_v®ue
 < matrix_value;

104 iàĞĞ
	gşock_x
 > 0 && 
	gşock_y
 > 0 ) && ( 
	gcÚs
.clock_x > 0 && cons.clock_y > 0 ) ) {

105  
	gŒue
;

107 iàĞ
	gşock_y
 > 0 && 
	gcÚs
.clock_y > 0 ) {

108  
	gŒue
;

111 iàĞ0 =ğ
şock_y
 ) {

112 iàĞ
şock_x
 !ğ
cÚs
.
şock_y
 ) {

113  
Œue
;

116  
	gm©rix_v®ue
 + 
	gcÚs
.m©rix_v®u> 
	gLTEQ_ZERO
;

119 iàĞ
	gşock_y
 !ğ
cÚs
.
şock_x
 ) {

120  
Œue
;

122  
	gm©rix_v®ue
 + 
	gcÚs
.m©rix_v®u> 
	gLTEQ_ZERO
;

125  
	gŒue
;

128 
ä›nd
 
	g¡d
::
o¡»am
 &
İ”©Ü
<<Ğ
¡d
::o¡»am & 
os
,

129 cÚ¡ 
	gClockCÚ¡¿št
 &
	gcÚs
 ) {

130 iàĞ
	gcÚs
.
	gşock_x
 >ğ0 && 
cÚs
.
şock_y
 >= 0 ) {

131 iàĞ
isSŒiù
<
C
>Ğ
cÚs
.
m©rix_v®ue
 ) ) {

132 
os
 << "x_" << 
cÚs
.
şock_x
 << " - "

133 << "x_" << 
cÚs
.
şock_y
 << " < " << 
g‘Right
ĞcÚs.
m©rix_v®ue
 );

135 
	gos
 << "x_" << 
	gcÚs
.
	gşock_x
 << " - "

136 << "x_" << 
	gcÚs
.
	gşock_y
 << " <ğ" << 
g‘Right
Ğ
cÚs
.
m©rix_v®ue
 );

139 iàĞ
	gcÚs
.
	gşock_x
 < 0 ) {

140 iàĞ
	gisSŒiù
<
	gC
>Ğ
	gcÚs
.
	gm©rix_v®ue
 ) ) {

141 
	gos
 << "0 - "

142 << "x_" << 
	gcÚs
.
	gşock_y
 << " < " << 
g‘Right
Ğ
cÚs
.
m©rix_v®ue
 );

144 
	gos
 << "0 - "

146 << "x_" << 
	gcÚs
.
	gşock_y
 << " <ğ" << 
g‘Right
Ğ
cÚs
.
m©rix_v®ue
 );

149 iàĞ
	gisSŒiù
<
	gC
>Ğ
	gcÚs
.
	gm©rix_v®ue
 ) ) {

150 
	gos
 << "x_" << 
	gcÚs
.
	gşock_x
 << " < "

151 << 
g‘Right
Ğ
cÚs
.
m©rix_v®ue
 );

153 
	gos
 << "x_" << 
	gcÚs
.
	gşock_x


154 << " <ğ" << 
g‘Right
Ğ
cÚs
.
m©rix_v®ue
 );

157  
	gos
;

160 
	g´iv©e
:

161 
Ãg_im¶
( ) {

162 
‹mp
 = 
şock_x
;

163 
	gşock_x
 = 
şock_y
;

164 
	gşock_y
 = 
‹mp
;

165 
	gm©rix_v®ue
 = 1 - 
m©rix_v®ue
;

167 
š™
ĞcÚ¡ 
şock_id1
, cÚ¡ 
şock_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
C
 
rhs
 ) {

168 
as£¹
Ğ
İ
 !ğ
NE
 );

169 
as£¹
Ğ
İ
 !ğ
EQ
 );

170 iàĞ
	gLE
 =ğ
İ
 ) {

171 
şock_x
 = 
şock_id1
;

172 
	gşock_y
 = 
şock_id2
;

173 
	gm©rix_v®ue
 = 
g‘M©rixV®ue
Ğ
rhs
, 
çl£
 );

174 } iàĞ
	gLT
 =ğ
İ
 ) {

175 
şock_x
 = 
şock_id1
;

176 
	gşock_y
 = 
şock_id2
;

177 
	gm©rix_v®ue
 = 
g‘M©rixV®ue
Ğ
rhs
, 
Œue
 );

178 } iàĞ
	gGE
 =ğ
İ
 ) {

179 
şock_x
 = 
şock_id2
;

180 
	gşock_y
 = 
şock_id1
;

181 
	gm©rix_v®ue
 = 
g‘M©rixV®ue
Ğ-
rhs
, 
çl£
 );

182 } iàĞ
	gGT
 =ğ
İ
 ) {

183 
şock_x
 = 
şock_id2
;

184 
	gşock_y
 = 
şock_id1
;

185 
	gm©rix_v®ue
 = 
g‘M©rixV®ue
Ğ-
rhs
, 
Œue
 );

191 
	g·¿m‘”_id
;

	@include/constraint/countercons.h

11 #iâdeà
COUNTER_CONS_H


12 
	#COUNTER_CONS_H


	)

14 
	~<veùÜ
>

16 
	~"ut/dbmut.hµ
"

18 
	~"ut/d©a.hµ
"

20 
Çme¥aû
 
	gg¿ph§t
 {

22 
şass
 
	gIn¡ªûFaùÜy
;

24 şas 
	cCouÁ”CÚ¡¿št
 {

26 
	gpublic
:

27 
vœtu®
 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) const = 0;

31 
vœtu®
 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

32 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) = 0;

34 
	g´Ùeùed
:

35 
vœtu®
 ~
CouÁ”CÚ¡¿št
() {}

37 
´iv©e
:

38 
vœtu®
 
CouÁ”CÚ¡¿št
 *
cİy
() const = 0;

40 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

46 şas 
	cOÃP¬am©”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

47 
public
:

55 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) cÚ¡ {  
v®ue
; }

56 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

57 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

58 
	glhs
 = 
·¿m‘”_v®ue
[ 
·¿m‘”_id
 ];

59  
	gİ
 ) {

60 
	gEQ
:

61 
v®ue
 = ( 
lhs
 =ğ
rhs
 );

63 
	gLE
:

64 
v®ue
 = ( 
lhs
 <ğ
rhs
 );

66 
	gLT
:

67 
v®ue
 = ( 
lhs
 < 
rhs
 );

69 
	gGE
:

70 
v®ue
 = ( 
lhs
 >ğ
rhs
 );

72 
	gGT
:

73 
v®ue
 = ( 
lhs
 > 
rhs
 );

75 
	gNE
:

76 
v®ue
 = ( 
lhs
 !ğ
rhs
 );

79 
v®ue
 = 
çl£
;

83 
	g´Ùeùed
:

84 ~
OÃP¬am©”CÚ¡¿št
() {}

86 
´iv©e
:

87 
OÃP¬am©”CÚ¡¿št
Ğ
•¬am‘”_id
, 
COMP_OPERATOR
 
İp
, 
”hs
 ) {

88 
	g·¿m‘”_id
 = 
•¬am‘”_id
;

89 
	gİ
 = 
İp
;

90 
	grhs
 = 
”hs
;

93 
CouÁ”CÚ¡¿št
 *
cİy
() const {

94  
Ãw
 
OÃP¬am©”CÚ¡¿št
Ğ
·¿m‘”_id
, 
İ
, 
rhs
 );

97 
boŞ
 
	gv®ue
;

98 
	g·¿m‘”_id
;

99 
COMP_OPERATOR
 
	gİ
;

100 
	grhs
;

101 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

108 şas 
	cOÃCouÁ”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

110 
public
:

114 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) const {

115  
İ
 ) {

116 
EQ
:

117  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] =ğ
rhs
;

118 
	gLE
:

119  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] <ğ
rhs
;

120 
	gLT
:

121  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] < 
rhs
;

122 
	gGE
:

123  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] >ğ
rhs
;

124 
	gGT
:

125  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] > 
rhs
;

126 
	gNE
:

127  
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ] !ğ
rhs
;

129  
çl£
;

132 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

133 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

135 
	gglob®_couÁ”_id
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_id
 );

138 
	g´Ùeùed
:

139 ~
OÃCouÁ”CÚ¡¿št
() {}

141 
´iv©e
:

142 
OÃCouÁ”CÚ¡¿št
Ğ
ecouÁ”_id
, 
COMP_OPERATOR
 
İp
, 
right_side
 ) {

144 
	gloÿl_couÁ”_id
 = 
ecouÁ”_id
;

145 
	gglob®_couÁ”_id
 = 0;

146 
	gİ
 = 
İp
;

147 
	grhs
 = 
right_side
;

150 
CouÁ”CÚ¡¿št
 *
cİy
() const {

152  
Ãw
 
OÃCouÁ”CÚ¡¿št
Ğ
loÿl_couÁ”_id
, 
İ
, 
rhs
 );

155 
	gloÿl_couÁ”_id
;

156 
	gglob®_couÁ”_id
;

157 
COMP_OPERATOR
 
	gİ
;

158 
	grhs
;

159 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

166 şas 
	cCouÁ”P¬am‘”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

168 
public
:

172 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) const {

174 
diff
 = 
couÁ”_v®ue
[ 
glob®_couÁ”_id
 ];

175  
	gİ
 ) {

176 
	gEQ
:

177  
diff
 =ğ
rhs
;

178 
	gLE
:

179  
diff
 <ğ
rhs
;

180 
	gLT
:

181  
diff
 < 
rhs
;

182 
	gGE
:

183  
diff
 >ğ
rhs
;

184 
	gGT
:

185  
diff
 > 
rhs
;

186 
	gNE
:

187  
diff
 !ğ
rhs
;

189  
çl£
;

193 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

194 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

196 
	gglob®_couÁ”_id
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_id
 );

197 
	grhs
 = 
·¿m‘”_v®ue
[ 
·¿m‘”_id
 ] + 
”hs
;

200 
	g´Ùeùed
:

201 ~
CouÁ”P¬am‘”CÚ¡¿št
() {}

203 
´iv©e
:

204 
loÿl_couÁ”_id
;

205 
	gglob®_couÁ”_id
;

206 
COMP_OPERATOR
 
	gİ
;

207 
	g·¿m‘”_id
;

208 
	g”hs
;

209 
	grhs
;

211 
CouÁ”P¬am‘”CÚ¡¿št
Ğ
ecouÁ”_id
, 
•¬am‘”_id
,

212 
COMP_OPERATOR
 
İp
, 
out_rhs
 ) {

214 
	gloÿl_couÁ”_id
 = 
ecouÁ”_id
;

215 
	gİ
 = 
İp
;

216 
	g·¿m‘”_id
 = 
•¬am‘”_id
;

217 
	g”hs
 = 
out_rhs
;

218 
	grhs
 = 0;

221 
CouÁ”CÚ¡¿št
 *
cİy
() const {

223  
Ãw
 
CouÁ”P¬am‘”CÚ¡¿št
Ğ
loÿl_couÁ”_id
, 
·¿m‘”_id
, 
İ
,

224 
”hs
 );

227 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

233 şas 
	cTwoP¬am‘”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

234 
public
:

235 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) cÚ¡ {  
v®ue
; }

236 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

237 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

238 
	glhs
 = 
·¿m‘”_v®ue
[ 
fœ¡_·¿m‹r_id
 ] -

239 
·¿m‘”_v®ue
[ 
£cÚd_·¿m‘”_id
 ];

240  
	gİ
 ) {

241 
	gEQ
:

242 
v®ue
 = ( 
lhs
 =ğ
rhs
 );

244 
	gLE
:

245 
v®ue
 = ( 
lhs
 <ğ
rhs
 );

247 
	gLT
:

248 
v®ue
 = ( 
lhs
 < 
rhs
 );

250 
	gGE
:

251 
v®ue
 = ( 
lhs
 >ğ
rhs
 );

253 
	gGT
:

254 
v®ue
 = ( 
lhs
 > 
rhs
 );

256 
	gNE
:

257 
v®ue
 = ( 
lhs
 !ğ
rhs
 );

260 
v®ue
 = 
çl£
;

264 
	g´Ùeùed
:

265 ~
TwoP¬am‘”CÚ¡¿št
() {}

267 
´iv©e
:

268 
TwoP¬am‘”CÚ¡¿št
Ğ
efœ¡_·¿m‘”_id
, 
e£cÚd_·¿m‘”_id
,

269 
COMP_OPERATOR
 
eİ
, 
”hs
 ) {

271 
	gv®ue
 = 
çl£
;

272 
	gfœ¡_·¿m‹r_id
 = 
efœ¡_·¿m‘”_id
;

273 
	g£cÚd_·¿m‘”_id
 = 
e£cÚd_·¿m‘”_id
;

274 
	gİ
 = 
eİ
;

275 
	grhs
 = 
”hs
;

277 
CouÁ”CÚ¡¿št
 *
cİy
() const {

278  
Ãw
 
TwoP¬am‘”CÚ¡¿št
Ğ
fœ¡_·¿m‹r_id
, 
£cÚd_·¿m‘”_id
,

279 
İ
, 
rhs
 );

282 
boŞ
 
	gv®ue
;

283 
	gfœ¡_·¿m‹r_id
, 
	g£cÚd_·¿m‘”_id
, 
	grhs
;

284 
COMP_OPERATOR
 
	gİ
;

285 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

292 şas 
	cTwoCouÁ”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

294 
public
:

298 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) const {

299 
diff
 =

300 
couÁ”_v®ue
[ 
glob®_couÁ”_x
 ] - couÁ”_v®ue[ 
glob®_couÁ”_y
 ];

301  
	gİ
 ) {

302 
	gEQ
:

303  
diff
 =ğ
rhs
;

304 
	gLE
:

305  
diff
 <ğ
rhs
;

306 
	gLT
:

307  
diff
 < 
rhs
;

308 
	gGE
:

309  
diff
 >ğ
rhs
;

310 
	gGT
:

311  
diff
 > 
rhs
;

312 
	gNE
:

313  
diff
 !ğ
rhs
;

315  
çl£
;

319 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

320 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

321 if(
	g·¿m‘”_id
>-1 ){

322 
	grhs
=
·¿m‘”_v®ue
[
·¿m‘”_id
 ];

325 
	gglob®_couÁ”_x
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_x
 );

326 
	gglob®_couÁ”_y
 = 
id_m­
.
©
Ğ
loÿl_couÁ”_y
 );

329 
	g´Ùeùed
:

330 ~
TwoCouÁ”CÚ¡¿št
() {}

332 
´iv©e
:

333 
TwoCouÁ”CÚ¡¿št
Ğ
x
, 
y
, 
COMP_OPERATOR
 
p
, 
r
, 
out_·¿m‘”_id
=-10 ) {

334 
·¿m‘”_id
=
out_·¿m‘”_id
;

336 
	gloÿl_couÁ”_x
 = 
x
;

337 
	gloÿl_couÁ”_y
 = 
y
;

338 
	gİ
 = 
p
;

339 
	grhs
 = 
r
;

341 
CouÁ”CÚ¡¿št
 *
cİy
() const {

343  
Ãw
 
TwoCouÁ”CÚ¡¿št
Ğ
loÿl_couÁ”_x
, 
loÿl_couÁ”_y
, 
İ
,

344 
rhs
 , 
·¿m‘”_id
);

347 
	gloÿl_couÁ”_x
, 
	gloÿl_couÁ”_y
, 
	gglob®_couÁ”_x
, 
	gglob®_couÁ”_y
;

348 
COMP_OPERATOR
 
	gİ
;

349 
	grhs
;

350 
	g·¿m‘”_id
;

351 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

360 şas 
	cDeçuÉCouÁ”CÚ¡¿št
 : 
public
 
CouÁ”CÚ¡¿št
 {

362 
public
:

366 
boŞ
 
İ”©Ü
()ĞcÚ¡ *
couÁ”_v®ue
 ) const {

367 
dummy
 = 
·¿m‘”_·¹
;

369  
size_t
 
	gi
 = 0; i < 
	gloÿl_cÚ¡¿št
.
size
(); i += 2 ) {

370 
dummy
 +=

371 
loÿl_cÚ¡¿št
[ 
i
 ] * 
couÁ”_v®ue
[†ocal_constraint[ i + 1 ] ];

374  
	gİ
 ) {

375 
	gEQ
:

376  
dummy
 =ğ
rhs
;

377 
	gLE
:

378  
dummy
 <ğ
rhs
;

379 
	gLT
:

380  
dummy
 < 
rhs
;

381 
	gGE
:

382  
dummy
 >ğ
rhs
;

383 
	gGT
:

384  
dummy
 > 
rhs
;

385 
	gNE
:

386  
dummy
 !ğ
rhs
;

388  
çl£
;

392 
glob®Upd©e
ĞcÚ¡ 
m­
<, > &
id_m­
,

393 cÚ¡ 
veùÜ
<> & 
·¿m‘”_v®ue
 ) {

395  
size_t
 
	gi
 = 1; i < 
	gloÿl_cÚ¡¿št
.
size
(); i += 2 ) {

396 
glob®_cÚ¡¿št
[ 
i
 ] = 
id_m­
.
©
Ğ
loÿl_cÚ¡¿št
[ i ] );

399 
	g·¿m‘”_·¹
 = 0;

400  
size_t
 
	gi
 = 0; i < 
	gpcÚ¡¿št
.
size
(); i += 2 ) {

401 
·¿m‘”_·¹
 +=

402 
pcÚ¡¿št
[ 
i
 ] * 
·¿m‘”_v®ue
[…constraint[ i + 1 ] ];

406 
	g´Ùeùed
:

407 ~
DeçuÉCouÁ”CÚ¡¿št
() {}

409 
´iv©e
:

410 
DeçuÉCouÁ”CÚ¡¿št
ĞcÚ¡ 
veùÜ
<> &
pcÚs
, cÚ¡ veùÜ<> &
cÚs
,

411 
”hs
, 
COMP_OPERATOR
 
eİ
 )

412 : 
pcÚ¡¿št
Ğ
pcÚs
 )

413 , 
loÿl_cÚ¡¿št
Ğ
cÚs
 )

414 , 
glob®_cÚ¡¿št
Ğ
cÚs
 )

415 , 
rhs
Ğ
”hs
 )

416 , 
İ
Ğ
eİ
 ) {}

418 
CouÁ”CÚ¡¿št
 *
cİy
() const {

420  
Ãw
 
DeçuÉCouÁ”CÚ¡¿št
Ğ
pcÚ¡¿št
, 
loÿl_cÚ¡¿št
, 
rhs
,

421 
İ
 );

424 
	g´iv©e
:

425 
veùÜ
<> 
pcÚ¡¿št
;

426 
	gveùÜ
<> 
	gloÿl_cÚ¡¿št
;

427 
	gveùÜ
<> 
	gglob®_cÚ¡¿št
;

428 
	grhs
;

429 
COMP_OPERATOR
 
	gİ
;

430 
	g·¿m‘”_·¹
;

431 
ä›nd
 
şass
 
	gIn¡ªûFaùÜy
;

	@include/counter.hpp

10 #iâdeà
COUNTER_HPP


11 
	#COUNTER_HPP


	)

12 
Çme¥aû
 
	gg¿ph§t
 {

14 cÚ¡ 
	gMAX_COUNTER_VALUE
 = 255;

15 şas 
	cCouÁ”
 {

16 
	g´iv©e
:

17 
v®ue
;

18 
	glb
, 
	gup
;

19 
	gpublic
:

20 
CouÁ”
(è{ 
v®ue
 = 
lb
 = 
up
 = 0; }

21 
CouÁ”
Ğ
l
, 
u
 ) {

22 
	gv®ue
 = 
l
;

23 
	glb
 = 
l
;

24 
	gup
 = 
u
;

26 
£tV®ue
Ğ
v
 ) { 
	gv®ue
 = v; }

27 
g‘LB
(ècÚ¡ {  
	glb
; }

28 
g‘UP
(ècÚ¡ {  
	gup
; }

	@include/discretestate.hpp

10 #iâdeà
__DISCRETE_STATE_H


11 
	#__DISCRETE_STATE_H


	)

13 
	~<®gÜ™hm
>

14 
	~<io¡»am
>

15 
	~<m­
>

16 
	~<¿ndom
>

17 
	~<unÜd”ed_m­
>

18 
	~<veùÜ
>

20 
	~"ut/ç¡Hash.h
"

22 
Çme¥aû
 
	gg¿ph§t
 {

24 
usšg
 
	g¡d
::
cš
;

25 
usšg
 
	g¡d
::
cout
;

26 
usšg
 
	g¡d
::
’dl
;

27 
usšg
 
	g¡d
::
fl
;

28 
usšg
 
	g¡d
::
m­
;

29 
usšg
 
	g¡d
::
·œ
;

30 
usšg
 
	g¡d
::
unÜd”ed_m­
;

32 
usšg
 
	g¡d
::
veùÜ
;

34 şas 
	cS‹EËm
 {

35 
	gpublic
:

36 
vœtu®
 
hash_v®ue
() const {  0; }

37 
vœtu®
 
boŞ
 
cÚš
ĞcÚ¡ 
S‹EËm
 *
Ùh”
 ) cÚ¡ {  
	gçl£
; }

38 
vœtu®
 
boŞ
 
equ®
ĞcÚ¡ 
S‹EËm
 *
Ùh”
 ) cÚ¡ {  
	gçl£
; }

41 şas 
	cCompo£S‹
 : 
public
 
S‹EËm
 {

43 
public
:

44 
hash_v®ue
() const {

45  
Ëá
->
hash_v®ue
(è* 100 + 
right
->hash_value();

47 
vœtu®
 
boŞ
 
cÚš
ĞcÚ¡ 
S‹EËm
 *
Ùh”
 ) const {

48 cÚ¡ 
Compo£S‹
 *
	grhs
 = (cÚ¡ Compo£S‹ *è
Ùh”
;

49  
	gËá
->
cÚš
Ğ
rhs
->
Ëá
 ) && 
	gright
->cÚšĞrhs->
right
 );

51 
vœtu®
 
boŞ
 
equ®
ĞcÚ¡ 
S‹EËm
 *
Ùh”
 ) const {

52 cÚ¡ 
Compo£S‹
 *
	grhs
 = (cÚ¡ Compo£S‹ *è
Ùh”
;

53  
	gËá
->
equ®
Ğ
rhs
->
Ëá
 ) && 
	gright
->equ®Ğrhs->
right
 );

56 
	g´iv©e
:

57 
S‹EËm
 *
Ëá
;

58 
S‹EËm
 *
	gright
;

61 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cSšgËEËm
 {

63 
	gpublic
:

64 
SšgËEËm
() {

65 
¡©eId
 = -1;

66 
	gv®ue
 = 
NULL
;

68 ~
SšgËEËm
() {

69 
d–‘e
 
	gv®ue
;

70 
	gv®ue
 = 
NULL
;

73 
SšgËEËm
Ğ
id
, 
T
 *
v
 ) {

74 
	g¡©eId
 = 
id
;

75 
	gv®ue
 = 
v
;

77 cÚ¡ 
T
 *
g‘V®ue
(ècÚ¡ {  
	gv®ue
; }

79 
	g´iv©e
:

80 
¡©eId
;

81 
T
 * 
	gv®ue
;

84 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cS‹S‘
 {

85 
	gS‹S‘
<
	tT
> 
	tS‹S‘_t
;

87 
	gpublic
:

88 
şass
 
cÚ¡_™”©Ü
;

89 
şass
 
	g™”©Ü
;

90 
S‹S‘
() {

91 
	gadd_–em’t_num
 = 0;

92 
	g–em’t_Ën
 = 
h—d_·¹_Ën
 = 
body_·¹_Ën
 = 0;

94 
S‹S‘
Ğ
id
, 
n
, 
s
 ) {

95 
	gadd_–em’t_num
 = 0;

96 
	g–em’t_Ën
 = 
n
;

97 
	gh—d_·¹_Ën
 = 
s
;

98 
	gbody_·¹_Ën
 = 
n
 - 
s
;

100 
£tP¬am
ĞcÚ¡ 
n
, 
s
 ) {

101 
	gadd_–em’t_num
 = 0;

102 
	g–em’t_Ën
 = 
n
;

103 
	gh—d_·¹_Ën
 = 
s
;

104 
	gbody_·¹_Ën
 = 
n
 - 
s
;

106 ~
S‹S‘
(è{ 
d–‘eAÎ
(); }

107 
d–‘eAÎ
(è{ 
ş—r
(); }

108 
ş—r
() {

109 
	gh—d_·¹_–em’ts
.
ş—r
();

110 
	gbody_·¹_–em’ts
.
ş—r
();

111 
	gadd_–em’t_num
 = 0;

114 
size
(ècÚ¡ {  
	gadd_–em’t_num
; }

116 
boŞ
 
em±y
(ècÚ¡ {  0 =ğ
size
(); }

118 
add
ĞcÚ¡ 
T
 *cÚ¡ 
Úe
 ) {

120 
	gh—d_id
 = 
addH—d
Ğ
Úe
 );

121 cÚ¡ 
T
 *
	gbody_·¹
 = 
Úe
 + 
h—d_·¹_Ën
;

127 
size_t
 
	gbody_size
 = 
body_·¹_–em’ts
[ 
h—d_id
 ].
size
();

128  
size_t
 
	gi
 = 0; i < 
	gbody_size
; i +ğ
body_·¹_Ën
 ) {

129 iàĞ
cÚšBody
Ğ&Ğ
body_·¹_–em’ts
[ 
h—d_id
 ][ 
i
 ] ), 
body_·¹
 ) ) {

134  
addBodyV®ue
Ğ
h—d_id
, 
body_·¹
 );

137 
boŞ
 
cÚš
ĞcÚ¡ 
T
 *cÚ¡ 
Úe
 ) const {

139 
	gid
 = 
cÚšH—d
Ğ
Úe
 );

140 iàĞ
	gid
 > -1 ) {

141 cÚ¡ 
T
 *
	gbodyP¬t
 = 
Úe
 + 
h—d_·¹_Ën
;

143  
size_t
 
	gi
 = 0; i < 
	gbody_·¹_–em’ts
[ 
id
 ].
size
();

144 
	gi
 +ğ
body_·¹_Ën
 ) {

145 iàĞ
cÚšBody
Ğ&Ğ
body_·¹_–em’ts
[ 
id
 ][ 
i
 ] ), 
bodyP¬t
 ) ) {

146  
Œue
;

150  
	gçl£
;

153 
™”©Ü
 
begš
(è{  i‹¿tÜĞ
this
 ); }

155 
cÚ¡_™”©Ü
 
begš
(ècÚ¡ {  cÚ¡_™”©ÜĞ
this
 ); }

157 
™”©Ü
 
’d
(è{  i‹¿tÜĞ
this
, 
h—d_·¹_–em’ts
.end(), 0, 0 ); }

159 
cÚ¡_™”©Ü
 
’d
() const {

160  
cÚ¡_™”©Ü
Ğ
this
, 
h—d_·¹_–em’ts
.
’d
(), 0, 0 );

163 şas 
	ccÚ¡_™”©Ü
 {

164 
	g´Ùeùed
:

165 cÚ¡ 
S‹S‘_t
 *
d©a
;

166 
ty³Çme
 
	gunÜd”ed_m­
<, 
	g·œ
<
	gveùÜ
<
	gT
>, veùÜ<>>>::
cÚ¡_™”©Ü


167 
™
;

168 
size_t
 
	gfœ¡_šdex
;

169 
size_t
 
	g£cÚd_šdex
;

170 
	gveùÜ
<
	gT
> 
	g‹mp_vec
;

172 
	gpublic
:

173 
cÚ¡_™”©Ü
ĞcÚ¡ 
S‹S‘_t
 *
out_d©a
 )

174 : 
d©a
Ğ
out_d©a
 ) {

175 
™
 = 
out_d©a
->
h—dP¬tEËm’ts
.
begš
();

176 
	gfœ¡_šdex
 = 0;

177 
	g£cÚd_šdex
 = 0;

180 
cÚ¡_™”©Ü
ĞcÚ¡ 
S‹S‘_t
 *
out_d©a
,

181 
ty³Çme
 
unÜd”ed_m­
<, 
·œ
<
veùÜ
<
T
>, vector<>>>::

182 
cÚ¡_™”©Ü
 
out_™
,

183 
size_t
 
out_fœ¡_šdex
, size_ˆ
out_£cÚd_šdex
 )

184 : 
d©a
Ğ
out_d©a
 ) {

185 
™
 = 
out_™
;

186 
	gfœ¡_šdex
 = 
out_fœ¡_šdex
;

187 
	g£cÚd_šdex
 = 
out_£cÚd_šdex
;

190 
cÚ¡_™”©Ü
ĞcÚ¡ cÚ¡_™”©Ü &
Ùh”
 )

191 : 
d©a
Ğ
Ùh”
.data ) {

192 
™
 = 
Ùh”
.it;

193 
	gfœ¡_šdex
 = 
Ùh”
.
fœ¡_šdex
;

194 
	g£cÚd_šdex
 = 
Ùh”
.
£cÚd_šdex
;

197 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
++() {

199 
	g£cÚd_šdex
 +ğ
d©a
->
body_·¹_Ën
;

200 
	g£cÚdId
 = 
™
->
£cÚd
.£cÚd[ 
fœ¡_šdex
 ];

202 iàĞ
	g£cÚd_šdex
 >ğ
d©a
->
bodyP¬tEËm’ts
[ 
£cÚdId
 ].
size
() ) {

203 
£cÚd_šdex
 = 0;

204 
	gfœ¡_šdex
++;

205 iàĞ
	gfœ¡_šdex
 >ğ
™
->
£cÚd
.£cÚd.
size
() ) {

206 
fœ¡_šdex
 = 0;

207 
	g™
++;

211  *
	gthis
;

213 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
cÚ¡_™”©Ü
 &
Ùh”
 ) const {

214  ( 
d©a
 =ğ
Ùh”
.d©¨è&& ( 
™
 == other.it ) &&

215 Ğ
šdex
 =ğ
Ùh”
.index );

218 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
cÚ¡_™”©Ü
 &
Ùh”
 ) const {

219  ( 
d©a
 !ğ
Ùh”
.d©¨è|| ( 
™
 != other.it ) ||

220 Ğ
šdex
 !ğ
Ùh”
.index );

223 cÚ¡ 
T
 *
	gİ”©Ü
*() const {

225 
	g£cÚdId
 = 
™
->
£cÚd
.£cÚd[ 
fœ¡_šdex
 ];

226 
	g‹mp_vec
.
š£¹
Ğ
‹mp_vec
.
begš
(),

227 
™
->
£cÚd
.
fœ¡
.
begš
() +

228 
fœ¡_šdex
 * ( 
d©a
->
h—d_·¹_Ën
 ),

229 
™
->
£cÚd
.
fœ¡
.
begš
() +

230 Ğ
fœ¡_šdex
 + 1 ) * ( 
d©a
->
h—d_·¹_Ën
 ) );

232 
	g‹mp_vec
.
š£¹
Ğ
‹mp_vec
.
begš
(è+ 
d©a
->
h—d_·¹_Ën
,

233 
d©a
->
bodyP¬tEËm’ts
[ 
£cÚdId
 ].
begš
() +

234 
£cÚd_šdex
,

235 
d©a
->
bodyP¬tEËm’ts
[ 
£cÚdId
 ].
begš
() +

236 
£cÚd_šdex
 + 
d©a
->
body_·¹_Ën
 );

238  &Ğ
	g‹mp_vec
[ 0 ] );

242 şas 
	c™”©Ü
 {

244 
	g´Ùeùed
:

245 
S‹S‘_t
 * 
d©a
;

246 
ty³Çme
 
	gunÜd”ed_m­
<, 
	g·œ
<
	gveùÜ
<
	gT
>, veùÜ<>>>::
™”©Ü
 
™
;

247 
size_t
 
	gfœ¡_šdex
;

248 
size_t
 
	g£cÚd_šdex
;

249 
	gveùÜ
<
	gT
> 
	g‹mp_vec
;

251 
	gpublic
:

252 
™”©Ü
Ğ
S‹S‘_t
 *
out_d©a
 )

253 : 
d©a
Ğ
out_d©a
 ) {

254 
™
 = 
out_d©a
->
h—d_·¹_–em’ts
.
begš
();

255 
	gfœ¡_šdex
 = 0;

256 
	g£cÚd_šdex
 = 0;

259 
™”©Ü
(

260 
S‹S‘_t
 *
out_d©a
,

261 
ty³Çme
 
unÜd”ed_m­
<, 
·œ
<
veùÜ
<
T
>, veùÜ<>>>::
™”©Ü


262 
out_™
,

263 
size_t
 
out_fœ¡_šdex
, size_ˆ
out_£cÚd_šdex
 )

264 : 
d©a
Ğ
out_d©a
 ) {

265 
™
 = 
out_™
;

266 
	gfœ¡_šdex
 = 
out_fœ¡_šdex
;

267 
	g£cÚd_šdex
 = 
out_£cÚd_šdex
;

270 
™”©Ü
ĞcÚ¡ i‹¿tÜ &
Ùh”
 )

271 : 
d©a
Ğ
Ùh”
.data ) {

272 
™
 = 
Ùh”
.it;

273 
	gfœ¡_šdex
 = 
Ùh”
.
fœ¡_šdex
;

274 
	g£cÚd_šdex
 = 
Ùh”
.
£cÚd_šdex
;

276 
	g™”©Ü
 &
	gİ”©Ü
++() {

277 
	g£cÚd_šdex
 +ğ
d©a
->
body_·¹_Ën
;

278 
	g£cÚdId
 = 
™
->
£cÚd
.£cÚd[ 
fœ¡_šdex
 ];

280 iàĞ
	g£cÚd_šdex
 >ğ
d©a
->
body_·¹_–em’ts
[ 
£cÚdId
 ].
size
() ) {

281 
£cÚd_šdex
 = 0;

282 
	gfœ¡_šdex
++;

283 iàĞ
	gfœ¡_šdex
 >ğ
™
->
£cÚd
.£cÚd.
size
() ) {

284 
fœ¡_šdex
 = 0;

285 
	g™
++;

288  *
	gthis
;

291 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
™”©Ü
 &
Ùh”
 ) const {

292  ( 
d©a
 =ğ
Ùh”
.d©¨è&& ( 
™
 == other.it ) &&

293 Ğ
fœ¡_šdex
 =ğ
Ùh”
.first_index ) &&

294 Ğ
£cÚd_šdex
 =ğ
Ùh”
.second_index );

296 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
™”©Ü
 &
Ùh”
 ) const {

297  ( 
d©a
 !ğ
Ùh”
.d©¨è|| ( 
™
 != other.it ) ||

298 Ğ
fœ¡_šdex
 !ğ
Ùh”
.first_index ) ||

299 Ğ
£cÚd_šdex
 !ğ
Ùh”
.second_index );

302 
T
 *
	gİ”©Ü
*() {

304 
	g£cÚdId
 = 
™
->
£cÚd
.£cÚd[ 
fœ¡_šdex
 ];

305 
	g‹mp_vec
.
š£¹
Ğ
‹mp_vec
.
begš
(),

306 
™
->
£cÚd
.
fœ¡
.
begš
() +

307 
fœ¡_šdex
 * ( 
d©a
->
h—d_·¹_Ën
 ),

308 
™
->
£cÚd
.
fœ¡
.
begš
() +

309 Ğ
fœ¡_šdex
 + 1 ) * ( 
d©a
->
h—d_·¹_Ën
 ) );

311 
	g‹mp_vec
.
š£¹
Ğ
‹mp_vec
.
begš
(è+ 
d©a
->
h—d_·¹_Ën
,

312 
d©a
->
body_·¹_–em’ts
[ 
£cÚdId
 ].
begš
() +

313 
£cÚd_šdex
,

314 
d©a
->
body_·¹_–em’ts
[ 
£cÚdId
 ].
begš
() +

315 
£cÚd_šdex
 + 
d©a
->
body_·¹_Ën
 );

317  &Ğ
	g‹mp_vec
[ 0 ] );

321 
	g´iv©e
:

327 
unÜd”ed_m­
<, 
	g·œ
<
	gveùÜ
<
	gT
>, veùÜ<>>> 
	gh—d_·¹_–em’ts
;

329 
	gveùÜ
<veùÜ<
	gT
>> 
	gbody_·¹_–em’ts
;

331 
	gadd_–em’t_num
;

332 
	g–em’t_Ën
;

334 
	gh—d_·¹_Ën
;

335 
	gbody_·¹_Ën
;

337 
addH—d
ĞcÚ¡ 
T
 *cÚ¡ 
h—d
 ) {

339 
	ghashV
 = 
hash_v®ue
Ğ
h—d
 );

341 
ty³Çme
 
	gunÜd”ed_m­
<, 
	g·œ
<
	gveùÜ
<
	gT
>, veùÜ<>>>::
™”©Ü
 
»t
 =

342 
h—d_·¹_–em’ts
.
fšd
Ğ
hashV
 );

343 iàĞ
	g»t
 !ğ
h—d_·¹_–em’ts
.
’d
() ) {

344 
size_t
 
h—d_size
 = 
»t
->
£cÚd
.£cÚd.
size
();

345  
size_t
 
	gi
 = 0; i < 
	gh—d_size
; i++ ) {

346 iàĞ0 =ğ
memcmp
Ğ
h—d
, &Ğ
»t
->
£cÚd
.
fœ¡
[ 
i
 * 
h—d_·¹_Ën
 ] ),

347 
h—d_·¹_Ën
 * Ğ
T
 ) ) ) {

348  
	g»t
->
	g£cÚd
.£cÚd[ 
i
 ];

353 
	gh—d_·¹_–em’ts
[ 
hashV
 ].
	gfœ¡
.
š£¹
(

354 
h—d_·¹_–em’ts
[ 
hashV
 ].
fœ¡
.
’d
(), 
h—d
, h—d + 
h—d_·¹_Ën
 );

355 
	g»
 = (è
body_·¹_–em’ts
.
size
();

356 
	gh—d_·¹_–em’ts
[ 
hashV
 ].
	g£cÚd
.
push_back
Ğ
»
 );

357 
	gveùÜ
<
	gT
> 
	g‹mp
;

358 
	gbody_·¹_–em’ts
.
push_back
Ğ
‹mp
 );

360  
	g»
;

371 
cÚšH—d
ĞcÚ¡ 
T
 *cÚ¡ 
h—d
 ) const {

373 
	ghashV
 = 
hash_v®ue
Ğ
h—d
 );

375 
ty³Çme
 
	gunÜd”ed_m­
<, 
	g·œ
<
	gveùÜ
<
	gT
>, veùÜ<>>>::
cÚ¡_™”©Ü


376 
»t
 = 
h—d_·¹_–em’ts
.
fšd
Ğ
hashV
 );

377 iàĞ
	g»t
 !ğ
h—d_·¹_–em’ts
.
’d
() ) {

378  
size_t
 
i
 = 0; 
	gi
 < 
	g»t
->
	g£cÚd
.£cÚd.
size
(); i++ ) {

379 iàĞ0 =ğ
memcmp
Ğ
h—d
, &Ğ
»t
->
£cÚd
.
fœ¡
[ 
i
 * 
h—d_·¹_Ën
 ] ),

380 
h—d_·¹_Ën
 * Ğ
T
 ) ) ) {

381  
	g»t
->
	g£cÚd
.£cÚd[ 
i
 ];

388 
šlše
 
addBodyV®ue
Ğ
h—dId
, cÚ¡ 
T
 *cÚ¡ 
body
 ) {

390 
	gbody_·¹_–em’ts
[ 
h—dId
 ].
š£¹
Ğ
body_·¹_–em’ts
[ h—dId ].
’d
(),

391 
body
, body + 
body_·¹_Ën
 );

392 
	gadd_–em’t_num
++;

393  
	gadd_–em’t_num
;

396 
šlše
 
hash_v®ue
ĞcÚ¡ 
T
 *cÚ¡ 
h—d
 ) const {

397  
Fa¡Hash
Ğ(*è
h—d
, 
h—d_·¹_Ën
 * Ğ
T
 ) );

399 
šlše
 
boŞ
 
equ®
ĞcÚ¡ 
T
 *cÚ¡ 
lhs
, cÚ¡ T *cÚ¡ 
rhs
 ) const {

400  
memcmp
Ğ
lhs
, 
rhs
, 
–em’t_Ën
 * Ğ
T
 ) ) == 0;

402 
šlše
 
boŞ
 
cÚšBody
ĞcÚ¡ 
T
 *cÚ¡ 
lhs
, cÚ¡ T *cÚ¡ 
rhs
 ) const {

404  
	gi
 = 0; i < 
	gbody_·¹_Ën
; i++ ) {

405 iàĞ
	glhs
[ 
i
 ] < 
	grhs
[ i ] ) {

406  
	gçl£
;

409  
	gŒue
;

413 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cSšgËS‹S‘
 {

415 
	gpublic
:

416 
SšgËS‹S‘
(è{ 
¡©eId
 = -1; }

417 
SšgËS‹S‘
Ğ
id
 ) { 
	g¡©eId
 = id; }

418 
g‘S‹Id
(ècÚ¡ {  
	g¡©eId
; }

420 
vœtu®
 
boŞ
 
add
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) {  
	gçl£
; }

422 
vœtu®
 
boŞ
 
cÚš
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) cÚ¡ {  
	gçl£
; }

424 
	g´Ùeùed
:

425 
¡©eId
;

428 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cCompo£S‹S‘
 {

430 
	gpublic
:

431 
Compo£S‹S‘
(è{ 
num
 = 0; }

432 
boŞ
 
addCom³Á
Ğ
SšgËS‹S‘
<
T
> &
comp
 ) {

433 
	gid
 = 
comp
.
g‘S‹Id
();

434 iàĞ
	g¡©eIndexM­
.
fšd
Ğ
id
 ) !ğ
¡©eIndexM­
.
’d
() ) {

435  
çl£
;

437 
	g»
 = 
¡©eIndexM­
.
size
();

438 
	g¡©eIndexM­
[ 
id
 ] = 
»
;

439 
addCom³ÁIm¶
Ğ
comp
 );

440 
	gnum
 = 
»
 + 1;

441  
	gŒue
;

447 
vœtu®
 
boŞ
 
add
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) {  
	gçl£
; }

449 
vœtu®
 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) const {

450  
	gçl£
;

453 
vœtu®
 
	gCompo£S‹S‘
<
	gT
> &
	gİ”©Ü
+ĞcÚ¡ Compo£S‹S‘<T> &
	gÙh”
 ) {

454  *
	gthis
;

457 
	g´Ùeùed
:

458 
num
;

459 
	gm­
<, > 
	g¡©eIndexM­
;

461 
vœtu®
 
addCom³ÁIm¶
Ğ
SšgËS‹S‘
<
T
> &
comp
 ) {}

464 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gEx·ndCompo£S‹S‘
 : 
public
 
Compo£S‹S‘
<
T
> {

466 
public
:

467 
Ex·ndCompo£S‹S‘
()

468 : 
Compo£S‹S‘
<
T
>() {

469 
Ën
 = 0;

472 ~
Ex·ndCompo£S‹S‘
(è{ 
ş—r
(); }

473 
ş—r
() {

474  
ty³Çme
 
	gveùÜ
<
	gT
 *>::
™”©Ü
 
™
 = 
v®ues
.
begš
();

475 
	g™
 !ğ
v®ues
.
’d
(); it++ ) {

476 
d–‘e
 ( *
™
 );

478 
	gv®ues
.
ş—r
();

481 
boŞ
 
add
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) {

482 
	gnum
 = 
Compo£S‹S‘
<
T
>::
num
;

483 
as£¹
Ğ
Úe
.
size
(è=ğ
num
 );

484 
	gveùÜ
<
	gT
 *> 
dummy
Ğ
num
 );

485  
	gi
 = 0; i < 
	gnum
; i++ ) {

486 
	gid
 = 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
©
Ğ
Úe
[ 
i
 ].
fœ¡
 );

487 
	gdummy
[ 
id
 ] = 
Úe
[ 
i
 ].
£cÚd
;

490 iàĞ!
cÚš
Ğ
dummy
 ) ) {

491  
	gi
 = 0; i < 
	gCompo£S‹S‘
<
	gT
>::
num
; i++ ) {

492 
	gv®ues
.
push_back
Ğ
dummy
[ 
i
 ] );

494 
	gËn
++;

495  
	gŒue
;

498  
	gçl£
;

501 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) const {

502 
	gveùÜ
<
	gT
 *> 
	gdummy
;

503  
	gi
 = 0; i < 
	gCompo£S‹S‘
<
	gT
>::
num
; i++ ) {

504  
	gj
 = 0; j < 
	gCompo£S‹S‘
<
	gT
>::
num
; j++ ) {

505 iàĞ
	gi
 =ğ
Úe
[ 
j
 ].
fœ¡
 ) {

506 
dummy
.
push_back
Ğ
Úe
[ 
j
 ].
£cÚd
 );

511  
cÚš
Ğ
dummy
 );

514 
	g´iv©e
:

515 
veùÜ
<
T
 *> 
v®ues
;

516 
	gËn
;

518 
Ex·ndCompo£S‹S‘
ĞcÚ¡ Ex·ndCompo£S‹S‘<
T
> &
Ùh”
 ) {}

519 
	gEx·ndCompo£S‹S‘
<
	gT
> &
	gİ”©Ü
=ĞcÚ¡ 
Ex·ndCompo£S‹S‘
<
T
> &
Ùh”
 ) {

520  *
this
;

523 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
T
 *> &
dummy
 ) const {

524 
	gnum
 = 
Compo£S‹S‘
<
T
>::
num
;

525  
size_t
 
	gi
 = 0; i < 
	gËn
; i++ ) {

526 
	gj
 = 0;

527  ; 
	gj
 < 
	gnum
; j++ ) {

528 iàĞ!
	gv®ues
[ 
i
 * 
num
 + 
j
 ]->
cÚš
Ğ
dummy
[ j ] ) ) {

532 iàĞ
	gj
 =ğ
num
 ) {

533  
Œue
;

536  
	gçl£
;

539 
	g´Ùeùed
:

540 
addS‹IdIm¶
(è{ 
Ën
 = 0; }

545 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

546 
şass
 
	gSšgËCom·ùCompo£S‹S‘
 : 
public
 
SšgËS‹S‘
<
T
> {

548 
public
:

549 
SšgËCom·ùCompo£S‹S‘
Ğ
id
 )

550 : 
SšgËS‹S‘
<
T
>Ğ
id
 ) {}

551 
boŞ
 
add
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) {

552 iàĞ
cÚš
Ğ
Úe
 ) ) {

553  
	gçl£
;

555 
	gsšgËV®ue
 = 
SšgËEËm
<
T
>Ğ
Úe
.
fœ¡
, 
	gÚe
.
	g£cÚd
 );

556  
	gŒue
;

558 
boŞ
 
cÚš
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) const {

560 iàĞ
	gSšgËS‹S‘
<
	gT
>::
¡©eId
 == -1 ) {

561  
çl£
;

563 
as£¹
Ğ
SšgËS‹S‘
<
T
>::
¡©eId
 =ğ
Úe
.
fœ¡
 );

564 iàĞ
	gsšgËV®ue
.
g‘V®ue
()->
cÚš
Ğ
Úe
.
£cÚd
 ) ) {

565  
	gŒue
;

567  
	gçl£
;

570 
	g´Ùeùed
:

571 
addS‹IdIm¶
() {}

573 
´iv©e
:

574 
SšgËEËm
<
T
> 
sšgËV®ue
;

575 
boŞ
 
	gisIn™Ÿl
;

578 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

579 
şass
 
	gSšgËS‘Com·ùCompo£S‹S‘
 : 
public
 
SšgËS‹S‘
<
T
> {

581 
public
:

582 
SšgËS‘Com·ùCompo£S‹S‘
Ğ
id
 )

583 : 
SšgËS‹S‘
<
T
>Ğ
id
 )

584 , 
£tV®ue
Ğ
id
 ) {}

585 
boŞ
 
cÚš
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) const {

587 
as£¹
Ğ
Úe
.
fœ¡
 =ğ
SšgËS‹S‘
<
T
>::
¡©eId
 );

588  
	g£tV®ue
.
cÚš
Ğ
Úe
.
£cÚd
 );

591 
boŞ
 
add
ĞcÚ¡ 
·œ
<, 
T
 *> &
Úe
 ) {

592 iàĞ
cÚš
Ğ
Úe
 ) ) {

593  
	gçl£
;

596 
	g£tV®ue
.
add
Ğ
Úe
.
£cÚd
 );

598  
	gŒue
;

601 
	g´iv©e
:

602 
S‹S‘
<
T
> 
£tV®ue
;

605 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

606 
şass
 
	gCom¶‘eCom·ùCompo£S‹S‘
 : 
public
 
Compo£S‹S‘
<
T
> {

608 
public
:

613 
ËáOÃCÚš
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) const {

615 
as£¹
Ğ
Úe
.
size
(è=ğ
Compo£S‹S‘
<
T
>::
num
 );

616 
	g»
 = -1;

617  
	gi
 = 0; i < 
	gCompo£S‹S‘
<
	gT
>::
num
; i++ ) {

618 
as£¹
Ğ
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
fšd
Ğ
Úe
[ 
i
 ].
fœ¡
 ) !=

619 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
’d
() );

620 
	gid
 = 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
©
Ğ
Úe
[ 
i
 ].
fœ¡
 );

621 iàĞ!
	gcompo£V®ue
[ 
id
 ].
cÚš
Ğ
Úe
[ 
i
 ] ) ) {

622 iàĞ
	g»
 != -1 ) {

625 
	g»
 = 
i
;

628  
	g»
;

631 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) const {

632 
as£¹
Ğ
Úe
.
size
(è=ğ
Compo£S‹S‘
<
T
>::
num
 );

633 
	gi
 = 0;

634  ; 
	gi
 < 
	gCompo£S‹S‘
<
	gT
>::
num
; i++ ) {

635 
as£¹
Ğ
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
fšd
Ğ
Úe
[ 
i
 ].
fœ¡
 ) !=

636 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
’d
() );

637 
	gid
 = 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
.
©
Ğ
Úe
[ 
i
 ].
fœ¡
 );

638 iàĞ!
	gcompo£V®ue
[ 
id
 ].
cÚš
Ğ
Úe
[ 
i
 ] ) ) {

642 iàĞ
	gi
 =ğ
Compo£S‹S‘
<
T
>::
num
 ) {

643  
Œue
;

645  
	gçl£
;

648 
boŞ
 
add
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) {

649 
as£¹
Ğ
Úe
.
size
(è=ğ
Compo£S‹S‘
<
T
>::
num
 );

650 iàĞ
cÚš
Ğ
Úe
 ) ) {

651  
	gçl£
;

653 
	gid
 = 
ËáOÃCÚš
Ğ
Úe
 );

654 iàĞ
	gid
 < 0 ) {

655  
	gçl£
;

657 
	gvid
 = 
Compo£S‹S‘
<
T
>::
¡©eIndexM­
[ 
Úe
[ 
id
 ].
fœ¡
 ];

658 
	gcompo£V®ue
[ 
vid
 ].
add
Ğ
Úe
[ 
id
 ] );

659  
	gi
 = 0; i < 
	gCompo£S‹S‘
<
	gT
>::
num
; i++ ) {

660 iàĞ
	gi
 !ğ
id
 ) {

661 
d–‘e
 
Úe
[ 
i
 ].
£cÚd
;

664  
	gŒue
;

667 
	g´iv©e
:

668 
veùÜ
<
SšgËS‹S‘
<
T
>> 
compo£V®ue
;

670 
vœtu®
 
addCom³ÁIm¶
Ğ
SšgËS‹S‘
<
T
> &
comp
 ) {

671 
	gcompo£V®ue
.
push_back
Ğ
comp
 );

675 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
şass
 
	gCom·ùCompo£S‹S‘
 : 
public
 
Compo£S‹S‘
<
T
> {

677 
public
:

678 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) const {

679  
ty³Çme
 
	gveùÜ
<
	gCom¶‘eCom·ùCompo£S‹S‘
<
	gT
>>::
cÚ¡_™”©Ü


680 
™
 = 
compo£V®ue
.
begš
();

681 
	g™
 !ğ
compo£V®ue
.
’d
(); it++ ) {

682 iàĞ
	g™
->
cÚš
Ğ
Úe
 ) ) {

683  
	gŒue
;

686 iàĞ
	gÙh”
.
cÚš
Ğ
Úe
 ) ) {

687  
	gŒue
;

689  
	gçl£
;

691 
boŞ
 
add
ĞcÚ¡ 
veùÜ
<
·œ
<, 
T
 *>> &
Úe
 ) {

692 
as£¹
Ğ
Úe
.
size
(è=ğ
Compo£S‹S‘
<
T
>::
num
 );

693 iàĞ
cÚš
Ğ
Úe
 ) ) {

694  
	gçl£
;

696  
ty³Çme
 
	gveùÜ
<
	gCom¶‘eCom·ùCompo£S‹S‘
<
	gT
>>::
™”©Ü
 
™
 =

697 
compo£V®ue
.
begš
();

698 
	g™
 !ğ
compo£V®ue
.
’d
(); it++ ) {

699 iàĞ
	g™
->
add
Ğ
Úe
 ) ) {

700  
	gŒue
;

703  
	gÙh”
.
add
Ğ
Úe
 );

706 
	g´Ùeùed
:

707 
addCom³ÁIm¶
Ğ
SšgËS‹S‘
<
T
> &
comp
 ) { 
Ùh”
.
addCom³Á
( comp ); }

709 
	g´iv©e
:

710 
veùÜ
<
Com¶‘eCom·ùCompo£S‹S‘
<
T
>> 
compo£V®ue
;

711 
	gEx·ndCompo£S‹S‘
<
	gT
> 
	gÙh”
;

	@include/domain/dbm.hpp

14 #iâdeà
__DBM__HPP


15 
	#__DBM__HPP


	)

16 
	~<®gÜ™hm
>

17 
	~<cm©h
>

18 
	~<c¡dšt
>

19 
	~<c¡ršg
>

20 
	~<lim™s
>

21 
	~<m­
>

22 
	~<s¡»am
>

23 
	~<veùÜ
>

25 
	~<¿ndom
>

26 
	~<ut™y
>

28 
	~"ut/ç¡Hash.h
"

30 
	~"cÚ¡¿št/şockdiffcÚs.hµ
"

31 
	~"ut/dbmut.hµ
"

33 
Çme¥aû
 
	gg¿ph§t
 {

34 
usšg
 
Çme¥aû
 
	g¡d
;

36 
	#ADD
Ğ
x
, 
y
 ) \

37 ĞĞ
x
 ) >ğ
MAX_INT
 || ( 
y
 ) >= MAX_INT ) \

38 ? 
MAX_INT
 \

39 : ( ( 
x
 ) + ( 
y
 ) - ( ( (xè&1 ) | ( (yè&1 ) ) );

	)

41 
	#LOC
Ğ
row
, 
cŞ
 ) („ow ) * ( 
şock_num
 ) + ( cŞ )

	)

43 
	g‹m¶©e
 <
ty³Çme
 
	gC
> cÏs 
	cDBMFaùÜy
 {

45 
	gpublic
:

46 
DBMFaùÜy
( ) {

47 
şock_num
 = 0;

48 
	gm©rix_size
 = 0;

49 
	gMAX_INT
 = 
g‘MAX_INT
Ğ(
C
) 0 );

51 
	gdi¡ributiÚ
 =

52 
¡d
::
unifÜm_št_di¡ributiÚ
<>Ğ-
MAX_INT
 / 4 + 1, 
	gMAX_INT
 / 4 );

55 
DBMFaùÜy
Ğ
n
 )

56 : 
şock_num
Ğ
n
 + 1 ) {

57 
m©rix_size
 = 
şock_num
 * clock_num;

58 
	gMAX_INT
 = 
g‘MAX_INT
Ğ(
C
) 0 );

60 
	gdi¡ributiÚ
 =

61 
¡d
::
unifÜm_št_di¡ributiÚ
<>Ğ-
MAX_INT
 / 4 + 1, 
	gMAX_INT
 / 4 );

64 
DBMFaùÜy
Ğ
n
, cÚ¡ 
veùÜ
<
C
> &
oşockUµu”Bound
,

65 cÚ¡ 
veùÜ
<
ClockCÚ¡¿št
<
C
>> &
odifã»nûCÚs
 )

66 : 
şock_num
Ğ
n
 + 1 ) {

67 
m©rix_size
 = 
şock_num
 * clock_num;

69 
	gMAX_INT
 = 
g‘MAX_INT
Ğ(
C
) 0 );

71 
	gdi¡ributiÚ
 =

72 
¡d
::
unifÜm_št_di¡ributiÚ
<>Ğ-
MAX_INT
 / 4 + 1, 
	gMAX_INT
 / 4 );

73 
	gşock_uµu”_bound
 = 
oşockUµu”Bound
;

74 
	gdifã»nû_cÚs
 = 
odifã»nûCÚs
;

77 ~
DBMFaùÜy
(è{ 
	gşock_num
 = 0; }

79 
£tClockNum
Ğ
num
 ) {

80 
	gşock_num
 = 
num
 + 1;

81 
	gm©rix_size
 = 
şock_num
 * clock_num;

84 
C
 *
ü—‹DBM
() const {

85 
C
 *
	gdbm
 = 
Ãw
 C[ 
m©rix_size
 ];

86 
fl
Ğ
dbm
, dbm + 
m©rix_size
, 
LTEQ_ZERO
 );

87  
	gdbm
;

97 
C
 *
ü—‹DBM
ĞcÚ¡ C *cÚ¡ 
dbm
 ) const {

98 
C
 *
	gÃwD
 = 
Ãw
 C[ 
m©rix_size
 ];

99 
memıy
Ğ
ÃwD
, 
dbm
, Ğ
C
 ) * 
m©rix_size
 );

100  
	gÃwD
;

103 
de¡royDBM
Ğ
C
 *
dbm
 ) cÚ¡ { 
	gd–‘e
[] 
	gdbm
; }

105 
š™
Ğ
C
 *
dbm
 ) const {

106 
fl
Ğ
dbm
, dbm + 
m©rix_size
, 
LTEQ_ZERO
 );

108 
C
 *
¿ndomDBM
() {

110 
C
 *
	gÃwD
 = 
Ãw
 C[ 
m©rix_size
 ]();

111  
	gi
 = 0; i < 
	gm©rix_size
; i++ ) {

112 
	gÃwD
[ 
i
 ] = 
di¡ributiÚ
Ğ
g’”©Ü
 );

114  
	gÃwD
;

117 
C
 *
¿ndomF—sŸbËDBM
() {

118 
	gnum_cÚs
 = 
sq¹
Ğ
şock_num
 ) * clock_num + 1;

119 
C
 * 
	gdbm
 = 
ü—‹DBM
();

120  
	gnum_cÚs
 >= 0 ) {

121 
š™
Ğ
dbm
 );

122 
upIm¶
Ğ
dbm
 );

123  
	gi
 = 0; i < 
sq¹
Ğ
şock_num
 ); i++ ) {

124 
	gx
 = 
abs
Ğ
di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 );

125 iàĞ
	gx
 > 0 ) 
ä“Im¶
Ğ
dbm
, 
x
 );

127  
	gi
 = 0; i < 
	gnum_cÚs
; i++ ) {

128 
	gx
 = 
abs
Ğ
di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 );

129 
	gy
 = 
abs
Ğ
di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 );

130 iàĞ
	gx
 !ğ
y
 ) {

131 
C
 
rhs
 = 
di¡ributiÚ
Ğ
g’”©Ü
 );

132 
	gClockCÚ¡¿št
<
	gC
> 
cs
Ğ
x
, 
y
, 
rhs
 );

133 
ªdIm¶
Ğ
dbm
, 
cs
 );

135 
	gx
 = 
abs
Ğ
di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 );

136 iàĞ
	gx
 > 0 ) 
ä“Im¶
Ğ
dbm
, 
x
 );

137 
ä“Im¶
Ğ
dbm
, 
x
 );

139 iàĞ
isCÚsi¡’t
Ğ
dbm
 ) ) {

140  
	gdbm
;

142 
	gnum_cÚs
 -= 3;

144 
š™
Ğ
dbm
 );

145  
	gdbm
;

148 
g‘Size
(ècÚ¡ {  
	gm©rix_size
; }

150 
	g¡d
::
¡ršg
 
dump
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
 ) const {

152 
¡d
::
¡ršg¡»am
 
ss
;

154  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

155 
	gss
 << "[ ";

156  
	gj
 = 0; j < 
	gşock_num
; j++ ) {

157 
	gss
 << " (";

158 
C
 
	gv
 = 
dbm
[ 
LOC
Ğ
i
, 
j
 ) ];

160 iàĞ
	gisSŒiù
<
	gC
>Ğ
	gv
 ) ) {

161 
	gss
 << "< ";

163 
	gss
 << "<= ";

165 
	gss
.
width
( 4 );

166 
C
 
	gright
 = 
g‘Right
<C>Ğ
v
 );

167 iàĞ
	gright
 >ğ
MAX_INT
 / 2 ) {

168 
ss
 << 
¡d
::
Ëá
 << ( () 126 );

170 
	gss
 << 
	g¡d
::
Ëá
 << (è
right
;

173 
	gss
 << ") ";

175 
	gss
 << "]\n";

177  
	gss
.
¡r
();

180 
ušt32_t
 
g‘HashV®ue
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
 ) const {

181  
Fa¡Hash
Ğ(*è
dbm
, Ğ
C
 ) * 
m©rix_size
 );

184 
boŞ
 
equ®
ĞcÚ¡ 
C
 *
lhs
, cÚ¡ C *
rhs
 ) const {

185  0 =ğ
memcmp
Ğ
lhs
, 
rhs
, 
m©rix_size
 * Ğ
C
 ) );

193 
d–‘eVeùÜM
Ğ
veùÜ
<
C
 *> &
Cvec
 ) const {

194 ‡utØ
	gd
 : 
Cvec
 ) {

195 
d–‘e
[] 
d
;

197 
	gCvec
.
ş—r
();

204 
ÿnÚiÿlFÜm
Ğ
C
 *
dbm
 ) const {

205  
	gk
 = 0; k < 
	gşock_num
; k++ ) {

206  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

207 
	grow_šdex
 = 
LOC
Ğ
i
, 0 );

208  
	gj
 = 0; j < 
	gşock_num
; j++ ) {

209 
C
 
	g‹mp
 = 
ADD
Ğ
dbm
[ 
row_šdex
 + 
k
 ], dbm[ 
LOC
Ğk, 
j
 ) ] );

210 
	gdbm
[ 
row_šdex
 + 
j
 ] =

211 
dbm
[ 
row_šdex
 + 
j
 ] < 
‹mp
 ? dbm[„ow_index + j ] :emp;

225 
boŞ
 
isCÚsi¡’t
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
 ) const {

226  
	gdbm
[ 0 ] >ğ
LTEQ_ZERO
;

237 
boŞ
 
šşude
ĞcÚ¡ 
C
 *cÚ¡ 
lhs
, cÚ¡ C *cÚ¡ 
rhs
 ) const {

239  
	gi
 = 0; i < 
	gm©rix_size
; i++ ) {

240 iàĞ
	glhs
[ 
i
 ] < 
	grhs
[ i ] ) {

241  
	gçl£
;

244  
	gŒue
;

253 
DF_T
 
g‘InşudeF—tu»
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
 ) const {

254 
DF_T
 
	g»
 = 0;

256  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

257 
	gk
 = 
LOC
Ğ
i
, 0 );

258  
	gj
 = 0; j < 
	gşock_num
; j++ ) {

259 iàĞ
	gi
 =ğ
j
 ) ;

260 
	g»
 = ( 2 * 
»
 * 
MAX_INT
 + ( 
dbm
[ 
k
 + 
j
 ] + MAX_INT ) );

263  
	g»
;

276 
boŞ
 
isS©isf›d
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
, cÚ¡ 
ClockCÚ¡¿št
<C> &
cÚs
 ) const {

277  
	gcÚs
.
	gm©rix_v®ue
 + 
	gdbm
[ 
LOC
Ğ
cÚs
.
şock_y
, cÚs.
şock_x
 ) ] > 
	gLTEQ_ZERO
;

280 
upIm¶
Ğ
C
 *
dbm
 ) const {

281  
	gi
 = 1; i < 
	gşock_num
; i++ ) {

282 
	gdbm
[ 
LOC
Ğ
i
, 0 ) ] = 
MAX_INT
;

292 
C
 *
up
ĞcÚ¡ C *cÚ¡ 
dbm
 ) const {

293 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

294 
upIm¶
Ğ
ÃwD
 );

295  
	gÃwD
;

298 
downIm¶
Ğ
C
 *
dbm
 ) const {

299  
	gi
 = 1; i < 
	gşock_num
; i++ ) {

300 
	gdbm
[ 
i
 ] = 
LTEQ_ZERO
;

301  
	gj
 = 1; j < 
	gşock_num
; j++ ) {

302 
	gk
 = 
LOC
Ğ
j
, 
i
 );

303 
	gdbm
[ 
i
 ] = 
dbm
[ i ] < dbm[ 
k
 ] ? dbm[ i ] : dbm[ k ];

313 
C
 *
down
ĞcÚ¡ C *cÚ¡ 
dbm
 ) const {

314 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

315 
downIm¶
Ğ
ÃwD
 );

316  
	gÃwD
;

319 
ªdIm¶
Ğ
C
 *
ÃwD
, cÚ¡ 
ClockCÚ¡¿št
<C> &
cÚs
 ) const {

320 iàĞ
	gÃwD
[ 0 ] < 
	gLTEQ_ZERO
 ) {

324 iàĞ
	gcÚs
.
	gm©rix_v®ue
 + 
	gÃwD
[ 
LOC
Ğ
cÚs
.
şock_y
, cÚs.
şock_x
 ) ] <ğ
LTEQ_ZERO
 ) {

325 
ÃwD
[ 0 ] = 
g‘M©rixV®ue
Ğ-1, 
çl£
 );

326 } iàĞ
	gcÚs
.
	gm©rix_v®ue
 < 
	gÃwD
[ 
LOC
Ğ
cÚs
.
şock_x
, cÚs.
şock_y
 ) ] ) {

327 
	gÃwD
[ 
LOC
Ğ
cÚs
.
şock_x
, cÚs.
şock_y
 ) ] = cÚs.
m©rix_v®ue
;

328  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

329  
	gj
 = 0; j < 
	gşock_num
; j++ ) {

330 
C
 
	g‹mp
 = 
ADD
Ğ
ÃwD
[ 
LOC
Ğ
i
, 
cÚs
.
şock_x
 ) ],‚ewD[ LOCĞcÚs.şock_x, 
j
 ) ] );

331 
	gk
 = 
LOC
Ğ
i
, 
j
 );

332 
	gÃwD
[ 
k
 ] = 
ÃwD
[ k ] < 
‹mp
 ?‚ewD[ k ] :emp;

334 
C
 
	gDªdC
 = 
ADD
Ğ
ÃwD
[ 
LOC
Ğ
i
, 
cÚs
.
şock_y
 ) ],‚ewD[ LOCĞcÚs.şock_y, 
j
 ) ] );

335 
	gÃwD
[ 
k
 ] = 
ÃwD
[ k ] < 
DªdC
 ?‚ewD[ k ] : DandC;

345 
C
 *
And
ĞcÚ¡ C *cÚ¡ 
dbm
, cÚ¡ 
ClockCÚ¡¿št
<C> &
cÚs
 ) const {

347 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

348 
ªdIm¶
Ğ
ÃwD
, 
cÚs
 );

349  
	gÃwD
;

352 
ä“Im¶
Ğ
C
 *
dbm
, cÚ¡ 
x
 ) const {

353  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

354 
	gdbm
[ 
LOC
Ğ
x
, 
i
 ) ] = 
MAX_INT
;

355 
	gdbm
[ 
LOC
Ğ
i
, 
x
 ) ] = 
dbm
[ LOC( i, 0 ) ];

357 
	gdbm
[ 
LOC
Ğ
x
, x ) ] = 
LTEQ_ZERO
;

365 
C
 *
ä“
ĞcÚ¡ C *cÚ¡ 
dbm
, cÚ¡ 
x
 ) const {

366 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

367 
ä“Im¶
Ğ
ÃwD
, 
x
 );

368  
	gÃwD
;

371 
»£tIm¶
Ğ
C
 *
dbm
, cÚ¡ 
x
, cÚ¡ C 
m
 ) const {

373 
as£¹
Ğ
x
 > 0 );

374 
as£¹
Ğ
m
 >= 0 );

375 
C
 
	gpo¡M
 = 
g‘M©rixV®ue
Ğ
m
, 
çl£
 );

376 
C
 
	gÃgM
 = 
g‘M©rixV®ue
Ğ-
m
, 
çl£
 );

377 
	gxS¹
 = 
LOC
Ğ
x
, 0 );

379  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

380 
	gdbm
[ 
xS¹
 + 
i
 ] = 
ADD
Ğ
po¡M
, 
dbm
[ i ] );

381 
	gdbm
[ 
LOC
Ğ
i
, 
x
 ) ] = 
ADD
Ğ
dbm
[ LOCĞi, 0 ) ], 
ÃgM
 );

384 
	gdbm
[ 
LOC
Ğ
x
, x ) ] = 
LTEQ_ZERO
;

393 
C
 *
»£t
ĞcÚ¡ C *cÚ¡ 
dbm
, cÚ¡ 
x
, cÚ¡ C 
m
 ) const {

394 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

395 
»£tIm¶
Ğ
ÃwD
, 
x
, 
m
 );

396  
	gÃwD
;

399 
cİyIm¶
Ğ
C
 *
dbm
, cÚ¡ 
x
, cÚ¡ 
y
 ) const {

400  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

401 
	gdbm
[ 
LOC
Ğ
x
, 
i
 ) ] = 
dbm
[ LOCĞ
y
, i ) ];

402 
	gdbm
[ 
LOC
Ğ
i
, 
x
 ) ] = 
dbm
[ LOCĞi, 
y
 ) ];

404 
	gdbm
[ 
LOC
Ğ
x
, x ) ] = 
dbm
[ LOCĞx, 
y
 ) ] = dbm[ LOCĞy, x ) ] = 
LTEQ_ZERO
;

412 
C
 *
cİy
ĞcÚ¡ C *cÚ¡ 
dbm
, cÚ¡ 
x
, cÚ¡ 
y
 ) const {

413 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

414 
cİyIm¶
Ğ
ÃwD
, 
x
, 
y
 );

415  
	gÃwD
;

418 
C
 *
shiáIm¶
ĞC *
dbm
, cÚ¡ 
x
, cÚ¡ C 
m
 ) const {

420 
C
 
	gpo¡M
 = 
g‘M©rixV®ue
Ğ
m
, 
çl£
 );

421 
C
 
	gÃgM
 = 
g‘M©rixV®ue
Ğ-
m
, 
çl£
 );

423  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

424 
	gdbm
[ 
LOC
Ğ
x
, 
i
 ) ] = 
ADD
Ğ
dbm
[ LOCĞx, i ) ], 
po¡M
 );

425 
	gdbm
[ 
LOC
Ğ
i
, 
x
 ) ] = 
ADD
Ğ
dbm
[ LOCĞi, x ) ], 
ÃgM
 );

428 
	gdbm
[ 
LOC
Ğ
x
, x ) ] = 
LTEQ_ZERO
;

429 
	g‹mp
 = 
LOC
Ğ
x
, 0 );

430 
	gdbm
[ 
‹mp
 ] = 
dbm
[em°] > 
LTEQ_ZERO
 ? dbm[emp ] : LTEQ_ZERO;

431 
	gdbm
[ 
x
 ] = 
dbm
[ x ] < 
LTEQ_ZERO
 ? dbm[ x ] : LTEQ_ZERO;

442 
C
 *
shiá
ĞcÚ¡ C *cÚ¡ 
dbm
, cÚ¡ 
x
, cÚ¡ C 
m
 ) const {

443 
C
 *
	gÃwD
 = 
ü—‹DBM
Ğ
dbm
 );

444 
shiáIm¶
Ğ
ÃwD
, 
x
, 
dbm
 );

445  
	gÃwD
;

454 
nÜm
Ğ
C
 *
dbm
, cÚ¡ 
veùÜ
<C> &
maximums
 ) const {

455 
boŞ
 
	gmodify
 = 
çl£
;

456  
	gi
 = 0; i < 
	gşock_num
; i++ ) {

457  
	gj
 = 0; j < 
	gşock_num
; j++ ) {

458 iàĞ
	gdbm
[ 
LOC
Ğ
i
, 
j
 ) ] < 
	gMAX_INT
 ) {

459 iàĞ
	gdbm
[ 
LOC
Ğ
i
, 
j
 ) ] > 
	gmaximums
[ i ] ) {

460 
	gmodify
 = 
Œue
;

461 
	gdbm
[ 
LOC
Ğ
i
, 
j
 ) ] = 
MAX_INT
;

462 } iàĞ
	gdbm
[ 
LOC
Ğ
i
, 
j
 ) ] < 
	gmaximums
[ j + 
şock_num
 ] ) {

463 
	gmodify
 = 
Œue
;

464 
	gdbm
[ 
LOC
Ğ
i
, 
j
 ) ] = 
maximums
[ j + 
şock_num
 ];

469 iàĞ
	gmodify
 ) {

470 
ÿnÚiÿlFÜm
Ğ
dbm
 );

480 
nÜm
Ğ
C
 *
dbm
, 
veùÜ
<C *> &
»_vec
 ) const {

481 iàĞ
	gdifã»nû_cÚs
.
em±y
() ) {

482 
nÜm
Ğ
dbm
, 
şock_uµu”_bound
 );

483 
	g»_vec
.
push_back
Ğ
dbm
 );

486 
nÜm
Ğ
dbm
, 
şock_uµu”_bound
, 
difã»nû_cÚs
, 
»_vec
 );

489 
nÜm
Ğ
C
 *
dbm
 ) cÚ¡ {‚ÜmĞdbm, 
şock_uµu”_bound
 ); }

491 
	g´iv©e
:

495 
şock_num
;

496 
	gm©rix_size
;

497 
C
 
	gMAX_INT
;

498 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

499 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
;

500 
	gveùÜ
<
	gC
> 
	gşock_uµu”_bound
;

502 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	gdifã»nû_cÚs
;

504 
boŞ
 
cÚš
ĞcÚ¡ 
veùÜ
<
C
 *> &
v®ues
, cÚ¡ C *cÚ¡ 
dbm
 ) const {

506 ‡utØ
	gv
 : 
v®ues
 ) {

507 iàĞ
equ®
Ğ
v
, 
dbm
 ) ) {

508  
	gŒue
;

511  
	gçl£
;

525 
nÜm
Ğ
C
 *
dbm
, cÚ¡ 
veùÜ
<C> &
maximums
,

526 cÚ¡ 
veùÜ
<
ClockCÚ¡¿št
<
C
>> &
diff_cÚs
,

527 
veùÜ
<
C
 *> & 
»_vec
 ) const {

529 
as£¹
Ğ
»_vec
.
em±y
() );

531 
	gveùÜ
<
	gC
 *> 
	g¥l™_domašs
;

532 
¥l™
Ğ
dbm
, 
diff_cÚs
, 
¥l™_domašs
 );

534 ‡utØ
	g‹mp_dbm
 : 
¥l™_domašs
 ) {

535 
»_vec
.
push_back
Ğ
cÜn_nÜm
Ğ
‹mp_dbm
, 
maximums
, 
diff_cÚs
 ) );

539 
¥l™
Ğ
C
 *
dbm
, cÚ¡ 
veùÜ
<
ClockCÚ¡¿št
<C>> &
diffCÚs
,

540 
veùÜ
<
C
 *> &
»_vec
 ) const {

542 
as£¹
Ğ
»_vec
.
em±y
() );

543 
	gveùÜ
<
	gC
 *> 
	gwa™_s
;

544 
	g»_vec
.
push_back
Ğ
dbm
 );

546 ‡utØ
	gcs
 : 
diffCÚs
 ) {

548 
veùÜ
<
boŞ
> 
addToWa™S
Ğ
»_vec
.
size
(), 
çl£
 );

550  
size_t
 
	gi
 = 0; i < 
	g»_vec
.
size
(); i++ ) {

556 iàĞ
isS©isf›d
Ğ
»_vec
[ 
i
 ], 
cs
 ) &&

557 
isS©isf›d
Ğ
»_vec
[ 
i
 ], 
cs
.
Ãg
() ) ) {

559 
C
 *
	gD_ªd_C
 = 
And
Ğ
»_vec
[ 
i
 ], 
cs
 );

560 
C
 *
	gD_ªd_Ãg_C
 = 
And
Ğ
»_vec
[ 
i
 ], 
cs
.
Ãg
() );

561 iàĞ!
cÚš
Ğ
wa™_s
, 
D_ªd_C
 ) ) {

562 
	gwa™_s
.
push_back
Ğ
D_ªd_C
 );

564 
de¡royDBM
Ğ
D_ªd_C
 );

566 iàĞ!
cÚš
Ğ
wa™_s
, 
D_ªd_Ãg_C
 ) ) {

567 
	gwa™_s
.
push_back
Ğ
D_ªd_Ãg_C
 );

569 
de¡royDBM
Ğ
D_ªd_Ãg_C
 );

573 iàĞ!
cÚš
Ğ
wa™_s
, 
»_vec
[ 
i
 ] ) ) {

574 
	gwa™_s
.
push_back
Ğ
»_vec
[ 
i
 ] );

575 
	gaddToWa™S
[ 
i
 ] = 
Œue
;

579 
	g»_vec
.
sw­
Ğ
wa™_s
 );

580  
size_t
 
	gi
 = 0; i < 
	gwa™_s
.
size
(); i++ ) {

581 iàĞ!
	gaddToWa™S
[ 
i
 ] ) {

582 
de¡royDBM
Ğ
wa™_s
[ 
i
 ] );

584 
	gwa™_s
.
ş—r
();

589 
C
 *
cÜn_nÜm
ĞC *
dbm
, cÚ¡ 
veùÜ
<C> &
maximums
,

590 cÚ¡ 
veùÜ
<
ClockCÚ¡¿št
<
C
>> &
difã»nû_cÚs
 ) const {

592 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	gG_un§t
;

594  
size_t
 
	gi
 = 0; i < 
	gdifã»nû_cÚs
.
size
(); i++ ) {

601 iàĞ!
isS©isf›d
Ğ
dbm
, 
difã»nû_cÚs
[ 
i
 ] ) ) {

602 
	gG_un§t
.
push_back
Ğ
difã»nû_cÚs
[ 
i
 ] );

610 iàĞ!
isS©isf›d
Ğ
dbm
, 
difã»nû_cÚs
[ 
i
 ].
Ãg
() ) ) {

611 
	gG_un§t
.
push_back
Ğ
difã»nû_cÚs
[ 
i
 ].
Ãg
() );

615 
nÜm
Ğ
dbm
, 
maximums
 );

616 ‡utØ
	gcs
 : 
G_un§t
 ) {

617 
ªdIm¶
Ğ
dbm
, 
cs
.
Ãg
() );

619  
	gdbm
;

	@include/domain/dbmset.hpp

10 #iâdeà
DBM_SET_H


11 
	#DBM_SET_H


	)

12 
	~<®gÜ™hm
>

13 
	~<m­
>

14 
	~<veùÜ
>

16 
	~"ut/dbmut.hµ
"

18 
	~"domaš/dbm.hµ
"

20 
Çme¥aû
 
	gg¿ph§t
 {

21 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	g‹m¶©e
 <
ty³Çme
 
	gC
> cÏs 
	cDBM£t
 {

24 
	gpublic
:

25 
şass
 
™”©Ü
;

27 
şass
 
	gcÚ¡_™”©Ü
;

29 
DBM£t
Ğ
DBMFaùÜy
<
C
> &
mªag”
 ) { 
	gdbm_mªag”
 = manager; }

30 ~
DBM£t
(è{ 
d–‘eAÎ
(); }

32 
™”©Ü
 
begš
(è{  i‹¿tÜĞ
this
 ); }

34 
cÚ¡_™”©Ü
 
begš
(ècÚ¡ {  cÚ¡_™”©ÜĞ
this
 ); }

36 
™”©Ü
 
’d
() {

38  
™”©Ü
Ğ
this
, 
m­_d©a
.
size
(è+ 
»cov”y_d©a
.size() );

42 
cÚ¡_™”©Ü
 
’d
() const {

43  
cÚ¡_™”©Ü
Ğ
this
, 
m­_d©a
.
size
(è+ 
»cov”y_d©a
.size() );

53 
boŞ
 
add
Ğ
C
 *
DM
 ) {

54 
ušt32_t
 
	ghashV®ue
 = 
dbm_mªag”
.
g‘HashV®ue
Ğ
DM
 );

55 
ty³Çme
 
	g¡d
::
·œ
<ty³Çm
¡d
::
m­
<
ušt32_t
, >::
™”©Ü
, 
	gboŞ
> 
	g»t
;

56 
	g»t
 = 
·s£d_d©a
.
š£¹
(

57 
¡d
::
·œ
<
ušt32_t
, >Ğ
hashV®ue
, 
m­_d©a
.
size
() ) );

58 
DF_T
 
	gã©rue
 = 
dbm_mªag”
.
g‘InşudeF—tu»
Ğ
DM
 );

59 iàĞ
	gçl£
 =ğ
»t
.
£cÚd
 ) {

61 
C
 *
D1
 = 
g‘D
Ğ
hashV®ue
 );

63 iàĞ!
	gdbm_mªag”
.
equ®
Ğ
DM
, 
D1
 ) ) {

64 
boŞ
 
	ghave
 = 
çl£
;

65  
ty³Çme
 
	gveùÜ
<
	gC
 *>::
™”©Ü
 
™
 = 
»cov”y_d©a
.
begš
();

66 
	g™
 !ğ
»cov”y_d©a
.
’d
(); it++ ) {

67 iàĞ
	gdbm_mªag”
.
equ®
Ğ
DM
, *
™
 ) ) {

68 
	ghave
 = 
Œue
;

72 iàĞ
	ghave
 ) {

73  
	gçl£
;

75 iàĞ
šşude
Ğ
DM
, 
ã©rue
 ) ) {

76  
	gçl£
;

78 
»cov”yDAdd
Ğ
DM
, 
ã©rue
 );

82  
	gçl£
;

85 
m­DAdd
Ğ
DM
, 
ã©rue
 );

88  
	gŒue
;

90 
boŞ
 
cÚš
ĞcÚ¡ 
C
 *cÚ¡ 
DM
 ) const {

92 
DF_T
 
	gã©rue
 = 
dbm_mªag”
.
g‘InşudeF—tu»
Ğ
DM
 );

93  
šşude
Ğ
DM
, 
ã©rue
 );

96 
size_t
 
size
(ècÚ¡ {  
	g·s£d_d©a
.size(è+ 
	g»cov”y_d©a
.size(); }

98 
ş—r
( ) {

99 
	g·s£d_d©a
.
ş—r
();

101 
	gm­_d©a
.
ş—r
();

102 
	gm­_d©a_ã©u»
.
ş—r
();

104 
	g»cov”y_d©a
.
ş—r
();

105 
	g»cov”y_d©a_ã©u»
.
ş—r
();

108 
d–‘eAÎ
( ) {

110  
ty³Çme
 
	gveùÜ
<
	gC
 *>::
cÚ¡_™”©Ü
 
™
 = 
m­_d©a
.
begš
();

111 
	g™
 !ğ
m­_d©a
.
’d
(); it++ ) {

112 
	gd–‘e
[] * 
	g™
;

115  
ty³Çme
 
	gveùÜ
<
	gC
 *>::
™”©Ü
 
™
 = 
»cov”y_d©a
.
begš
();

116 
	g™
 !ğ
»cov”y_d©a
.
’d
(); it++ ) {

117 
	gd–‘e
[] * 
	g™
;

119 
ş—r
();

122 
And
Ğ
DBM£t
<
C
> &
Ùh”
 ) {

124  
ty³Çme
 
	gveùÜ
<
	gC
 *>::
™”©Ü
 
™
 = 
Ùh”
.
m­_d©a
.
begš
();

125 
	g™
 !ğ
Ùh”
.
m­_d©a
.
’d
(); it++ ) {

126 
add
Ğ
dbm_mªag”
, *
™
 );

129  
ty³Çme
 
	gveùÜ
<
	gC
 *>::
™”©Ü
 
™
 = 
Ùh”
.
»cov”y_d©a
.
begš
();

130 
	g™
 !ğ
Ùh”
.
»cov”y_d©a
.
’d
(); it++ ) {

131 
add
Ğ
dbm_mªag”
, *
™
 );

133 
	gÙh”
.
ş—r
();

136 şas 
	ccÚ¡_™”©Ü
 {

137 
	g´Ùeùed
:

138 cÚ¡ 
DBM£t
<
C
> *
d©a
;

139 
size_t
 
	gšdex
;

141 
	gpublic
:

142 
cÚ¡_™”©Ü
ĞcÚ¡ 
DBM£t
<
C
> *
od©a
 )

143 : 
d©a
Ğ
od©a
 ) {

144 
šdex
 = 0;

147 
cÚ¡_™”©Ü
ĞcÚ¡ 
DBM£t
<
C
> *
od©a
, 
size_t
 
ošdex
 )

148 : 
d©a
Ğ
od©a
 ) {

149 
šdex
 = 
ošdex
;

152 
cÚ¡_™”©Ü
ĞcÚ¡ cÚ¡_™”©Ü &
Ùh”
 )

153 : 
d©a
Ğ
Ùh”
.data ) {

154 
šdex
 = 
Ùh”
.index;

157 
	gcÚ¡_™”©Ü
 &
	gİ”©Ü
++() {

158 
	gšdex
++;

159  *
	gthis
;

161 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
cÚ¡_™”©Ü
 &
Ùh”
 ) const {

162  
šdex
 =ğ
Ùh”
.index;

164 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
cÚ¡_™”©Ü
 &
Ùh”
 ) const {

165  
šdex
 !ğ
Ùh”
.index;

168 cÚ¡ 
C
 *
	gİ”©Ü
*() const {

169 
size_t
 
	gdSize
 = 
d©a
->
m­D
.
size
();

170 iàĞ
	gšdex
 < 
	gdSize
 ) {

172  
	gd©a
->
	gm­D
[ 
šdex
 ];

174 iàĞ
	gšdex
 >ğ
dSize
 + 
d©a
->
»cov”yD
.
size
() ) {

175  
NULL
;

178  
	gd©a
->
	g»cov”yD
[ 
šdex
 - 
dSize
 ];

182 şas 
	c™”©Ü
 {

184 
	g´Ùeùed
:

185 cÚ¡ 
DBM£t
<
C
> *
d©a
;

186 
size_t
 
	gšdex
;

188 
	gpublic
:

189 
™”©Ü
Ğ
DBM£t
<
C
> *
od©a
 )

190 : 
d©a
Ğ
od©a
 ) {

191 
šdex
 = 0;

194 
™”©Ü
Ğ
DBM£t
<
C
> *
od©a
, 
size_t
 
ošdex
 )

195 : 
d©a
Ğ
od©a
 ) {

196 
šdex
 = 
ošdex
;

199 
™”©Ü
ĞcÚ¡ i‹¿tÜ &
Ùh”
 )

200 : 
d©a
Ğ
Ùh”
.data ) {

201 
šdex
 = 
Ùh”
.index;

203 
	g™”©Ü
 &
	gİ”©Ü
++() {

204 
	gšdex
++;

205  *
	gthis
;

208 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
™”©Ü
 &
Ùh”
 ) const {

209  
šdex
 =ğ
Ùh”
.index;

211 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
™”©Ü
 &
Ùh”
 ) const {

212  
šdex
 !ğ
Ùh”
.index;

215 
C
 *
	gİ”©Ü
*() {

216 
size_t
 
	gdSize
 = 
d©a
->
m­D
.
size
();

217 iàĞ
	gšdex
 < 
	gdSize
 ) {

219  
	gd©a
->
	gm­D
[ 
šdex
 ];

221 iàĞ
	gšdex
 >ğ
dSize
 + 
d©a
->
»cov”yD
.
size
() ) {

222  
NULL
;

225  
	gd©a
->
	g»cov”yD
[ 
šdex
 - 
dSize
 ];

229 
	g´iv©e
:

230 
DBMFaùÜy
<
C
> 
dbm_mªag”
;

231 
	gm­
<
	gušt32_t
, > 
	g·s£d_d©a
;

232 
	gveùÜ
<
	gC
 *> 
	gm­_d©a
;

233 
	gveùÜ
<
	gDF_T
> 
	gm­_d©a_ã©u»
;

235 
	gveùÜ
<
	gC
 *> 
	g»cov”y_d©a
;

236 
	gveùÜ
<
	gDF_T
> 
	g»cov”y_d©a_ã©u»
;

238 
C
 *
g‘D
Ğ
ušt32_t
 
hash_v®ue
 ) {

239  
	gm­_d©a
[ 
·s£d_d©a
[ 
hash_v®ue
 ] ];

242 
m­DAdd
Ğ
C
 *
D
, 
DF_T
 &
v®ue
 ) {

243 
	gm­_d©a
.
push_back
Ğ
D
 );

244 
	gm­_d©a_ã©u»
.
push_back
Ğ
v®ue
 );

247 
»cov”yDAdd
Ğ
C
 *
D
, 
DF_T
 &
v®ue
 ) {

248 
	g»cov”y_d©a
.
push_back
Ğ
D
 );

249 
	g»cov”y_d©a_ã©u»
.
push_back
Ğ
v®ue
 );

252 
boŞ
 
šşude
ĞcÚ¡ 
C
 *cÚ¡ 
DM
, 
DF_T
 &
ã©rue
 ) const {

254  
size_t
 
	gi
 = 0; i < 
	gm­_d©a
.
size
(); i++ ) {

255 iàĞĞ
	gm­_d©a_ã©u»
[ 
i
 ] >ğ
ã©rue
 ) &&

256 
dbm_mªag”
.
šşude
Ğ
m­_d©a
[ 
i
 ], 
DM
 ) ) {

257  
	gŒue
;

261  
size_t
 
	gi
 = 0; i < 
	g»cov”y_d©a
.
size
(); i++ ) {

262 iàĞĞ
	g»cov”y_d©a_ã©u»
[ 
i
 ] >ğ
ã©rue
 ) &&

263 
dbm_mªag”
.
šşude
Ğ
»cov”y_d©a
[ 
i
 ], 
DM
 ) ) {

264  
	gŒue
;

267  
	gçl£
;

	@include/io/rapidxml.hpp

1 #iâdeà
RAPIDXML_HPP_INCLUDED


2 
	#RAPIDXML_HPP_INCLUDED


	)

11 #ià!
defšed
Ğ
RAPIDXML_NO_STDLIB
 )

12 
	~<ÿs£¹
>

13 
	~<c¡dlib
>

14 
	~<Ãw
>

20 #ifdeà
_MSC_VER


21 #´agm¨
w¬nšg
Ğ
push
 )

22 #´agm¨
w¬nšg
Ğ
di§bË
 : 4127 )

28 #ià
defšed
Ğ
RAPIDXML_NO_EXCEPTIONS
 )

30 
	#RAPIDXML_PARSE_ERROR
Ğ
wh©
, 
wh”e
 ) \

	)

32 
·r£_”rÜ_hªdËr
Ğ
wh©
, 
wh”e
 ); \

33 
as£¹
( 0 ); \

36 
Çme¥aû
 
	g¿pidxml
 {

53 
·r£_”rÜ_hªdËr
ĞcÚ¡ *
wh©
, *
wh”e
 );

58 
	~<exû±iÚ
>

60 
	#RAPIDXML_PARSE_ERROR
Ğ
wh©
, 
wh”e
 ) 
throw
 
	`·r£_”rÜ
Ğwh©, wh”)

	)

62 
Çme¥aû
 
	g¿pidxml
 {

75 şas 
	c·r£_”rÜ
 : 
public
 
¡d
::
exû±iÚ
 {

77 
public
:

79 
·r£_”rÜ
ĞcÚ¡ *
wh©
, *
wh”e
 )

80 : 
m_wh©
Ğ
wh©
 )

81 , 
m_wh”e
Ğ
wh”e
 ) {}

85 
vœtu®
 cÚ¡ *
wh©
(ècÚ¡ 
throw
(è{  
	gm_wh©
; }

91 
	g‹m¶©e
 <
şass
 
	gCh
> 
Ch
 *
wh”e
() const {

92  
	g»š‹½»t_ÿ¡
<
	gCh
 *>Ğ
	gm_wh”e
 );

95 
	g´iv©e
:

96 cÚ¡ *
m_wh©
;

97 * 
	gm_wh”e
;

106 #iâdeà
RAPIDXML_STATIC_POOL_SIZE


111 
	#RAPIDXML_STATIC_POOL_SIZE
 ( 64 * 1024 )

	)

114 #iâdeà
RAPIDXML_DYNAMIC_POOL_SIZE


119 
	#RAPIDXML_DYNAMIC_POOL_SIZE
 ( 64 * 1024 )

	)

122 #iâdeà
RAPIDXML_ALIGNMENT


129 
	#RAPIDXML_ALIGNMENT
 Ğ* )

	)

132 
Çme¥aû
 
	g¿pidxml
 {

134 
	g‹m¶©e
 <
şass
 
	gCh
> cÏs 
	gxml_node
;

135 
	g‹m¶©e
 <
şass
 
	gCh
> cÏs 
	gxml_©Œibu‹
;

136 
	g‹m¶©e
 <
şass
 
	gCh
> cÏs 
	gxml_docum’t
;

140 
	enode_ty³
 {

141 
	gnode_docum’t
,

142 
	gnode_–em’t
,

144 
	gnode_d©a
,

145 
	gnode_cd©a
,

146 
	gnode_comm’t
,

148 
	gnode_deş¬©iÚ
,

151 
	gnode_doùy³
,

153 
	gnode_pi


164 cÚ¡ 
	g·r£_no_d©a_nodes
 = 0x1;

174 cÚ¡ 
	g·r£_no_–em’t_v®ues
 = 0x2;

180 cÚ¡ 
	g·r£_no_¡ršg_‹rmš©Üs
 = 0x4;

186 cÚ¡ 
	g·r£_no_’t™y_Œª¦©iÚ
 = 0x8;

192 cÚ¡ 
	g·r£_no_utf8
 = 0x10;

199 cÚ¡ 
	g·r£_deş¬©iÚ_node
 = 0x20;

206 cÚ¡ 
	g·r£_comm’t_nodes
 = 0x40;

213 cÚ¡ 
	g·r£_doùy³_node
 = 0x80;

220 cÚ¡ 
	g·r£_pi_nodes
 = 0x100;

228 cÚ¡ 
	g·r£_v®id©e_şosšg_gs
 = 0x200;

234 cÚ¡ 
	g·r£_Œim_wh™e¥aû
 = 0x400;

242 cÚ¡ 
	g·r£_nÜm®ize_wh™e¥aû
 = 0x800;

254 cÚ¡ 
	g·r£_deçuÉ
 = 0;

264 cÚ¡ 
	g·r£_nÚ_de¡ruùive
 =

265 
·r£_no_¡ršg_‹rmš©Üs
 | 
·r£_no_’t™y_Œª¦©iÚ
;

269 cÚ¡ 
	g·r£_ç¡e¡
 = 
·r£_nÚ_de¡ruùive
 | 
·r£_no_d©a_nodes
;

274 cÚ¡ 
	g·r£_fuÎ
 = 
·r£_deş¬©iÚ_node
 | 
·r£_comm’t_nodes
 |

275 
·r£_doùy³_node
 | 
·r£_pi_nodes
 |

276 
·r£_v®id©e_şosšg_gs
;

282 
Çme¥aû
 
	gš‹º®
 {

287 
	g‹m¶©e
 <
	gDummy
> 
	slookup_bËs
 {

288 cÚ¡ 
	glookup_wh™e¥aû
[ 256 ];

289 cÚ¡ 
	glookup_node_Çme
[ 256 ];

290 cÚ¡ 
	glookup_‹xt
[ 256 ];

291 cÚ¡ 
	glookup_‹xt_pu»_no_ws
[ 256 ];

292 cÚ¡ 
	glookup_‹xt_pu»_w™h_ws
[ 256 ];

294 
	glookup_©Œibu‹_Çme
[ 256 ];

296 
	glookup_©Œibu‹_d©a_1
[ 256 ];

299 
	glookup_©Œibu‹_d©a_1_pu»
[ 256 ];

302 
	glookup_©Œibu‹_d©a_2
[ 256 ];

305 
	glookup_©Œibu‹_d©a_2_pu»
[ 256 ];

307 cÚ¡ 
	glookup_dig™s
[ 256 ];

308 cÚ¡ 
	glookup_upÿ£
[ 256 ];

313 
	g‹m¶©e
 <
şass
 
	gCh
> 
šlše
 
	g¡d
::
size_t
 
m—su»
ĞcÚ¡ 
Ch
 *
p
 ) {

314 cÚ¡ 
Ch
 *
tmp
 = 
p
;

315  *
	gtmp
 )

316 ++
	gtmp
;

317  
	gtmp
 - 
	gp
;

321 
	g‹m¶©e
 <
şass
 
	gCh
>

322 
šlše
 
boŞ
 
com·»
ĞcÚ¡ 
Ch
 *
p1
, 
¡d
::
size_t
 
size1
, cÚ¡ Ch *
p2
,

323 
¡d
::
size_t
 
size2
, 
boŞ
 
ÿ£_£ns™ive
 ) {

324 iàĞ
	gsize1
 !ğ
size2
 )  
çl£
;

325 iàĞ
	gÿ£_£ns™ive
 ) {

326  cÚ¡ 
Ch
 *
	g’d
 = 
p1
 + 
size1
; 
	gp1
 <ƒnd; ++p1, ++
	gp2
 )

327 iàĞ*
	gp1
 !ğ*
p2
 )  
çl£
;

329  cÚ¡ 
Ch
 *
	g’d
 = 
p1
 + 
size1
; 
	gp1
 <ƒnd; ++p1, ++
	gp2
 )

330 iàĞ
	glookup_bËs
<0>::
lookup_upÿ£
[ 
¡©ic_ÿ¡
<>(

331 *
p1
 ) ] !=

332 
lookup_bËs
<0>::
lookup_upÿ£
[ 
¡©ic_ÿ¡
<>(

333 *
p2
 ) ] )

334  
çl£
;

336  
	gŒue
;

380 
	g‹m¶©e
 <
şass
 
	gCh
 = > cÏs 
	cmemÜy_poŞ
 {

382 
public
:

384 *Ğ
	t®loc_func
 )(

385 
	t¡d
::
	tsize_t
 );

386 Ğ
	gä“_func
 )(

391 
memÜy_poŞ
()

392 : 
m_®loc_func
( 0 )

393 , 
m_ä“_func
( 0 ) {

394 
š™
();

400 ~
memÜy_poŞ
(è{ 
ş—r
(); }

413 
	gxml_node
<
	gCh
> *
®loÿ‹_node
Ğ
node_ty³
 
ty³
, cÚ¡ 
Ch
 *
Çme
 = 0,

414 cÚ¡ 
Ch
 *
v®ue
 = 0, 
¡d
::
size_t
 
Çme_size
 = 0,

415 
¡d
::
size_t
 
v®ue_size
 = 0 ) {

416 * 
memÜy
 = 
®loÿ‹_®igÃd
ĞĞ
xml_node
<
Ch
> ) );

417 
	gxml_node
<
	gCh
> *
	gnode
 = 
Ãw
 ( 
memÜy
 ) 
xml_node
<
Ch
>Ğ
ty³
 );

418 iàĞ
	gÇme
 ) {

419 iàĞ
	gÇme_size
 > 0 )

420 
	gnode
->
Çme
ĞÇme, 
Çme_size
 );

422 
	gnode
->
Çme
(‚ame );

424 iàĞ
	gv®ue
 ) {

425 iàĞ
	gv®ue_size
 > 0 )

426 
	gnode
->
v®ue
Ğv®ue, 
v®ue_size
 );

428 
	gnode
->
v®ue
( value );

430  
	gnode
;

444 
	gxml_©Œibu‹
<
	gCh
> *
®loÿ‹_©Œibu‹
ĞcÚ¡ 
Ch
 * 
Çme
 = 0,

445 cÚ¡ 
Ch
 * 
v®ue
 = 0,

446 
¡d
::
size_t
 
Çme_size
 = 0,

447 
¡d
::
size_t
 
v®ue_size
 = 0 ) {

448 * 
memÜy
 = 
®loÿ‹_®igÃd
ĞĞ
xml_©Œibu‹
<
Ch
> ) );

449 
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
Ãw
 ( 
memÜy
 ) 
xml_©Œibu‹
<
Ch
>;

450 iàĞ
	gÇme
 ) {

451 iàĞ
	gÇme_size
 > 0 )

452 
	g©Œibu‹
->
Çme
ĞÇme, 
Çme_size
 );

454 
	g©Œibu‹
->
Çme
(‚ame );

456 iàĞ
	gv®ue
 ) {

457 iàĞ
	gv®ue_size
 > 0 )

458 
	g©Œibu‹
->
v®ue
Ğv®ue, 
v®ue_size
 );

460 
	g©Œibu‹
->
v®ue
( value );

462  
	g©Œibu‹
;

475 
Ch
 *
®loÿ‹_¡ršg
ĞcÚ¡ Ch *
sourû
 = 0, 
¡d
::
size_t
 
size
 = 0 ) {

476 
as£¹
Ğ
sourû
 ||

477 
size
 );

478 iàĞ
	gsize
 =ğ0 ) 
size
 = 
š‹º®
::
m—su»
Ğ
sourû
 ) + 1;

479 
Ch
 *
	g»suÉ
 = 
¡©ic_ÿ¡
<Ch *>Ğ
®loÿ‹_®igÃd
Ğ
size
 * ( Ch ) ) );

480 iàĞ
	gsourû
 )

481  
	g¡d
::
size_t
 
i
 = 0; 
	gi
 < 
	gsize
; ++i )

482 
	g»suÉ
[ 
i
 ] = 
sourû
[ i ];

483  
	g»suÉ
;

496 
	gxml_node
<
	gCh
> *
şÚe_node
ĞcÚ¡ 
xml_node
<
Ch
> *
sourû
,

497 
xml_node
<
Ch
> * 
»suÉ
 = 0 ) {

499 iàĞ
»suÉ
 ) {

500 
»suÉ
->
»move_®l_©Œibu‹s
();

501 
	g»suÉ
->
»move_®l_nodes
();

502 
	g»suÉ
->
ty³
Ğ
sourû
->type() );

504 
	g»suÉ
 = 
®loÿ‹_node
Ğ
sourû
->
ty³
() );

507 
	g»suÉ
->
Çme
Ğ
sourû
->Çme(), sourû->
Çme_size
() );

508 
	g»suÉ
->
v®ue
Ğ
sourû
->v®ue(), sourû->
v®ue_size
() );

511  
	gxml_node
<
	gCh
> *
	gchd
 = 
sourû
->
fœ¡_node
(); child;

512 
	gchd
 = 
chd
->
Ãxt_siblšg
() )

513 
»suÉ
->
­³nd_node
Ğ
şÚe_node
Ğ
chd
 ) );

514  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œ
 = 
sourû
->
fœ¡_©Œibu‹
();‡ttr;

515 
	g©Œ
 = 
©Œ
->
Ãxt_©Œibu‹
() )

516 
»suÉ
->
­³nd_©Œibu‹
Ğ
®loÿ‹_©Œibu‹
Ğ
©Œ
->
Çme
(),‡‰r->
v®ue
(),

517 
©Œ
->
Çme_size
(),

518 
©Œ
->
v®ue_size
() ) );

520  
	g»suÉ
;

526 
ş—r
() {

527  
	gm_begš
 !ğ
m_¡©ic_memÜy
 ) {

528 *
´evious_begš
 =

529 
»š‹½»t_ÿ¡
<
h—d”
 *>Ğ
®ign
Ğ
m_begš
 ) )->
´evious_begš
;

530 iàĞ
	gm_ä“_func
 )

531 
m_ä“_func
Ğ
m_begš
 );

533 
	gd–‘e
[] 
	gm_begš
;

534 
	gm_begš
 = 
´evious_begš
;

536 
š™
();

553 
£t_®loÿtÜ
Ğ
®loc_func
 *
af
, 
ä“_func
 *
ff
 ) {

554 
as£¹
Ğ
m_begš
 =ğ
m_¡©ic_memÜy
 &&

555 
m_±r
 ==

556 
®ign
Ğ
m_begš
 ) );

557 
	gm_®loc_func
 = 
af
;

558 
	gm_ä“_func
 = 
ff
;

561 
	g´iv©e
:

562 
	sh—d”
 {

563 *
´evious_begš
;

566 
š™
() {

567 
	gm_begš
 = 
m_¡©ic_memÜy
;

568 
	gm_±r
 = 
®ign
Ğ
m_begš
 );

569 
	gm_’d
 = 
m_¡©ic_memÜy
 + ( m_static_memory );

572 *
®ign
Ğ*
±r
 ) {

573 
	g¡d
::
size_t
 
®ignm’t
 =

574 ĞĞ
RAPIDXML_ALIGNMENT
 -

575 Ğ
¡d
::
size_t
Ğ
±r
 ) & ( 
RAPIDXML_ALIGNMENT
 - 1 ) ) ) &

576 Ğ
RAPIDXML_ALIGNMENT
 - 1 ) );

577  
	g±r
 + 
	g®ignm’t
;

580 *
®loÿ‹_¿w
Ğ
¡d
::
size_t
 
size
 ) {

582 *
memÜy
;

583 iàĞ
	gm_®loc_func
 )

586 
	gmemÜy
 = 
m_®loc_func
Ğ
size
 );

587 
as£¹
Ğ
memÜy
 );

590 
	gmemÜy
 = 
Ãw
 [ 
size
 ];

591 #ifdeà
RAPIDXML_NO_EXCEPTIONS


592 iàĞ!
	gmemÜy
 )

595 
RAPIDXML_PARSE_ERROR
( "out of memory", 0 );

598  
	g¡©ic_ÿ¡
<*>Ğ
	gmemÜy
 );

601 *
®loÿ‹_®igÃd
Ğ
¡d
::
size_t
 
size
 ) {

603 *
»suÉ
 = 
®ign
Ğ
m_±r
 );

606 iàĞ
	g»suÉ
 + 
	gsize
 > 
	gm_’d
 ) {

609 
	g¡d
::
size_t
 
poŞ_size
 = 
RAPIDXML_DYNAMIC_POOL_SIZE
;

610 iàĞ
	gpoŞ_size
 < 
	gsize
 )…oŞ_sizğ
size
;

613 
	g¡d
::
size_t
 
®loc_size
 =

614 Ğ
h—d”
 ) + ( 2 * 
RAPIDXML_ALIGNMENT
 - 2 ) +

615 
poŞ_size
;

617 *
	g¿w_memÜy
 = 
®loÿ‹_¿w
Ğ
®loc_size
 );

620 * 
	gpoŞ
 = 
®ign
Ğ
¿w_memÜy
 );

621 
h—d”
 *
	gÃw_h—d”
 = 
»š‹½»t_ÿ¡
<h—d” *>Ğ
poŞ
 );

622 
	gÃw_h—d”
->
	g´evious_begš
 = 
m_begš
;

623 
	gm_begš
 = 
¿w_memÜy
;

624 
	gm_±r
 = 
poŞ
 + Ğ
h—d”
 );

625 
	gm_’d
 = 
¿w_memÜy
 + 
®loc_size
;

628 
	g»suÉ
 = 
®ign
Ğ
m_±r
 );

632 
	gm_±r
 = 
»suÉ
 + 
size
;

633  
	g»suÉ
;

636 * 
	gm_begš
;

637 * 
	gm_±r
;

638 * 
	gm_’d
;

639 
	gm_¡©ic_memÜy
[ 
RAPIDXML_STATIC_POOL_SIZE
 ];

640 
®loc_func
 *
	gm_®loc_func
;

641 
ä“_func
 * 
	gm_ä“_func
;

650 
	g‹m¶©e
 <
şass
 
	gCh
 = > cÏs 
	cxml_ba£
 {

652 
public
:

657 
xml_ba£
()

658 : 
m_Çme
( 0 )

659 , 
m_v®ue
( 0 )

660 , 
m_·»Á
( 0 ) {}

672 
Ch
 *
Çme
(ècÚ¡ {  
m_Çme
 ? m_Çm: 
nuÎ¡r
(); }

677 
	g¡d
::
size_t
 
Çme_size
(ècÚ¡ {  
m_Çme
 ? 
m_Çme_size
 : 0; }

686 
Ch
 *
v®ue
(ècÚ¡ {  
	gm_v®ue
 ? m_v®u: 
nuÎ¡r
(); }

691 
	g¡d
::
size_t
 
v®ue_size
(ècÚ¡ {  
m_v®ue
 ? 
m_v®ue_size
 : 0; }

710 
Çme
ĞcÚ¡ 
Ch
 *Çme, 
¡d
::
size_t
 
size
 ) {

711 
m_Çme
 = 
cÚ¡_ÿ¡
<
Ch
 *>Ğ
Çme
 );

712 
	gm_Çme_size
 = 
size
;

718 
Çme
ĞcÚ¡ 
Ch
 *Çmè{ 
	gthis
->ÇmeĞÇme, 
š‹º®
::
m—su»
(‚ame ) ); }

738 
v®ue
ĞcÚ¡ 
Ch
 *v®ue, 
¡d
::
size_t
 
size
 ) {

739 
m_v®ue
 = 
cÚ¡_ÿ¡
<
Ch
 *>Ğ
v®ue
 );

740 
	gm_v®ue_size
 = 
size
;

746 
v®ue
ĞcÚ¡ 
Ch
 *value ) {

747 
	gthis
->
v®ue
Ğv®ue, 
š‹º®
::
m—su»
( value ) );

755 
	gxml_node
<
	gCh
> *
·»Á
(ècÚ¡ {  
	gm_·»Á
; }

757 
	g´Ùeùed
:

759 
Ch
 *
nuÎ¡r
() {

760 
Ch
 
z”o
 = Ch( '\0' );

761  &
	gz”o
;

764 
Ch
 * 
	gm_Çme
;

765 
Ch
 * 
	gm_v®ue
;

766 
	g¡d
::
size_t
 
m_Çme_size
;

767 
	g¡d
::
size_t
 
m_v®ue_size
;

768 
	gxml_node
<
	gCh
> *
	gm_·»Á
;

777 
	g‹m¶©e
 <
şass
 
	gCh
 = > cÏs 
xml_©Œibu‹
 : 
public
 
xml_ba£
<
Ch
> {

779 
ä›nd
 
şass
 
xml_node
<
Ch
>;

781 
	gpublic
:

788 
xml_©Œibu‹
() {}

796 
xml_docum’t
<
Ch
> *
docum’t
() const {

797 iàĞ
xml_node
<
Ch
> *
node
 = 
this
->
·»Á
() ) {

798  
node
->
·»Á
() )

799 
node
 =‚ode->
·»Á
();

800  
	gnode
->
ty³
(è=ğ
node_docum’t


801 ? 
¡©ic_ÿ¡
<
xml_docum’t
<
Ch
> *>Ğ
node
 )

815 
	gxml_©Œibu‹
<
	gCh
> *
´evious_©Œibu‹
ĞcÚ¡ 
Ch
 * 
Çme
 = 0,

816 
¡d
::
size_t
 
Çme_size
 = 0,

817 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

818 iàĞ
Çme
 ) {

819 iàĞ
Çme_size
 =ğ0 )‚ame_sizğ
š‹º®
::
m—su»
Ğ
Çme
 );

820  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_´ev_©Œibu‹
;‡ttribute;

821 
	g©Œibu‹
 = 
©Œibu‹
->
m_´ev_©Œibu‹
 )

822 iàĞ
š‹º®
::
com·»
Ğ
©Œibu‹
->
Çme
(),‡‰ribu‹->
Çme_size
(),‚ame,

823 
Çme_size
, 
ÿ£_£ns™ive
 ) )

824  
	g©Œibu‹
;

827  
	gthis
->
	gm_·»Á
 ? 
	gm_´ev_©Œibu‹
 : 0;

838 
	gxml_©Œibu‹
<
	gCh
> *
Ãxt_©Œibu‹
ĞcÚ¡ 
Ch
 * 
Çme
 = 0,

839 
¡d
::
size_t
 
Çme_size
 = 0,

840 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

841 iàĞ
Çme
 ) {

842 iàĞ
Çme_size
 =ğ0 )‚ame_sizğ
š‹º®
::
m—su»
Ğ
Çme
 );

843  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_Ãxt_©Œibu‹
;‡ttribute;

844 
	g©Œibu‹
 = 
©Œibu‹
->
m_Ãxt_©Œibu‹
 )

845 iàĞ
š‹º®
::
com·»
Ğ
©Œibu‹
->
Çme
(),‡‰ribu‹->
Çme_size
(),‚ame,

846 
Çme_size
, 
ÿ£_£ns™ive
 ) )

847  
	g©Œibu‹
;

850  
	gthis
->
	gm_·»Á
 ? 
	gm_Ãxt_©Œibu‹
 : 0;

853 
	g´iv©e
:

854 
xml_©Œibu‹
<
Ch
>

855 *
m_´ev_©Œibu‹
;

857 
	gxml_©Œibu‹
<
	gCh
>

858 *
	gm_Ãxt_©Œibu‹
;

873 
	g‹m¶©e
 <
şass
 
	gCh
 = > cÏs 
xml_node
 : 
public
 
xml_ba£
<
Ch
> {

875 
public
:

882 
xml_node
Ğ
node_ty³
 
ty³
 )

883 : 
m_ty³
Ğ
ty³
 )

884 , 
m_fœ¡_node
( 0 )

885 , 
m_fœ¡_©Œibu‹
( 0 ) {}

892 
node_ty³
 
ty³
(ècÚ¡ {  
m_ty³
; }

900 
	gxml_docum’t
<
	gCh
> *
docum’t
() const {

901 
	gxml_node
<
	gCh
> *
	gnode
 = 
cÚ¡_ÿ¡
<
xml_node
<
Ch
> *>Ğ
this
 );

902  
	gnode
->
·»Á
() )

903 
	gnode
 = 
node
->
·»Á
();

904  
	gnode
->
ty³
(è=ğ
node_docum’t


905 ? 
¡©ic_ÿ¡
<
xml_docum’t
<
Ch
> *>Ğ
node
 )

917 
	gxml_node
<
	gCh
> *
fœ¡_node
ĞcÚ¡ 
Ch
 *
Çme
 = 0, 
¡d
::
size_t
 
Çme_size
 = 0,

918 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

919 iàĞ
Çme
 ) {

920 iàĞ
Çme_size
 =ğ0 )‚ame_sizğ
š‹º®
::
m—su»
Ğ
Çme
 );

921  
	gxml_node
<
	gCh
> *
	gchd
 = 
m_fœ¡_node
; child;

922 
	gchd
 = 
chd
->
Ãxt_siblšg
() )

923 iàĞ
š‹º®
::
com·»
Ğ
chd
->
Çme
(), chd->
Çme_size
(),‚ame,

924 
Çme_size
, 
ÿ£_£ns™ive
 ) )

925  
	gchd
;

928  
	gm_fœ¡_node
;

941 
	gxml_node
<
	gCh
> *
Ï¡_node
ĞcÚ¡ 
Ch
 *
Çme
 = 0, 
¡d
::
size_t
 
Çme_size
 = 0,

942 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

943 
as£¹
Ğ
m_fœ¡_node
 );

945 iàĞ
	gÇme
 ) {

946 iàĞ
	gÇme_size
 =ğ0 ) 
Çme_size
 = 
š‹º®
::
m—su»
Ğ
Çme
 );

947  
	gxml_node
<
	gCh
> *
	gchd
 = 
m_Ï¡_node
; child;

948 
	gchd
 = 
chd
->
´evious_siblšg
() )

949 iàĞ
š‹º®
::
com·»
Ğ
chd
->
Çme
(), chd->
Çme_size
(),‚ame,

950 
Çme_size
, 
ÿ£_£ns™ive
 ) )

951  
	gchd
;

954  
	gm_Ï¡_node
;

967 
	gxml_node
<
	gCh
> *
´evious_siblšg
ĞcÚ¡ 
Ch
 *
Çme
 = 0, 
¡d
::
size_t
 
Çme_size
 = 0,

968 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

969 
as£¹
Ğ
this
->
m_·»Á
 );

970 iàĞ
	gÇme
 ) {

971 iàĞ
	gÇme_size
 =ğ0 ) 
Çme_size
 = 
š‹º®
::
m—su»
Ğ
Çme
 );

972  
	gxml_node
<
	gCh
> *
	gsiblšg
 = 
m_´ev_siblšg
; sibling;

973 
	gsiblšg
 = 
siblšg
->
m_´ev_siblšg
 )

974 iàĞ
š‹º®
::
com·»
Ğ
siblšg
->
Çme
(), siblšg->
Çme_size
(),‚ame,

975 
Çme_size
, 
ÿ£_£ns™ive
 ) )

976  
	gsiblšg
;

979  
	gm_´ev_siblšg
;

992 
	gxml_node
<
	gCh
> *
Ãxt_siblšg
ĞcÚ¡ 
Ch
 *
Çme
 = 0, 
¡d
::
size_t
 
Çme_size
 = 0,

993 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

994 
as£¹
Ğ
this
->
m_·»Á
 );

995 iàĞ
	gÇme
 ) {

996 iàĞ
	gÇme_size
 =ğ0 ) 
Çme_size
 = 
š‹º®
::
m—su»
Ğ
Çme
 );

997  
	gxml_node
<
	gCh
> *
	gsiblšg
 = 
m_Ãxt_siblšg
; sibling;

998 
	gsiblšg
 = 
siblšg
->
m_Ãxt_siblšg
 )

999 iàĞ
š‹º®
::
com·»
Ğ
siblšg
->
Çme
(), siblšg->
Çme_size
(),‚ame,

1000 
Çme_size
, 
ÿ£_£ns™ive
 ) )

1001  
	gsiblšg
;

1004  
	gm_Ãxt_siblšg
;

1015 
	gxml_©Œibu‹
<
	gCh
> *
fœ¡_©Œibu‹
ĞcÚ¡ 
Ch
 * 
Çme
 = 0,

1016 
¡d
::
size_t
 
Çme_size
 = 0,

1017 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

1018 iàĞ
Çme
 ) {

1019 iàĞ
Çme_size
 =ğ0 )‚ame_sizğ
š‹º®
::
m—su»
Ğ
Çme
 );

1020  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_fœ¡_©Œibu‹
;‡ttribute;

1021 
	g©Œibu‹
 = 
©Œibu‹
->
m_Ãxt_©Œibu‹
 )

1022 iàĞ
š‹º®
::
com·»
Ğ
©Œibu‹
->
Çme
(),‡‰ribu‹->
Çme_size
(),‚ame,

1023 
Çme_size
, 
ÿ£_£ns™ive
 ) )

1024  
	g©Œibu‹
;

1027  
	gm_fœ¡_©Œibu‹
;

1038 
	gxml_©Œibu‹
<
	gCh
> *
Ï¡_©Œibu‹
ĞcÚ¡ 
Ch
 * 
Çme
 = 0,

1039 
¡d
::
size_t
 
Çme_size
 = 0,

1040 
boŞ
 
ÿ£_£ns™ive
 = 
Œue
 ) const {

1041 iàĞ
Çme
 ) {

1042 iàĞ
Çme_size
 =ğ0 )‚ame_sizğ
š‹º®
::
m—su»
Ğ
Çme
 );

1043  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_Ï¡_©Œibu‹
;‡ttribute;

1044 
	g©Œibu‹
 = 
©Œibu‹
->
m_´ev_©Œibu‹
 )

1045 iàĞ
š‹º®
::
com·»
Ğ
©Œibu‹
->
Çme
(),‡‰ribu‹->
Çme_size
(),‚ame,

1046 
Çme_size
, 
ÿ£_£ns™ive
 ) )

1047  
	g©Œibu‹
;

1050  
	gm_fœ¡_©Œibu‹
 ? 
	gm_Ï¡_©Œibu‹
 : 0;

1058 
ty³
Ğ
node_ty³
y³ ) { 
	gm_ty³
 =ype; }

1066 
´•’d_node
Ğ
xml_node
<
Ch
> *
chd
 ) {

1067 
as£¹
Ğ
chd
 && !chd->
·»Á
(è&& chd->
ty³
(è!ğ
node_docum’t
 );

1068 iàĞ
fœ¡_node
() ) {

1069 
	gchd
->
	gm_Ãxt_siblšg
 = 
m_fœ¡_node
;

1070 
	gm_fœ¡_node
->
	gm_´ev_siblšg
 = 
chd
;

1072 
	gchd
->
	gm_Ãxt_siblšg
 = 0;

1073 
	gm_Ï¡_node
 = 
chd
;

1075 
	gm_fœ¡_node
 = 
chd
;

1076 
	gchd
->
	gm_·»Á
 = 
this
;

1077 
	gchd
->
	gm_´ev_siblšg
 = 0;

1083 
­³nd_node
Ğ
xml_node
<
Ch
> *
chd
 ) {

1084 
as£¹
Ğ
chd
 && !chd->
·»Á
(è&& chd->
ty³
(è!ğ
node_docum’t
 );

1085 iàĞ
fœ¡_node
() ) {

1086 
	gchd
->
	gm_´ev_siblšg
 = 
m_Ï¡_node
;

1087 
	gm_Ï¡_node
->
	gm_Ãxt_siblšg
 = 
chd
;

1089 
	gchd
->
	gm_´ev_siblšg
 = 0;

1090 
	gm_fœ¡_node
 = 
chd
;

1092 
	gm_Ï¡_node
 = 
chd
;

1093 
	gchd
->
	gm_·»Á
 = 
this
;

1094 
	gchd
->
	gm_Ãxt_siblšg
 = 0;

1101 
š£¹_node
Ğ
xml_node
<
Ch
> *
wh”e
, xml_node<Ch> *
chd
 ) {

1102 
as£¹
Ğ!
wh”e
 || wh”e->
·»Á
(è=ğ
this
 );

1103 
as£¹
Ğ
chd
 && !chd->
·»Á
(è&& chd->
ty³
(è!ğ
node_docum’t
 );

1104 iàĞ
	gwh”e
 =ğ
m_fœ¡_node
 )

1105 
´•’d_node
Ğ
chd
 );

1106 iàĞ
	gwh”e
 == 0 )

1107 
­³nd_node
Ğ
chd
 );

1109 
	gchd
->
	gm_´ev_siblšg
 = 
wh”e
->
m_´ev_siblšg
;

1110 
	gchd
->
	gm_Ãxt_siblšg
 = 
wh”e
;

1111 
	gwh”e
->
	gm_´ev_siblšg
->
	gm_Ãxt_siblšg
 = 
chd
;

1112 
	gwh”e
->
	gm_´ev_siblšg
 = 
chd
;

1113 
	gchd
->
	gm_·»Á
 = 
this
;

1120 
»move_fœ¡_node
() {

1121 
as£¹
Ğ
fœ¡_node
() );

1122 
	gxml_node
<
	gCh
> *
	gchd
 = 
m_fœ¡_node
;

1123 
	gm_fœ¡_node
 = 
chd
->
m_Ãxt_siblšg
;

1124 iàĞ
	gchd
->
	gm_Ãxt_siblšg
 )

1125 
	gchd
->
	gm_Ãxt_siblšg
->
	gm_´ev_siblšg
 = 0;

1127 
	gm_Ï¡_node
 = 0;

1128 
	gchd
->
	gm_·»Á
 = 0;

1134 
»move_Ï¡_node
() {

1135 
as£¹
Ğ
fœ¡_node
() );

1136 
	gxml_node
<
	gCh
> *
	gchd
 = 
m_Ï¡_node
;

1137 iàĞ
	gchd
->
	gm_´ev_siblšg
 ) {

1138 
	gm_Ï¡_node
 = 
chd
->
m_´ev_siblšg
;

1139 
	gchd
->
	gm_´ev_siblšg
->
	gm_Ãxt_siblšg
 = 0;

1141 
	gm_fœ¡_node
 = 0;

1142 
	gchd
->
	gm_·»Á
 = 0;

1147 
»move_node
Ğ
xml_node
<
Ch
> *
wh”e
 ) {

1148 
as£¹
Ğ
wh”e
 && wh”e->
·»Á
(è=ğ
this
 );

1149 
as£¹
Ğ
fœ¡_node
() );

1150 iàĞ
	gwh”e
 =ğ
m_fœ¡_node
 )

1151 
»move_fœ¡_node
();

1152 iàĞ
	gwh”e
 =ğ
m_Ï¡_node
 )

1153 
»move_Ï¡_node
();

1155 
	gwh”e
->
	gm_´ev_siblšg
->
	gm_Ãxt_siblšg
 = 
wh”e
->
m_Ãxt_siblšg
;

1156 
	gwh”e
->
	gm_Ãxt_siblšg
->
	gm_´ev_siblšg
 = 
wh”e
->
m_´ev_siblšg
;

1157 
	gwh”e
->
	gm_·»Á
 = 0;

1162 
»move_®l_nodes
() {

1163  
	gxml_node
<
	gCh
> *
	gnode
 = 
fœ¡_node
();‚ode;‚odğ
node
->
m_Ãxt_siblšg
 )

1164 
node
->
m_·»Á
 = 0;

1165 
	gm_fœ¡_node
 = 0;

1170 
´•’d_©Œibu‹
Ğ
xml_©Œibu‹
<
Ch
> *
©Œibu‹
 ) {

1171 
as£¹
Ğ
©Œibu‹
 && !©Œibu‹->
·»Á
() );

1172 iàĞ
fœ¡_©Œibu‹
() ) {

1173 
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 
m_fœ¡_©Œibu‹
;

1174 
	gm_fœ¡_©Œibu‹
->
	gm_´ev_©Œibu‹
 = 
©Œibu‹
;

1176 
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 0;

1177 
	gm_Ï¡_©Œibu‹
 = 
©Œibu‹
;

1179 
	gm_fœ¡_©Œibu‹
 = 
©Œibu‹
;

1180 
	g©Œibu‹
->
	gm_·»Á
 = 
this
;

1181 
	g©Œibu‹
->
	gm_´ev_©Œibu‹
 = 0;

1186 
­³nd_©Œibu‹
Ğ
xml_©Œibu‹
<
Ch
> *
©Œibu‹
 ) {

1187 
as£¹
Ğ
©Œibu‹
 && !©Œibu‹->
·»Á
() );

1188 iàĞ
fœ¡_©Œibu‹
() ) {

1189 
	g©Œibu‹
->
	gm_´ev_©Œibu‹
 = 
m_Ï¡_©Œibu‹
;

1190 
	gm_Ï¡_©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 
©Œibu‹
;

1192 
	g©Œibu‹
->
	gm_´ev_©Œibu‹
 = 0;

1193 
	gm_fœ¡_©Œibu‹
 = 
©Œibu‹
;

1195 
	gm_Ï¡_©Œibu‹
 = 
©Œibu‹
;

1196 
	g©Œibu‹
->
	gm_·»Á
 = 
this
;

1197 
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 0;

1204 
š£¹_©Œibu‹
Ğ
xml_©Œibu‹
<
Ch
> *
wh”e
,

1205 
xml_©Œibu‹
<
Ch
> *
©Œibu‹
 ) {

1206 
as£¹
Ğ!
wh”e
 || wh”e->
·»Á
(è=ğ
this
 );

1207 
as£¹
Ğ
©Œibu‹
 && !©Œibu‹->
·»Á
() );

1208 iàĞ
	gwh”e
 =ğ
m_fœ¡_©Œibu‹
 )

1209 
´•’d_©Œibu‹
Ğ
©Œibu‹
 );

1210 iàĞ
	gwh”e
 == 0 )

1211 
­³nd_©Œibu‹
Ğ
©Œibu‹
 );

1213 
	g©Œibu‹
->
	gm_´ev_©Œibu‹
 = 
wh”e
->
m_´ev_©Œibu‹
;

1214 
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 
wh”e
;

1215 
	gwh”e
->
	gm_´ev_©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 
©Œibu‹
;

1216 
	gwh”e
->
	gm_´ev_©Œibu‹
 = 
©Œibu‹
;

1217 
	g©Œibu‹
->
	gm_·»Á
 = 
this
;

1224 
»move_fœ¡_©Œibu‹
() {

1225 
as£¹
Ğ
fœ¡_©Œibu‹
() );

1226 
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_fœ¡_©Œibu‹
;

1227 iàĞ
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
 ) {

1228 
	g©Œibu‹
->
	gm_Ãxt_©Œibu‹
->
	gm_´ev_©Œibu‹
 = 0;

1230 
	gm_Ï¡_©Œibu‹
 = 0;

1231 
	g©Œibu‹
->
	gm_·»Á
 = 0;

1232 
	gm_fœ¡_©Œibu‹
 = 
©Œibu‹
->
m_Ãxt_©Œibu‹
;

1238 
»move_Ï¡_©Œibu‹
() {

1239 
as£¹
Ğ
fœ¡_©Œibu‹
() );

1240 
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
m_Ï¡_©Œibu‹
;

1241 iàĞ
	g©Œibu‹
->
	gm_´ev_©Œibu‹
 ) {

1242 
	g©Œibu‹
->
	gm_´ev_©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 0;

1243 
	gm_Ï¡_©Œibu‹
 = 
©Œibu‹
->
m_´ev_©Œibu‹
;

1245 
	gm_fœ¡_©Œibu‹
 = 0;

1246 
	g©Œibu‹
->
	gm_·»Á
 = 0;

1251 
»move_©Œibu‹
Ğ
xml_©Œibu‹
<
Ch
> *
wh”e
 ) {

1252 
as£¹
Ğ
fœ¡_©Œibu‹
(è&& 
wh”e
->
·»Á
(è=ğ
this
 );

1253 iàĞ
	gwh”e
 =ğ
m_fœ¡_©Œibu‹
 )

1254 
»move_fœ¡_©Œibu‹
();

1255 iàĞ
	gwh”e
 =ğ
m_Ï¡_©Œibu‹
 )

1256 
»move_Ï¡_©Œibu‹
();

1258 
	gwh”e
->
	gm_´ev_©Œibu‹
->
	gm_Ãxt_©Œibu‹
 = 
wh”e
->
m_Ãxt_©Œibu‹
;

1259 
	gwh”e
->
	gm_Ãxt_©Œibu‹
->
	gm_´ev_©Œibu‹
 = 
wh”e
->
m_´ev_©Œibu‹
;

1260 
	gwh”e
->
	gm_·»Á
 = 0;

1265 
»move_®l_©Œibu‹s
() {

1266  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
fœ¡_©Œibu‹
();‡ttribute;

1267 
	g©Œibu‹
 = 
©Œibu‹
->
m_Ãxt_©Œibu‹
 )

1268 
©Œibu‹
->
m_·»Á
 = 0;

1269 
	gm_fœ¡_©Œibu‹
 = 0;

1272 
	g´iv©e
:

1277 
xml_node
( const xml_node & );

1278 
	gİ”©Ü
=ĞcÚ¡ 
xml_node
 & );

1295 
node_ty³
 
	gm_ty³
;

1296 
	gxml_node
<
	gCh
>

1297 *
	gm_fœ¡_node
;

1298 
	gxml_node
<
	gCh
> *
	gm_Ï¡_node
;

1300 
	gxml_©Œibu‹
<
	gCh
> *
	gm_fœ¡_©Œibu‹
;

1302 
	gxml_©Œibu‹
<
	gCh
> *
	gm_Ï¡_©Œibu‹
;

1305 
	gxml_node
<
	gCh
>

1306 *
	gm_´ev_siblšg
;

1308 
	gxml_node
<
	gCh
>

1309 *
	gm_Ãxt_siblšg
;

1323 
	g‹m¶©e
 <
şass
 
	gCh
 = >

1324 
şass
 
xml_docum’t
 : 
public
 
xml_node
<
Ch
>,…ubliø
	gmemÜy_poŞ
<
	gCh
> {

1326 
	gpublic
:

1328 
xml_docum’t
()

1329 : 
xml_node
<
Ch
>Ğ
node_docum’t
 ) {}

1343 
‹m¶©e
 <
FÏgs
> 
·r£
Ğ
Ch
 *
‹xt
 ) {

1344 
as£¹
Ğ
‹xt
 );

1347 
	gthis
->
»move_®l_nodes
();

1348 
	gthis
->
»move_®l_©Œibu‹s
();

1351 
	g·r£_bom
<
	gFÏgs
>Ğ
	g‹xt
 );

1356 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1357 iàĞ*
	g‹xt
 == 0 ) ;

1360 iàĞ*
	g‹xt
 =ğ
Ch
( '<' ) ) {

1361 ++
‹xt
;

1362 iàĞ
	gxml_node
<
	gCh
> *
	gnode
 = 
·r£_node
<
FÏgs
>Ğ
‹xt
 ) )

1363 
this
->
­³nd_node
Ğ
node
 );

1365 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed <", 
‹xt
 );

1371 
ş—r
() {

1372 
	gthis
->
»move_®l_nodes
();

1373 
	gthis
->
»move_®l_©Œibu‹s
();

1374 
	gmemÜy_poŞ
<
	gCh
>::
ş—r
();

1377 
	g´iv©e
:

1382 
	swh™e¥aû_´ed
 {

1383 
‹¡
Ğ
Ch
 
ch
 ) {

1384  
š‹º®
::
lookup_bËs
<

1385 0>::
lookup_wh™e¥aû
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1390 
	snode_Çme_´ed
 {

1391 
‹¡
Ğ
Ch
 
ch
 ) {

1392  
	gš‹º®
::
lookup_bËs
<

1393 0>::
lookup_node_Çme
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1398 
	s©Œibu‹_Çme_´ed
 {

1399 
‹¡
Ğ
Ch
 
ch
 ) {

1400  
	gš‹º®
::
lookup_bËs
<

1401 0>::
lookup_©Œibu‹_Çme
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1406 
	s‹xt_´ed
 {

1407 
‹¡
Ğ
Ch
 
ch
 ) {

1408  
	gš‹º®
::
lookup_bËs
<

1409 0>::
lookup_‹xt
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1414 
	s‹xt_pu»_no_ws_´ed
 {

1415 
‹¡
Ğ
Ch
 
ch
 ) {

1416  
	gš‹º®
::
lookup_bËs
<

1417 0>::
lookup_‹xt_pu»_no_ws
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1422 
	s‹xt_pu»_w™h_ws_´ed
 {

1423 
‹¡
Ğ
Ch
 
ch
 ) {

1424  
	gš‹º®
::
lookup_bËs
<

1425 0>::
lookup_‹xt_pu»_w™h_ws
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1430 
	g‹m¶©e
 <
Ch
 
	gQuÙe
> 
	s©Œibu‹_v®ue_´ed
 {

1431 
‹¡
Ğ
Ch
 
ch
 ) {

1432 iàĞ
	gQuÙe
 =ğ
Ch
( '\'' ) )

1433  
š‹º®
::
lookup_bËs
<

1434 0>::
lookup_©Œibu‹_d©a_1
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1435 iàĞ
	gQuÙe
 =ğ
Ch
( '\"' ) )

1436  
š‹º®
::
lookup_bËs
<

1437 0>::
lookup_©Œibu‹_d©a_2
[ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1443 
	g‹m¶©e
 <
Ch
 
	gQuÙe
> 
	s©Œibu‹_v®ue_pu»_´ed
 {

1444 
‹¡
Ğ
Ch
 
ch
 ) {

1445 iàĞ
	gQuÙe
 =ğ
Ch
( '\'' ) )

1446  
š‹º®
::
lookup_bËs
<0>::
lookup_©Œibu‹_d©a_1_pu»


1447 [ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1448 iàĞ
	gQuÙe
 =ğ
Ch
( '\"' ) )

1449  
š‹º®
::
lookup_bËs
<0>::
lookup_©Œibu‹_d©a_2_pu»


1450 [ 
¡©ic_ÿ¡
<>Ğ
ch
 ) ];

1456 
	g‹m¶©e
 <
	gFÏgs
>

1457 
š£¹_coded_ch¬aù”
Ğ
Ch
 *&
‹xt
, 
code
 ) {

1458 iàĞ
	gFÏgs
 & 
	g·r£_no_utf8
 ) {

1462 
	g‹xt
[ 0 ] = 
¡©ic_ÿ¡
<>Ğ
code
 );

1463 
	g‹xt
 += 1;

1466 iàĞ
	gcode
 < 0x80 )

1468 
	g‹xt
[ 0 ] = 
¡©ic_ÿ¡
<>Ğ
code
 );

1469 
	g‹xt
 += 1;

1470 } iàĞ
	gcode
 < 0x800 )

1472 
	g‹xt
[ 1 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1473 
	gcode
 >>= 6;

1474 
	g‹xt
[ 0 ] = 
¡©ic_ÿ¡
<>Ğ
code
 | 0xC0 );

1475 
	g‹xt
 += 2;

1476 } iàĞ
	gcode
 < 0x10000 )

1478 
	g‹xt
[ 2 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1479 
	gcode
 >>= 6;

1480 
	g‹xt
[ 1 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1481 
	gcode
 >>= 6;

1482 
	g‹xt
[ 0 ] = 
¡©ic_ÿ¡
<>Ğ
code
 | 0xE0 );

1483 
	g‹xt
 += 3;

1484 } iàĞ
	gcode
 < 0x110000 )

1486 
	g‹xt
[ 3 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1487 
	gcode
 >>= 6;

1488 
	g‹xt
[ 2 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1489 
	gcode
 >>= 6;

1490 
	g‹xt
[ 1 ] = 
¡©ic_ÿ¡
<>ĞĞ
code
 | 0x80 ) & 0xBF );

1491 
	gcode
 >>= 6;

1492 
	g‹xt
[ 0 ] = 
¡©ic_ÿ¡
<>Ğ
code
 | 0xF0 );

1493 
	g‹xt
 += 4;

1496 
RAPIDXML_PARSE_ERROR
Ğ"šv®id‚um”iøch¬aù”ƒÁ™y", 
‹xt
 );

1502 
	g‹m¶©e
 <
şass
 
	gStİP»d
, 
	gFÏgs
> 
sk
Ğ
Ch
 *&
‹xt
 ) {

1503 
Ch
 *
	gtmp
 = 
‹xt
;

1504  
	gStİP»d
::
‹¡
Ğ*
tmp
 ) )

1505 ++
tmp
;

1506 
	g‹xt
 = 
tmp
;

1514 
	g‹m¶©e
 <
şass
 
	gStİP»d
, cÏs 
	gStİP»dPu»
, 
	gFÏgs
>

1515 
Ch
 *
sk_ªd_ex·nd_ch¬aù”_»fs
ĞCh *&
‹xt
 ) {

1518 iàĞ
	gFÏgs
 & 
	g·r£_no_’t™y_Œª¦©iÚ
 &&

1519 !Ğ
	gFÏgs
 & 
	g·r£_nÜm®ize_wh™e¥aû
 ) &&

1520 !Ğ
	gFÏgs
 & 
	g·r£_Œim_wh™e¥aû
 ) ) {

1521 
	gsk
<
	gStİP»d
, 
	gFÏgs
>Ğ
	g‹xt
 );

1522  
	g‹xt
;

1526 
	gsk
<
	gStİP»dPu»
, 
	gFÏgs
>Ğ
	g‹xt
 );

1529 
Ch
 *
	g¤c
 = 
‹xt
;

1530 
Ch
 *
	gde¡
 = 
¤c
;

1531  
	gStİP»d
::
‹¡
Ğ*
¤c
 ) ) {

1533 iàĞ!Ğ
FÏgs
 & 
·r£_no_’t™y_Œª¦©iÚ
 ) ) {

1535 iàĞ
¤c
[ 0 ] =ğ
Ch
( '&' ) ) {

1536  
¤c
[ 1 ] ) {

1539 
Ch
( 'a' ):

1540 iàĞ
¤c
[ 2 ] =ğ
Ch
( 'm' ) && src[ 3 ] == Ch( 'p' ) &&

1541 
¤c
[ 4 ] =ğ
Ch
( ';' ) ) {

1542 *
de¡
 = 
Ch
( '&' );

1543 ++
	gde¡
;

1544 
	g¤c
 += 5;

1547 iàĞ
	g¤c
[ 2 ] =ğ
Ch
Ğ'p' ) && 
¤c
[ 3 ] == Ch( 'o' ) &&

1548 
¤c
[ 4 ] =ğ
Ch
( 's' ) && src[ 5 ] == Ch( ';' ) ) {

1549 *
de¡
 = 
Ch
( '\'' );

1550 ++
	gde¡
;

1551 
	g¤c
 += 6;

1557 
Ch
( 'q' ):

1558 iàĞ
¤c
[ 2 ] =ğ
Ch
( 'u' ) && src[ 3 ] == Ch( 'o' ) &&

1559 
¤c
[ 4 ] =ğ
Ch
( 't' ) && src[ 5 ] == Ch( ';' ) ) {

1560 *
de¡
 = 
Ch
( '"' );

1561 ++
	gde¡
;

1562 
	g¤c
 += 6;

1568 
Ch
( 'g' ):

1569 iàĞ
¤c
[ 2 ] =ğ
Ch
( 't' ) && src[ 3 ] == Ch( ';' ) ) {

1570 *
de¡
 = 
Ch
( '>' );

1571 ++
	gde¡
;

1572 
	g¤c
 += 4;

1578 
Ch
( 'l' ):

1579 iàĞ
¤c
[ 2 ] =ğ
Ch
( 't' ) && src[ 3 ] == Ch( ';' ) ) {

1580 *
de¡
 = 
Ch
( '<' );

1581 ++
	gde¡
;

1582 
	g¤c
 += 4;

1588 
Ch
( '#' ):

1589 iàĞ
¤c
[ 2 ] =ğ
Ch
( 'x' ) ) {

1590 
code
 = 0;

1591 
	g¤c
 += 3;

1593 
	gdig™
 = 
š‹º®
::
lookup_bËs
<

1594 0>::
lookup_dig™s
[ 
¡©ic_ÿ¡
<>Ğ*
¤c
 ) ];

1595 iàĞ
	gdig™
 == 0xFF ) ;

1596 
	gcode
 = 
code
 * 16 + 
dig™
;

1597 ++
	g¤c
;

1599 
	gš£¹_coded_ch¬aù”
<
	gFÏgs
>Ğ
	gde¡
,

1600 
	gcode
 );

1602 
	gcode
 = 0;

1603 
	g¤c
 += 2;

1605 
	gdig™
 = 
š‹º®
::
lookup_bËs
<

1606 0>::
lookup_dig™s
[ 
¡©ic_ÿ¡
<>Ğ*
¤c
 ) ];

1607 iàĞ
	gdig™
 == 0xFF ) ;

1608 
	gcode
 = 
code
 * 10 + 
dig™
;

1609 ++
	g¤c
;

1611 
	gš£¹_coded_ch¬aù”
<
	gFÏgs
>Ğ
	gde¡
,

1612 
	gcode
 );

1614 iàĞ*
	g¤c
 =ğ
Ch
( ';' ) )

1615 ++
¤c
;

1617 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed ;", 
¤c
 );

1629 iàĞ
	gFÏgs
 & 
	g·r£_nÜm®ize_wh™e¥aû
 ) {

1631 iàĞ
	gwh™e¥aû_´ed
::
‹¡
Ğ*
¤c
 ) ) {

1632 *
de¡
 = 
Ch
( ' ' );

1633 ++
	gde¡
;

1634 ++
	g¤c
;

1636  
	gwh™e¥aû_´ed
::
‹¡
Ğ*
¤c
 ) )

1637 ++
¤c
;

1643 *
	gde¡
++ = *
¤c
++;

1647 
	g‹xt
 = 
¤c
;

1648  
	gde¡
;

1655 
	g‹m¶©e
 <
	gFÏgs
> 
·r£_bom
Ğ
Ch
 *&
‹xt
 ) {

1657 iàĞ
	g¡©ic_ÿ¡
<>Ğ
	g‹xt
[ 0 ] ) == 0xEF &&

1658 
¡©ic_ÿ¡
<>Ğ
‹xt
[ 1 ] ) == 0xBB &&

1659 
¡©ic_ÿ¡
<>Ğ
‹xt
[ 2 ] ) == 0xBF ) {

1660 
‹xt
 += 3;

1665 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_xml_deş¬©iÚ
Ğ
Ch
 *&
‹xt
 ) {

1667 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_deş¬©iÚ_node
 ) ) {

1669  
	g‹xt
[ 0 ] !ğ
Ch
Ğ'?' ) || 
‹xt
[ 1 ] != Ch( '>' ) ) {

1670 iàĞ!
‹xt
[ 0 ] )

1671 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1672 ++
	g‹xt
;

1674 
	g‹xt
 += 2;

1679 
	gxml_node
<
	gCh
> *
	gdeş¬©iÚ
 = 
this
->
®loÿ‹_node
Ğ
node_deş¬©iÚ
 );

1682 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1685 
	g·r£_node_©Œibu‹s
<
	gFÏgs
>Ğ
	g‹xt
, 
	gdeş¬©iÚ
 );

1688 iàĞ
	g‹xt
[ 0 ] !ğ
Ch
Ğ'?' ) || 
‹xt
[ 1 ] != Ch( '>' ) )

1689 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed ?>", 
‹xt
 );

1690 
	g‹xt
 += 2;

1692  
	gdeş¬©iÚ
;

1696 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_comm’t
Ğ
Ch
 *&
‹xt
 ) {

1698 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_comm’t_nodes
 ) ) {

1700  
	g‹xt
[ 0 ] !ğ
Ch
Ğ'-' ) || 
‹xt
[ 1 ] != Ch( '-' ) ||

1701 
‹xt
[ 2 ] !ğ
Ch
( '>' ) ) {

1702 iàĞ!
‹xt
[ 0 ] )

1703 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1704 ++
	g‹xt
;

1706 
	g‹xt
 += 3;

1711 
Ch
 *
	gv®ue
 = 
‹xt
;

1714  
	g‹xt
[ 0 ] !ğ
Ch
Ğ'-' ) || 
‹xt
[ 1 ] != Ch( '-' ) ||

1715 
‹xt
[ 2 ] !ğ
Ch
( '>' ) ) {

1716 iàĞ!
‹xt
[ 0 ] ) 
RAPIDXML_PARSE_ERROR
( "unexpectedƒnd of data",ext );

1717 ++
	g‹xt
;

1721 
	gxml_node
<
	gCh
> *
	gcomm’t
 = 
this
->
®loÿ‹_node
Ğ
node_comm’t
 );

1722 
	gcomm’t
->
v®ue
Ğv®ue, 
‹xt
 - value );

1725 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) ) *
	g‹xt
 = 
Ch
( '\0' );

1727 
	g‹xt
 += 3;

1728  
	gcomm’t
;

1732 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_doùy³
Ğ
Ch
 *&
‹xt
 ) {

1734 
Ch
 *
	gv®ue
 = 
‹xt
;

1737  *
	g‹xt
 !ğ
Ch
( '>' ) ) {

1739  *
‹xt
 ) {

1744 
Ch
( '[' ): {

1745 ++
‹xt
;

1746 
	gd•th
 = 1;

1747  
	gd•th
 > 0 ) {

1748  *
	g‹xt
 ) {

1749 
Ch
( '[' ):

1750 ++
d•th
;

1752 
Ch
( ']' ):

1753 --
d•th
;

1756 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1758 ++
	g‹xt
;

1764 
Ch
( '\0' ):

1765 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1769 ++
‹xt
;

1774 iàĞ
	gFÏgs
 & 
	g·r£_doùy³_node
 ) {

1776 
	gxml_node
<
	gCh
> *
	gdoùy³
 = 
this
->
®loÿ‹_node
Ğ
node_doùy³
 );

1777 
	gdoùy³
->
v®ue
Ğv®ue, 
‹xt
 - value );

1780 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) ) *
	g‹xt
 = 
Ch
( '\0' );

1782 
	g‹xt
 += 1;

1783  
	gdoùy³
;

1785 
	g‹xt
 += 1;

1791 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_pi
Ğ
Ch
 *&
‹xt
 ) {

1793 iàĞ
	gFÏgs
 & 
	g·r£_pi_nodes
 ) {

1795 
	gxml_node
<
	gCh
> *
	gpi
 = 
this
->
®loÿ‹_node
Ğ
node_pi
 );

1798 
Ch
 *
	gÇme
 = 
‹xt
;

1799 
	gsk
<
	gnode_Çme_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1800 iàĞ
	g‹xt
 =ğ
Çme
 ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed PI¬g‘", 
‹xt
 );

1801 
	gpi
->
Çme
ĞÇme, 
‹xt
 -‚ame );

1804 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1807 
Ch
 *
	gv®ue
 = 
‹xt
;

1810  
	g‹xt
[ 0 ] !ğ
Ch
Ğ'?' ) || 
‹xt
[ 1 ] != Ch( '>' ) ) {

1811 iàĞ*
‹xt
 =ğ
Ch
( '\0' ) )

1812 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1813 ++
	g‹xt
;

1818 
	gpi
->
v®ue
Ğv®ue, 
‹xt
 - value );

1821 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) ) {

1822 
	gpi
->
Çme
()[ 
pi
->
Çme_size
(è] = 
Ch
( '\0' );

1823 
	gpi
->
v®ue
()[ 
pi
->
v®ue_size
(è] = 
Ch
( '\0' );

1826 
	g‹xt
 += 2;

1827  
	gpi
;

1830  
	g‹xt
[ 0 ] !ğ
Ch
Ğ'?' ) || 
‹xt
[ 1 ] != Ch( '>' ) ) {

1831 iàĞ*
‹xt
 =ğ
Ch
( '\0' ) )

1832 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1833 ++
	g‹xt
;

1835 
	g‹xt
 += 2;

1844 
	g‹m¶©e
 <
	gFÏgs
>

1845 
Ch
 
·r£_ªd_­³nd_d©a
Ğ
xml_node
<Ch> *
node
, Ch *&
‹xt
,

1846 
Ch
 *
cÚ‹Ás_¡¬t
 ) {

1848 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_Œim_wh™e¥aû
 ) ) 
	g‹xt
 = 
cÚ‹Ás_¡¬t
;

1851 
Ch
 *
	gv®ue
 = 
‹xt
, *
	g’d
;

1852 iàĞ
	gFÏgs
 & 
	g·r£_nÜm®ize_wh™e¥aû
 )

1853 
	g’d
 = 
sk_ªd_ex·nd_ch¬aù”_»fs
<
‹xt_´ed
, 
	g‹xt_pu»_w™h_ws_´ed
,

1854 
	gFÏgs
>Ğ
	g‹xt
 );

1856 
	g’d
 = 
sk_ªd_ex·nd_ch¬aù”_»fs
<
‹xt_´ed
, 
	g‹xt_pu»_no_ws_´ed
,

1857 
	gFÏgs
>Ğ
	g‹xt
 );

1861 iàĞ
	gFÏgs
 & 
	g·r£_Œim_wh™e¥aû
 ) {

1862 iàĞ
	gFÏgs
 & 
	g·r£_nÜm®ize_wh™e¥aû
 ) {

1865 iàĞ*Ğ
	g’d
 - 1 ) =ğ
Ch
Ğ' ' ) ) --
’d
;

1868  
	gwh™e¥aû_´ed
::
‹¡
Ğ*Ğ
’d
 - 1 ) ) )

1869 --
’d
;

1875 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_d©a_nodes
 ) ) {

1876 
	gxml_node
<
	gCh
> *
	gd©a
 = 
this
->
®loÿ‹_node
Ğ
node_d©a
 );

1877 
	gd©a
->
v®ue
Ğv®ue, 
’d
 - value );

1878 
	gnode
->
­³nd_node
Ğ
d©a
 );

1882 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_–em’t_v®ues
 ) )

1883 iàĞ*
	gnode
->
v®ue
(è=ğ
Ch
Ğ'\0' ) ) 
node
->v®ueĞv®ue, 
’d
 - value );

1886 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) ) {

1887 
Ch
 
	gch
 = *
‹xt
;

1888 *
	g’d
 = 
Ch
( '\0' );

1889  
	gch
;

1894  *
	g‹xt
;

1898 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_cd©a
Ğ
Ch
 *&
‹xt
 ) {

1900 iàĞ
	gFÏgs
 & 
	g·r£_no_d©a_nodes
 ) {

1902  
	g‹xt
[ 0 ] !ğ
Ch
Ğ']' ) || 
‹xt
[ 1 ] != Ch( ']' ) ||

1903 
‹xt
[ 2 ] !ğ
Ch
( '>' ) ) {

1904 iàĞ!
‹xt
[ 0 ] )

1905 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

1906 ++
	g‹xt
;

1908 
	g‹xt
 += 3;

1913 
Ch
 *
	gv®ue
 = 
‹xt
;

1914  
	g‹xt
[ 0 ] !ğ
Ch
Ğ']' ) || 
‹xt
[ 1 ] != Ch( ']' ) ||

1915 
‹xt
[ 2 ] !ğ
Ch
( '>' ) ) {

1916 iàĞ!
‹xt
[ 0 ] ) 
RAPIDXML_PARSE_ERROR
( "unexpectedƒnd of data",ext );

1917 ++
	g‹xt
;

1921 
	gxml_node
<
	gCh
> *
	gcd©a
 = 
this
->
®loÿ‹_node
Ğ
node_cd©a
 );

1922 
	gcd©a
->
v®ue
Ğv®ue, 
‹xt
 - value );

1925 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) ) *
	g‹xt
 = 
Ch
( '\0' );

1927 
	g‹xt
 += 3;

1928  
	gcd©a
;

1932 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_–em’t
Ğ
Ch
 *&
‹xt
 ) {

1934 
	gxml_node
<
	gCh
> *
	g–em’t
 = 
this
->
®loÿ‹_node
Ğ
node_–em’t
 );

1937 
Ch
 *
	gÇme
 = 
‹xt
;

1938 
	gsk
<
	gnode_Çme_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1939 iàĞ
	g‹xt
 =ğ
Çme
 ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùedƒËm’ˆÇme", 
‹xt
 );

1940 
	g–em’t
->
Çme
ĞÇme, 
‹xt
 -‚ame );

1943 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

1946 
	g·r£_node_©Œibu‹s
<
	gFÏgs
>Ğ
	g‹xt
, 
	g–em’t
 );

1949 iàĞ*
	g‹xt
 =ğ
Ch
( '>' ) ) {

1950 ++
‹xt
;

1951 
	g·r£_node_cÚ‹Ás
<
	gFÏgs
>Ğ
	g‹xt
, 
	g–em’t
 );

1952 } iàĞ*
	g‹xt
 =ğ
Ch
( '/' ) ) {

1953 ++
‹xt
;

1954 iàĞ*
	g‹xt
 !ğ
Ch
Ğ'>' ) ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed >", 
‹xt
 );

1955 ++
	g‹xt
;

1957 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed >", 
‹xt
 );

1960 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) )

1961 
	g–em’t
->
Çme
()[ 
–em’t
->
Çme_size
(è] = 
Ch
( '\0' );

1964  
	g–em’t
;

1968 
	g‹m¶©e
 <
	gFÏgs
> 
	gxml_node
<
	gCh
> *
·r£_node
Ğ
Ch
 *&
‹xt
 ) {

1970  
	g‹xt
[ 0 ] ) {

1975  
·r£_–em’t
<
FÏgs
>Ğ
‹xt
 );

1978 
Ch
( '?' ):

1979 ++
‹xt
;

1980 iàĞĞ
	g‹xt
[ 0 ] =ğ
Ch
Ğ'x' ) || 
‹xt
[ 0 ] == Ch( 'X' ) ) &&

1981 Ğ
‹xt
[ 1 ] =ğ
Ch
( 'm' ) ||ext[ 1 ] == Ch( 'M' ) ) &&

1982 Ğ
‹xt
[ 2 ] =ğ
Ch
( 'l' ) ||ext[ 2 ] == Ch( 'L' ) ) &&

1983 
wh™e¥aû_´ed
::
‹¡
Ğ
‹xt
[ 3 ] ) ) {

1985 
‹xt
 += 4;

1986  
	g·r£_xml_deş¬©iÚ
<
	gFÏgs
>Ğ
	g‹xt
 );

1989  
	g·r£_pi
<
	gFÏgs
>Ğ
	g‹xt
 );

1993 
Ch
( '!' ):

1996  
‹xt
[ 1 ] ) {

1999 
Ch
( '-' ):

2000 iàĞ
‹xt
[ 2 ] =ğ
Ch
( '-' ) ) {

2002 
‹xt
 += 3;

2003  
	g·r£_comm’t
<
	gFÏgs
>Ğ
	g‹xt
 );

2008 
Ch
( '[' ):

2009 iàĞ
‹xt
[ 2 ] =ğ
Ch
( 'C' ) &&ext[ 3 ] == Ch( 'D' ) &&

2010 
‹xt
[ 4 ] =ğ
Ch
( 'A' ) &&ext[ 5 ] == Ch( 'T' ) &&

2011 
‹xt
[ 6 ] =ğ
Ch
( 'A' ) &&ext[ 7 ] == Ch( '[' ) ) {

2013 
‹xt
 += 8;

2014  
	g·r£_cd©a
<
	gFÏgs
>Ğ
	g‹xt
 );

2019 
Ch
( 'D' ):

2020 iàĞ
‹xt
[ 2 ] =ğ
Ch
( 'O' ) &&ext[ 3 ] == Ch( 'C' ) &&

2021 
‹xt
[ 4 ] =ğ
Ch
( 'T' ) &&ext[ 5 ] == Ch( 'Y' ) &&

2022 
‹xt
[ 6 ] =ğ
Ch
( 'P' ) &&ext[ 7 ] == Ch( 'E' ) &&

2023 
wh™e¥aû_´ed
::
‹¡
Ğ
‹xt
[ 8 ] ) ) {

2025 
‹xt
 += 9;

2026  
	g·r£_doùy³
<
	gFÏgs
>Ğ
	g‹xt
 );

2032 ++
	g‹xt
;

2033  *
	g‹xt
 !ğ
Ch
( '>' ) ) {

2034 iàĞ*
‹xt
 == 0 )

2035 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

2036 ++
	g‹xt
;

2038 ++
	g‹xt
;

2044 
	g‹m¶©e
 <
	gFÏgs
>

2045 
·r£_node_cÚ‹Ás
Ğ
Ch
 *&
‹xt
, 
xml_node
<Ch> *
node
 ) {

2049 
Ch
 *
	gcÚ‹Ás_¡¬t
 = 
‹xt
;

2051 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2052 
Ch
 
	gÃxt_ch¬
 = *
‹xt
;

2058 
	gaá”_d©a_node
:

2062  
Ãxt_ch¬
 ) {

2065 
Ch
( '<' ):

2066 iàĞ
‹xt
[ 1 ] =ğ
Ch
( '/' ) ) {

2068 
‹xt
 += 2;

2069 iàĞ
	gFÏgs
 & 
	g·r£_v®id©e_şosšg_gs
 ) {

2071 
Ch
 *
	gşosšg_Çme
 = 
‹xt
;

2072 
	gsk
<
	gnode_Çme_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2073 iàĞ!
	gš‹º®
::
com·»
Ğ
node
->
Çme
(),‚ode->
Çme_size
(),

2074 
şosšg_Çme
, 
‹xt
 - closšg_Çme, 
Œue
 ) )

2075 
RAPIDXML_PARSE_ERROR
Ğ"šv®id closšgag‚ame", 
‹xt
 );

2078 
	gsk
<
	gnode_Çme_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2081 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2082 iàĞ*
	g‹xt
 !ğ
Ch
Ğ'>' ) ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed >", 
‹xt
 );

2083 ++
	g‹xt
;

2087 ++
	g‹xt
;

2088 iàĞ
	gxml_node
<
	gCh
> *
	gchd
 = 
·r£_node
<
FÏgs
>Ğ
‹xt
 ) )

2089 
node
->
­³nd_node
Ğ
chd
 );

2094 
Ch
( '\0' ):

2095 
RAPIDXML_PARSE_ERROR
Ğ"uÃx³ùedƒnd oàd©a", 
‹xt
 );

2099 
Ãxt_ch¬
 = 
·r£_ªd_­³nd_d©a
<
FÏgs
>Ğ
node
, 
	g‹xt
, 
	gcÚ‹Ás_¡¬t
 );

2100 
	gaá”_d©a_node
;

2107 
	g‹m¶©e
 <
	gFÏgs
>

2108 
·r£_node_©Œibu‹s
Ğ
Ch
 *&
‹xt
, 
xml_node
<Ch> *
node
 ) {

2110  
	g©Œibu‹_Çme_´ed
::
‹¡
Ğ*
‹xt
 ) ) {

2112 
Ch
 *
Çme
 = 
‹xt
;

2113 ++
	g‹xt
;

2114 
	gsk
<
	g©Œibu‹_Çme_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2115 iàĞ
	g‹xt
 =ğ
Çme
 )

2116 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed‡‰ribu‹‚ame", 
Çme
 );

2119 
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
this
->
®loÿ‹_©Œibu‹
();

2120 
	g©Œibu‹
->
Çme
ĞÇme, 
‹xt
 -‚ame );

2121 
	gnode
->
­³nd_©Œibu‹
Ğ
©Œibu‹
 );

2124 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2127 iàĞ*
	g‹xt
 !ğ
Ch
Ğ'=' ) ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed =", 
‹xt
 );

2128 ++
	g‹xt
;

2131 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) )

2132 
	g©Œibu‹
->
Çme
()[ 
©Œibu‹
->
Çme_size
() ] = 0;

2135 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2138 
Ch
 
	gquÙe
 = *
‹xt
;

2139 iàĞ
	gquÙe
 !ğ
Ch
Ğ'\'' ) && 
quÙe
 != Ch( '"' ) )

2140 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed ' o¸\"", 
‹xt
 );

2141 ++
	g‹xt
;

2144 
Ch
 * 
	gv®ue
 = 
‹xt
, *
	g’d
;

2145 cÚ¡ 
	gA‰FÏgs
 =

2146 
FÏgs
 & ~
·r£_nÜm®ize_wh™e¥aû
;

2148 iàĞ
	gquÙe
 =ğ
Ch
( '\'' ) )

2149 
’d
 = 
sk_ªd_ex·nd_ch¬aù”_»fs
<

2150 
©Œibu‹_v®ue_´ed
<
Ch
( '\'' )>,

2151 
	g©Œibu‹_v®ue_pu»_´ed
<
Ch
Ğ'\'' )>, 
	gA‰FÏgs
>Ğ
	g‹xt
 );

2153 
	g’d
 =

2154 
sk_ªd_ex·nd_ch¬aù”_»fs
<
©Œibu‹_v®ue_´ed
<
Ch
( '"' )>,

2155 
	g©Œibu‹_v®ue_pu»_´ed
<
Ch
( '"' )>,

2156 
	gA‰FÏgs
>Ğ
	g‹xt
 );

2159 
	g©Œibu‹
->
v®ue
Ğv®ue, 
’d
 - value );

2162 iàĞ*
	g‹xt
 !ğ
quÙe
 ) 
RAPIDXML_PARSE_ERROR
Ğ"ex³ùed ' o¸\"", 
‹xt
 );

2163 ++
	g‹xt
;

2166 iàĞ!Ğ
	gFÏgs
 & 
	g·r£_no_¡ršg_‹rmš©Üs
 ) )

2167 
	g©Œibu‹
->
v®ue
()[ 
©Œibu‹
->
v®ue_size
() ] = 0;

2170 
	gsk
<
	gwh™e¥aû_´ed
, 
	gFÏgs
>Ğ
	g‹xt
 );

2176 
Çme¥aû
 
	gš‹º®
 {

2179 
	g‹m¶©e
 <
	gDummy
>

2180 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_wh™e¥aû
[ 256 ] = {

2201 
	g‹m¶©e
 <
	gDummy
>

2202 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_node_Çme
[ 256 ] = {

2223 
	g‹m¶©e
 <
	gDummy
>

2224 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_‹xt
[ 256 ] = {

2246 
	g‹m¶©e
 <
	gDummy
>

2247 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_‹xt_pu»_no_ws
[ 256 ] = {

2269 
	g‹m¶©e
 <
	gDummy
>

2270 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_‹xt_pu»_w™h_ws
[ 256 ] = {

2291 
	g‹m¶©e
 <
	gDummy
>

2292 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_©Œibu‹_Çme
[ 256 ] = {

2313 
	g‹m¶©e
 <
	gDummy
>

2314 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_©Œibu‹_d©a_1
[ 256 ] = {

2336 
	g‹m¶©e
 <
	gDummy
>

2337 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_©Œibu‹_d©a_1_pu»
[ 256 ] =

2359 
	g‹m¶©e
 <
	gDummy
>

2360 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_©Œibu‹_d©a_2
[ 256 ] = {

2382 
	g‹m¶©e
 <
	gDummy
>

2383 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_©Œibu‹_d©a_2_pu»
[ 256 ] =

2405 
	g‹m¶©e
 <
	gDummy
>

2406 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_dig™s
[ 256 ] = {

2443 
	g‹m¶©e
 <
	gDummy
>

2444 cÚ¡ 
	glookup_bËs
<
	gDummy
>::
lookup_upÿ£
[ 256 ] = {

2485 #undeà
RAPIDXML_PARSE_ERROR


2488 #ifdeà
_MSC_VER


2489 #´agm¨
w¬nšg
Ğ
pİ
 )

	@include/io/rapidxml_iterators.hpp

1 #iâdeà
RAPIDXML_ITERATORS_HPP_INCLUDED


2 
	#RAPIDXML_ITERATORS_HPP_INCLUDED


	)

9 
	~"¿pidxml.hµ
"

11 
Çme¥aû
 
	g¿pidxml
 {

14 
	g‹m¶©e
 <
şass
 
	gCh
> cÏs 
	cnode_™”©Ü
 {

16 
	gpublic
:

17 
ty³Çme
 
	txml_node
<
	tCh
> 
	tv®ue_ty³
;

18 
ty³Çme
 
	txml_node
<
	tCh
> & 
	t»ã»nû
;

19 
ty³Çme
 
	txml_node
<
	tCh
> * 
	tpoš‹r
;

20 
	g¡d
::
	t±rdiff_t
 
	tdifã»nû_ty³
;

21 
	g¡d
::
	tbidœeùiÚ®_™”©Ü_g
 
	t™”©Ü_ÿ‹gÜy
;

23 
node_™”©Ü
()

24 : 
m_node
( 0 ) {}

26 
node_™”©Ü
Ğ
xml_node
<
Ch
> *
node
 )

27 : 
m_node
Ğ
node
->
fœ¡_node
() ) {}

29 
»ã»nû
 
İ”©Ü
*() const {

30 
as£¹
Ğ
m_node
 );

31  *
	gm_node
;

34 
poš‹r
 
	gİ”©Ü
->() const {

35 
as£¹
Ğ
m_node
 );

36  
	gm_node
;

39 
	gnode_™”©Ü
 &
	gİ”©Ü
++() {

40 
as£¹
Ğ
m_node
 );

41 
	gm_node
 = 
m_node
->
Ãxt_siblšg
();

42  *
	gthis
;

45 
node_™”©Ü
 
	gİ”©Ü
++( ) {

46 
node_™”©Ü
 
	gtmp
 = *
this
;

47 ++
	gthis
;

48  
	gtmp
;

51 
	gnode_™”©Ü
 &
	gİ”©Ü
--() {

52 
as£¹
Ğ
m_node
 && m_node->
´evious_siblšg
() );

53 
	gm_node
 = 
m_node
->
´evious_siblšg
();

54  *
	gthis
;

57 
node_™”©Ü
 
	gİ”©Ü
--( ) {

58 
node_™”©Ü
 
	gtmp
 = *
this
;

59 ++
	gthis
;

60  
	gtmp
;

63 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
node_™”©Ü
<
Ch
> &
rhs
 ) {

64  
m_node
 =ğ
rhs
.m_node;

67 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
node_™”©Ü
<
Ch
> &
rhs
 ) {

68  
m_node
 !ğ
rhs
.m_node;

71 
	g´iv©e
:

72 
xml_node
<
Ch
> *
m_node
;

76 
	g‹m¶©e
 <
şass
 
	gCh
> cÏs 
	c©Œibu‹_™”©Ü
 {

78 
	gpublic
:

79 
ty³Çme
 
	txml_©Œibu‹
<
	tCh
> 
	tv®ue_ty³
;

80 
ty³Çme
 
	txml_©Œibu‹
<
	tCh
> & 
	t»ã»nû
;

81 
ty³Çme
 
	txml_©Œibu‹
<
	tCh
> * 
	tpoš‹r
;

82 
	g¡d
::
	t±rdiff_t
 
	tdifã»nû_ty³
;

83 
	g¡d
::
	tbidœeùiÚ®_™”©Ü_g
 
	t™”©Ü_ÿ‹gÜy
;

85 
©Œibu‹_™”©Ü
()

86 : 
m_©Œibu‹
( 0 ) {}

88 
©Œibu‹_™”©Ü
Ğ
xml_node
<
Ch
> *
node
 )

89 : 
m_©Œibu‹
Ğ
node
->
fœ¡_©Œibu‹
() ) {}

91 
»ã»nû
 
İ”©Ü
*() const {

92 
as£¹
Ğ
m_©Œibu‹
 );

93  *
	gm_©Œibu‹
;

96 
poš‹r
 
	gİ”©Ü
->() const {

97 
as£¹
Ğ
m_©Œibu‹
 );

98  
	gm_©Œibu‹
;

101 
	g©Œibu‹_™”©Ü
 &
	gİ”©Ü
++() {

102 
as£¹
Ğ
m_©Œibu‹
 );

103 
	gm_©Œibu‹
 = 
m_©Œibu‹
->
Ãxt_©Œibu‹
();

104  *
	gthis
;

107 
©Œibu‹_™”©Ü
 
	gİ”©Ü
++( ) {

108 
©Œibu‹_™”©Ü
 
	gtmp
 = *
this
;

109 ++
	gthis
;

110  
	gtmp
;

113 
	g©Œibu‹_™”©Ü
 &
	gİ”©Ü
--() {

114 
as£¹
Ğ
m_©Œibu‹
 && m_©Œibu‹->
´evious_©Œibu‹
() );

115 
	gm_©Œibu‹
 = 
m_©Œibu‹
->
´evious_©Œibu‹
();

116  *
	gthis
;

119 
©Œibu‹_™”©Ü
 
	gİ”©Ü
--( ) {

120 
©Œibu‹_™”©Ü
 
	gtmp
 = *
this
;

121 ++
	gthis
;

122  
	gtmp
;

125 
boŞ
 
	gİ”©Ü
==ĞcÚ¡ 
©Œibu‹_™”©Ü
<
Ch
> &
rhs
 ) {

126  
m_©Œibu‹
 =ğ
rhs
.m_attribute;

129 
boŞ
 
	gİ”©Ü
!=ĞcÚ¡ 
©Œibu‹_™”©Ü
<
Ch
> &
rhs
 ) {

130  
m_©Œibu‹
 !ğ
rhs
.m_attribute;

133 
	g´iv©e
:

134 
xml_©Œibu‹
<
Ch
> *
m_©Œibu‹
;

	@include/io/rapidxml_print.hpp

1 #iâdeà
RAPIDXML_PRINT_HPP_INCLUDED


2 
	#RAPIDXML_PRINT_HPP_INCLUDED


	)

9 
	~"¿pidxml.hµ
"

12 #iâdeà
RAPIDXML_NO_STREAMS


13 
	~<™”©Ü
>

14 
	~<o¡»am
>

17 
Çme¥aû
 
	g¿pidxml
 {

22 cÚ¡ 
	g´št_no_šd’tšg
 =

30 
Çme¥aû
 
	gš‹º®
 {

36 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

37 
šlše
 
OutIt
 
cİy_ch¬s
ĞcÚ¡ 
Ch
 *
begš
, cÚ¡ Ch *
’d
, OutIˆ
out
 ) {

38  
	gbegš
 !ğ
’d
 )

39 *
out
++ = *
begš
++;

40  
	gout
;

45 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

46 
šlše
 
OutIt
 
cİy_ªd_ex·nd_ch¬s
ĞcÚ¡ 
Ch
 *
begš
, cÚ¡ Ch *
’d
, Ch 
nÛx·nd
,

47 
OutIt
 
out
 ) {

48  
	gbegš
 !ğ
’d
 ) {

49 iàĞ*
begš
 =ğ
nÛx·nd
 ) {

50 *
out
++ = *
begš
;

52  *
	gbegš
 ) {

53 
Ch
( '<' ):

54 *
out
++ = 
Ch
( '&' );

55 *
	gout
++ = 
Ch
( 'l' );

56 *
	gout
++ = 
Ch
( 't' );

57 *
	gout
++ = 
Ch
( ';' );

59 
Ch
( '>' ):

60 *
out
++ = 
Ch
( '&' );

61 *
	gout
++ = 
Ch
( 'g' );

62 *
	gout
++ = 
Ch
( 't' );

63 *
	gout
++ = 
Ch
( ';' );

65 
Ch
( '\'' ):

66 *
out
++ = 
Ch
( '&' );

67 *
	gout
++ = 
Ch
( 'a' );

68 *
	gout
++ = 
Ch
( 'p' );

69 *
	gout
++ = 
Ch
( 'o' );

70 *
	gout
++ = 
Ch
( 's' );

71 *
	gout
++ = 
Ch
( ';' );

73 
Ch
( '"' ):

74 *
out
++ = 
Ch
( '&' );

75 *
	gout
++ = 
Ch
( 'q' );

76 *
	gout
++ = 
Ch
( 'u' );

77 *
	gout
++ = 
Ch
( 'o' );

78 *
	gout
++ = 
Ch
( 't' );

79 *
	gout
++ = 
Ch
( ';' );

81 
Ch
( '&' ):

82 *
out
++ = 
Ch
( '&' );

83 *
	gout
++ = 
Ch
( 'a' );

84 *
	gout
++ = 
Ch
( 'm' );

85 *
	gout
++ = 
Ch
( 'p' );

86 *
	gout
++ = 
Ch
( ';' );

89 *
out
++ = *
begš
;

92 ++
	gbegš
;

94  
	gout
;

98 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

99 
šlše
 
OutIt
 
fl_ch¬s
ĞOutIˆ
out
, 
n
, 
Ch
 
ch
 ) {

100  
	gi
 = 0; i < 
	gn
; ++i )

101 *
	gout
++ = 
ch
;

102  
	gout
;

106 
	g‹m¶©e
 <
şass
 
	gCh
, 
Ch
 
	gch
>

107 
šlše
 
boŞ
 
fšd_ch¬
ĞcÚ¡ 
Ch
 *
begš
, cÚ¡ Ch *
’d
 ) {

108  
	gbegš
 !ğ
’d
 )

109 iàĞ*
begš
++ =ğ
ch
 )  
Œue
;

110  
	gçl£
;

117 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

118 
šlše
 
OutIt
 
´št_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

119 
šd’t
 ) {

121  
	gnode
->
ty³
() ) {

124 
	gnode_docum’t
:

125 
out
 = 
´št_chd»n
Ğout, 
node
, 
æags
, 
šd’t
 );

129 
	gnode_–em’t
:

130 
out
 = 
´št_–em’t_node
Ğout, 
node
, 
æags
, 
šd’t
 );

134 
	gnode_d©a
:

135 
out
 = 
´št_d©a_node
Ğout, 
node
, 
æags
, 
šd’t
 );

139 
	gnode_cd©a
:

140 
out
 = 
´št_cd©a_node
Ğout, 
node
, 
æags
, 
šd’t
 );

144 
	gnode_deş¬©iÚ
:

145 
out
 = 
´št_deş¬©iÚ_node
Ğout, 
node
, 
æags
, 
šd’t
 );

149 
	gnode_comm’t
:

150 
out
 = 
´št_comm’t_node
Ğout, 
node
, 
æags
, 
šd’t
 );

154 
	gnode_doùy³
:

155 
out
 = 
´št_doùy³_node
Ğout, 
node
, 
æags
, 
šd’t
 );

159 
	gnode_pi
:

160 
out
 = 
´št_pi_node
Ğout, 
node
, 
æags
, 
šd’t
 );

165 
as£¹
( 0 );

170 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) ) *
	gout
 = 
Ch
( '\n' ), ++out;

173  
	gout
;

177 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

178 
šlše
 
OutIt
 
´št_chd»n
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

179 
šd’t
 ) {

180  
	gxml_node
<
	gCh
> *
	gchd
 = 
node
->
fœ¡_node
(); child;

181 
	gchd
 = 
chd
->
Ãxt_siblšg
() )

182 
out
 = 
´št_node
Ğout, 
chd
, 
æags
, 
šd’t
 );

183  
	gout
;

187 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

188 
šlše
 
OutIt
 
´št_©Œibu‹s
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
,

189 
æags
 ) {

190  
	gxml_©Œibu‹
<
	gCh
> *
	g©Œibu‹
 = 
node
->
fœ¡_©Œibu‹
();‡ttribute;

191 
	g©Œibu‹
 = 
©Œibu‹
->
Ãxt_©Œibu‹
() ) {

192 iàĞ
©Œibu‹
->
Çme
(è&&‡‰ribu‹->
v®ue
() ) {

194 *
out
 = 
Ch
Ğ' ' ), ++
	gout
;

195 
	gout
 = 
cİy_ch¬s
Ğ
©Œibu‹
->
Çme
(),

196 
©Œibu‹
->
Çme
(è+‡‰ribu‹->
Çme_size
(), 
out
 );

197 *
	gout
 = 
Ch
( '=' ), ++out;

199 iàĞ
	gfšd_ch¬
<
	gCh
, 
Ch
Ğ'"' )>Ğ
	g©Œibu‹
->
v®ue
(),

200 
	g©Œibu‹
->
v®ue
() +

201 
	g©Œibu‹
->
v®ue_size
() ) ) {

202 *
	gout
 = 
Ch
( '\'' ), ++out;

203 
	gout
 = 
cİy_ªd_ex·nd_ch¬s
(

204 
©Œibu‹
->
v®ue
(),‡‰ribu‹->v®ue(è+‡‰ribu‹->
v®ue_size
(),

205 
Ch
Ğ'"' ), 
out
 );

206 *
	gout
 = 
Ch
( '\'' ), ++out;

208 *
	gout
 = 
Ch
( '"' ), ++out;

209 
	gout
 = 
cİy_ªd_ex·nd_ch¬s
(

210 
©Œibu‹
->
v®ue
(),‡‰ribu‹->v®ue(è+‡‰ribu‹->
v®ue_size
(),

211 
Ch
Ğ'\'' ), 
out
 );

212 *
	gout
 = 
Ch
( '"' ), ++out;

216  
	gout
;

220 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

221 
šlše
 
OutIt
 
´št_d©a_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

222 
šd’t
 ) {

223 
as£¹
Ğ
node
->
ty³
(è=ğ
node_d©a
 );

224 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

225 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

226 
	gout
 = 
cİy_ªd_ex·nd_ch¬s
(

227 
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
Ch
Ğ0 ), 
out
 );

228  
	gout
;

232 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

233 
šlše
 
OutIt
 
´št_cd©a_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

234 
šd’t
 ) {

235 
as£¹
Ğ
node
->
ty³
(è=ğ
node_cd©a
 );

236 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

237 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

238 *
	gout
 = 
Ch
( '<' );

239 ++
	gout
;

240 *
	gout
 = 
Ch
( '!' );

241 ++
	gout
;

242 *
	gout
 = 
Ch
( '[' );

243 ++
	gout
;

244 *
	gout
 = 
Ch
( 'C' );

245 ++
	gout
;

246 *
	gout
 = 
Ch
( 'D' );

247 ++
	gout
;

248 *
	gout
 = 
Ch
( 'A' );

249 ++
	gout
;

250 *
	gout
 = 
Ch
( 'T' );

251 ++
	gout
;

252 *
	gout
 = 
Ch
( 'A' );

253 ++
	gout
;

254 *
	gout
 = 
Ch
( '[' );

255 ++
	gout
;

256 
	gout
 = 
cİy_ch¬s
Ğ
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
out
 );

257 *
	gout
 = 
Ch
( ']' );

258 ++
	gout
;

259 *
	gout
 = 
Ch
( ']' );

260 ++
	gout
;

261 *
	gout
 = 
Ch
( '>' );

262 ++
	gout
;

263  
	gout
;

267 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

268 
šlše
 
OutIt
 
´št_–em’t_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

269 
šd’t
 ) {

270 
as£¹
Ğ
node
->
ty³
(è=ğ
node_–em’t
 );

273 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

274 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

275 *
	gout
 = 
Ch
( '<' ), ++out;

276 
	gout
 = 
cİy_ch¬s
Ğ
node
->
Çme
(),‚ode->Çme(è+‚ode->
Çme_size
(), 
out
 );

277 
	gout
 = 
´št_©Œibu‹s
Ğ
out
, 
node
, 
æags
 );

280 iàĞ
	gnode
->
v®ue_size
(è=ğ0 && !
node
->
fœ¡_node
() ) {

282 *
out
 = 
Ch
Ğ'/' ), ++
	gout
;

283 *
	gout
 = 
Ch
( '>' ), ++out;

286 *
	gout
 = 
Ch
( '>' ), ++out;

289 
	gxml_node
<
	gCh
> *
	gchd
 = 
node
->
fœ¡_node
();

290 iàĞ!
	gchd
 ) {

292 
	gout
 = 
cİy_ªd_ex·nd_ch¬s
(

293 
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
Ch
Ğ0 ), 
out
 );

294 } iàĞ
	gchd
->
Ãxt_siblšg
(è=ğ0 && 
chd
->
ty³
(è=ğ
node_d©a
 ) {

297 
out
 = 
cİy_ªd_ex·nd_ch¬s
(

298 
chd
->
v®ue
(), chd->v®ue(è+ chd->
v®ue_size
(), 
Ch
Ğ0 ), 
out
 );

301 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) ) *
	gout
 = 
Ch
( '\n' ), ++out;

302 
	gout
 = 
´št_chd»n
Ğ
out
, 
node
, 
æags
, 
šd’t
 + 1 );

303 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

304 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

308 *
	gout
 = 
Ch
( '<' ), ++out;

309 *
	gout
 = 
Ch
( '/' ), ++out;

310 
	gout
 = 
cİy_ch¬s
Ğ
node
->
Çme
(),‚ode->Çme(è+‚ode->
Çme_size
(), 
out
 );

311 *
	gout
 = 
Ch
( '>' ), ++out;

313  
	gout
;

317 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

318 
šlše
 
OutIt
 
´št_deş¬©iÚ_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
,

319 
æags
, 
šd’t
 ) {

321 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

322 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

323 *
	gout
 = 
Ch
( '<' ), ++out;

324 *
	gout
 = 
Ch
( '?' ), ++out;

325 *
	gout
 = 
Ch
( 'x' ), ++out;

326 *
	gout
 = 
Ch
( 'm' ), ++out;

327 *
	gout
 = 
Ch
( 'l' ), ++out;

330 
	gout
 = 
´št_©Œibu‹s
Ğ
out
, 
node
, 
æags
 );

333 *
	gout
 = 
Ch
( '?' ), ++out;

334 *
	gout
 = 
Ch
( '>' ), ++out;

336  
	gout
;

340 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

341 
šlše
 
OutIt
 
´št_comm’t_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

342 
šd’t
 ) {

343 
as£¹
Ğ
node
->
ty³
(è=ğ
node_comm’t
 );

344 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

345 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

346 *
	gout
 = 
Ch
( '<' ), ++out;

347 *
	gout
 = 
Ch
( '!' ), ++out;

348 *
	gout
 = 
Ch
( '-' ), ++out;

349 *
	gout
 = 
Ch
( '-' ), ++out;

350 
	gout
 = 
cİy_ch¬s
Ğ
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
out
 );

351 *
	gout
 = 
Ch
( '-' ), ++out;

352 *
	gout
 = 
Ch
( '-' ), ++out;

353 *
	gout
 = 
Ch
( '>' ), ++out;

354  
	gout
;

358 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

359 
šlše
 
OutIt
 
´št_doùy³_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

360 
šd’t
 ) {

361 
as£¹
Ğ
node
->
ty³
(è=ğ
node_doùy³
 );

362 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

363 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

364 *
	gout
 = 
Ch
( '<' ), ++out;

365 *
	gout
 = 
Ch
( '!' ), ++out;

366 *
	gout
 = 
Ch
( 'D' ), ++out;

367 *
	gout
 = 
Ch
( 'O' ), ++out;

368 *
	gout
 = 
Ch
( 'C' ), ++out;

369 *
	gout
 = 
Ch
( 'T' ), ++out;

370 *
	gout
 = 
Ch
( 'Y' ), ++out;

371 *
	gout
 = 
Ch
( 'P' ), ++out;

372 *
	gout
 = 
Ch
( 'E' ), ++out;

373 *
	gout
 = 
Ch
( ' ' ), ++out;

374 
	gout
 = 
cİy_ch¬s
Ğ
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
out
 );

375 *
	gout
 = 
Ch
( '>' ), ++out;

376  
	gout
;

380 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

381 
šlše
 
OutIt
 
´št_pi_node
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> *
node
, 
æags
,

382 
šd’t
 ) {

383 
as£¹
Ğ
node
->
ty³
(è=ğ
node_pi
 );

384 iàĞ!Ğ
	gæags
 & 
	g´št_no_šd’tšg
 ) )

385 
	gout
 = 
fl_ch¬s
Ğ
out
, 
šd’t
, 
Ch
( '\t' ) );

386 *
	gout
 = 
Ch
( '<' ), ++out;

387 *
	gout
 = 
Ch
( '?' ), ++out;

388 
	gout
 = 
cİy_ch¬s
Ğ
node
->
Çme
(),‚ode->Çme(è+‚ode->
Çme_size
(), 
out
 );

389 *
	gout
 = 
Ch
( ' ' ), ++out;

390 
	gout
 = 
cİy_ch¬s
Ğ
node
->
v®ue
(),‚ode->v®ue(è+‚ode->
v®ue_size
(), 
out
 );

391 *
	gout
 = 
Ch
( '?' ), ++out;

392 *
	gout
 = 
Ch
( '>' ), ++out;

393  
	gout
;

408 
	g‹m¶©e
 <
şass
 
	gOutIt
, cÏs 
	gCh
>

409 
šlše
 
OutIt
 
´št
ĞOutIˆ
out
, cÚ¡ 
xml_node
<
Ch
> &
node
, 
æags
 = 0 ) {

410  
š‹º®
::
´št_node
Ğ
out
, &
node
, 
æags
, 0 );

413 #iâdeà
RAPIDXML_NO_STREAMS


420 
	g‹m¶©e
 <
şass
 
	gCh
>

421 
šlše
 
	g¡d
::
basic_o¡»am
<
Ch
> &
´št
Ğ
¡d
::basic_o¡»am<Ch> &
out
,

422 cÚ¡ 
xml_node
<
Ch
> & 
node
,

423 
æags
 = 0 ) {

424 
´št
Ğ
¡d
::
o¡»am_™”©Ü
<
Ch
>Ğ
out
 ), 
node
, 
æags
 );

425  
	gout
;

431 
	g‹m¶©e
 <
şass
 
	gCh
>

432 
šlše
 
	g¡d
::
basic_o¡»am
<
Ch
> &
İ”©Ü
<<Ğ
¡d
::basic_o¡»am<Ch> &
out
,

433 cÚ¡ 
	gxml_node
<
	gCh
> & 
	gnode
 ) {

434  
´št
Ğ
out
, 
node
 );

	@include/io/rapidxml_utils.hpp

1 #iâdeà
RAPIDXML_UTILS_HPP_INCLUDED


2 
	#RAPIDXML_UTILS_HPP_INCLUDED


	)

11 
	~"¿pidxml.hµ
"

12 
	~<f¡»am
>

13 
	~<¡dexû±
>

14 
	~<¡ršg
>

15 
	~<veùÜ
>

17 
Çme¥aû
 
	g¿pidxml
 {

20 
	g‹m¶©e
 <
şass
 
	gCh
 = > cÏs 
	cfe
 {

22 
public
:

25 
fe
ĞcÚ¡ *
f’ame
 ) {

26 
usšg
 
Çme¥aû
 
¡d
;

29 
	gbasic_if¡»am
<
	gCh
> 
¡»am
Ğ
f’ame
, 
ios
::
bš¬y
 );

30 iàĞ!
	g¡»am
 )

31 
throw
 
ruÁime_”rÜ
Ğ
¡ršg
Ğ"ÿÂÙ o³Àf" ) + 
f’ame
 );

32 
	g¡»am
.
un£tf
Ğ
ios
::
skws
 );

35 
	g¡»am
.
£ekg
Ğ0, 
ios
::
’d
 );

36 
size_t
 
	gsize
 = 
¡»am
.
‹Îg
();

37 
	g¡»am
.
£ekg
( 0 );

40 
	gm_d©a
.
»size
Ğ
size
 + 1 );

41 
	g¡»am
.
»ad
Ğ&
m_d©a
.
äÚt
(), 
¡©ic_ÿ¡
<
¡»amsize
>Ğ
size
 ) );

42 
	gm_d©a
[ 
size
 ] = 0;

47 
fe
Ğ
¡d
::
basic_i¡»am
<
Ch
> &
¡»am
 ) {

48 
usšg
 
Çme¥aû
 
¡d
;

51 
	g¡»am
.
un£tf
Ğ
ios
::
skws
 );

52 
	gm_d©a
.
assign
Ğ
i¡»ambuf_™”©Ü
<
Ch
>Ğ
¡»am
 ),

53 
i¡»ambuf_™”©Ü
<
Ch
>() );

54 iàĞ
	g¡»am
.
ç
(è|| sŒ—m.
bad
() )

55 
throw
 
ruÁime_”rÜ
( "error„eading stream" );

56 
	gm_d©a
.
push_back
( 0 );

61 
Ch
 *
d©a
(è{  &
	gm_d©a
.
äÚt
(); }

65 cÚ¡ 
Ch
 *
d©a
(ècÚ¡ {  &
	gm_d©a
.
äÚt
(); }

69 
	g¡d
::
size_t
 
size
(ècÚ¡ {  
m_d©a
.size(); }

71 
	g´iv©e
:

72 
¡d
::
veùÜ
<
Ch
> 
m_d©a
;

77 
	g‹m¶©e
 <
şass
 
	gCh
> 
šlše
 
	g¡d
::
size_t
 
couÁ_chd»n
Ğ
xml_node
<
Ch
> *
node
 ) {

78 
xml_node
<
Ch
> *
chd
 = 
node
->
fœ¡_node
();

79 
	g¡d
::
size_t
 
couÁ
 = 0;

80  
	gchd
 ) {

81 ++
	gcouÁ
;

82 
	gchd
 = 
chd
->
Ãxt_siblšg
();

84  
	gcouÁ
;

89 
	g‹m¶©e
 <
şass
 
	gCh
> 
šlše
 
	g¡d
::
size_t
 
couÁ_©Œibu‹s
Ğ
xml_node
<
Ch
> *
node
 ) {

90 
xml_©Œibu‹
<
Ch
> *
©Œ
 = 
node
->
fœ¡_©Œibu‹
();

91 
	g¡d
::
size_t
 
couÁ
 = 0;

92  
	g©Œ
 ) {

93 ++
	gcouÁ
;

94 
	g©Œ
 = 
©Œ
->
Ãxt_©Œibu‹
();

96  
	gcouÁ
;

	@include/io/uppaaldata.h

11 #iâdeà
__UPPAAL_H


12 
	#__UPPAAL_H


	)

13 
	~"mod–/.hµ
"

14 
	~"ut/d©a.hµ
"

15 
	~<m­
>

16 
	~<¡ršg
>

17 
	~<veùÜ
>

18 
Çme¥aû
 
	gg¿ph§t
 {

19 
usšg
 
	g¡d
::
m­
;

20 
usšg
 
	g¡d
::
·œ
;

21 
usšg
 
	g¡d
::
¡ršg
;

22 
usšg
 
	g¡d
::
veùÜ
;

24 
	eP¬aTy³
 {

25 
	gPARAM_BOOL_T
,

26 
	gPARAM_BOOL_REF_T
,

27 
	gPARAM_CHANNEL_T
,

28 
	gPARAM_CHANNEL_REF_T
,

29 
	gPARAM_URGENT_CHANNEL_T
,

30 
	gPARAM_URGENT_CHANNEL_REF_T
,

31 
	gPARAM_INT_T
,

32 
	gPARAM_INT_REF_T
,

33 
	gPARAM_SCALAR_T


35 
	sP¬aEËm’t
 {

36 
P¬aEËm’t
(è{ 
	gis_»f
 = 
çl£
; }

37 
boŞ
 
	gis_»f
;

38 
P¬aTy³
 
	gty³
;

39 
	gid
;

40 
¡ršg
 
	gty³_Çme
;

41 
¡ršg
 
	gÇme
;

44 
	sTaDec
 {

45 
boŞ
 
	gno_·¿m‘”
;

46 
¡ršg
 
	gÇme
;

47 
	gveùÜ
<> 
	g·¿m_li¡
;

48 
TaDec
()

49 : 
no_·¿m‘”
Ğ
çl£
 ) {

50 
Çme
 = "";

54 
	sSy¡emDec
 {

55 
	gveùÜ
<
	gTaDec
 *> 
	g_li¡
;

57 ~
Sy¡emDec
() {

58  
	gveùÜ
<
	gTaDec
 *>::
™”©Ü
 
™
 = 
_li¡
.
begš
(); 
	g™
 !ğ_li¡.
’d
();

59 
	g™
++ ) {

60 
d–‘e
 *
	g™
;

65 
	eP¬£rTy³
 { 
	gGLOBAL_DEC
, 
	gTEMPLATE_DEC
 };

67 cÚ¡ 
¡ršg
 
	gCLOCK_CS
 = "clock_cons";

69 cÚ¡ 
¡ršg
 
	gINT_CS
 = "counter_cons";

71 cÚ¡ 
¡ršg
 
	gCLOCK_RESET
 = "clock_reset";

73 cÚ¡ 
¡ršg
 
	gINT_UPDATE
 = "counter_update";

75 cÚ¡ 
¡ršg
 
	gINT_ARRAY
 = "int_array";

79 cÚ¡ 
	gUN_DEFINE
 = 100000000;

81 
şass
 
	gUµ¯lP¬£r
;

83 şas 
	cUµ¯lTem¶©eD©a
 {

84 
	gpublic
:

85 
Uµ¯lTem¶©eD©a
() {

86 
š™_loc
 = 0;

87 
	gÇme
 = "";

88 
	gglob®_v¬_num
 = 0;

90 
ş—r
() {

91 
	gšt_v®ues
.
ş—r
();

92 
	gpošt_v®ues
.
ş—r
();

95 
£tName
ĞcÚ¡ 
¡ršg
 &
n
 ) { 
	gÇme
 =‚; }

97 
¡ršg
 
g‘Name
Ğè{  
	gÇme
; }

98 
£tGlob®V¬Num
Ğ
n
 ) { 
	gglob®_v¬_num
 =‚; }

100 
g‘Glob®V¬Num
ĞècÚ¡ {  
	gglob®_v¬_num
; }

102 
¡ršg
 
g‘V¬FuÎName
ĞcÚ¡ sŒšg &
v¬_Çme
 ) const {

103 iàĞ"" !ğ
Çme
 ) {

104  
Çme
 + "#" + 
v¬_Çme
;

106  
	gv¬_Çme
;

109 
addIÁA¼ay
ĞcÚ¡ 
¡ršg
 &
key
, 
veùÜ
<> &
v
 ) {

110 ‡utØ
	ge
 : 
v
 ) {

111 
addV®ue
Ğ
INT_ARRAY
, 
key
, 
e
 );

114 cÚ¡ 
	gveùÜ
<> &
g‘IÁA¼ay
ĞcÚ¡ 
¡ršg
 &
key
 ) const {

115 
	gid
 = 
g‘Id
Ğ
INT_ARRAY
, 
key
 );

116 iàĞ
	gid
 > -1 ) {

117 cÚ¡ 
	g·œ
<
	g¡ršg
, 
	gveùÜ
<>> &
	gµ
 = 
g‘V®ue
Ğ
INT_ARRAY
, 
id
 );

118  
	gµ
.
	g£cÚd
;

120 
	gveùÜ
<> 
	gdummy
;

121  
	gdummy
;

124 
£tIn™ŸlLoc
Ğ
id
 ) { 
	gš™_loc
 = id; }

126 
g‘In™ŸlLoc
(ècÚ¡ {  
	gš™_loc
; }

128 
addV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
v
 = 
UN_DEFINE
 ) {

129 
št_v®ues
.
addV®ue
Ğ
ty³
, 
Çme
, 
v
 );

132 
£tV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
v
 = 
UN_DEFINE
 ) {

133 
št_v®ues
.
£tV®ue
Ğ
ty³
, 
Çme
, 
v
 );

136 
g‘Ty³Num
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

137  
	gšt_v®ues
.
g‘Ty³Num
Ğ
ty³
 );

147 
g‘Id
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

148  
	gšt_v®ues
.
g‘Id
Ğ
ty³
, 
Çme
 );

150 
g‘ClockId
ĞcÚ¡ 
¡ršg
 &
Çme
 ) const {

151  
g‘Id
Ğ
CLOCK_STR
, 
Çme
)+1;

154 cÚ¡ 
	g·œ
<
	g¡ršg
, 
	gveùÜ
<>> &
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
,

155 
id
 ) const {

156  
	gšt_v®ues
.
g‘V®ue
Ğ
ty³
, 
id
 );

159 
boŞ
 
hasV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

161  
	gšt_v®ues
.
hasV®ue
Ğ
ty³
, 
Çme
 );

164 
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
id
 = 0 ) const {

165  
št_v®ues
.
g‘V®ue
Ğ
ty³
, 
Çme
, 
id
 );

168 
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<>>> 
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

169  
	gšt_v®ues
.
g‘V®ue
Ğ
ty³
 );

172 
addPoš‹r
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, *
v
 ) {

173 
	gpošt_v®ues
.
addV®ue
Ğ
ty³
, 
Çme
, 
v
 );

176 
boŞ
 
hasPoš‹r
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg 
Çme
 ) const {

177  
	gpošt_v®ues
.
hasV®ue
Ğ
ty³
, 
Çme
 );

180 
g‘Poš‹rId
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

181  
	gpošt_v®ues
.
g‘Id
Ğ
ty³
, 
Çme
 );

184 
	gveùÜ
<*> 
g‘Pošts
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg 
Çme
 ) const {

185 
	gid
 = 
pošt_v®ues
.
g‘Id
Ğ
ty³
, 
Çme
 );

186 iàĞ
	gid
 > -1 ) {

187  
	gpošt_v®ues
.
g‘V®ue
Ğ
ty³
, 
id
 ).
	g£cÚd
;

189 
	gveùÜ
<*> 
	gdummy
;

190  
	gdummy
;

193 *
g‘Poš‹r
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

194  
	gpošt_v®ues
.
g‘V®ue
Ğ
ty³
, 
Çme
, 0 );

197 
g‘PoštNum
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

198  
	gpošt_v®ues
.
g‘Ty³Num
Ğ
ty³
 );

201 
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<*>>> 
g‘Pošts
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

202  
	gpošt_v®ues
.
g‘V®ue
Ğ
ty³
 );

205 
ş—rPošts
ĞcÚ¡ 
¡ršg
 &
ty³
 ) { 
	gpošt_v®ues
.
ş—r
(ype ); }

207 
ş—rPošts
(è{ 
	gpošt_v®ues
.
ş—r
(); }

209 
	g´iv©e
:

210 
¡ršg
 
Çme
;

211 
	gglob®_v¬_num
;

212 
	gV®ueD©a
<> 
	gšt_v®ues
;

213 
Poš‹rD©a
 
	gpošt_v®ues
;

215 
	gš™_loc
;

217 
ty³Çme
 
	gINT_TAS_t
::
TAT_t
 
t
;

218 
ä›nd
 
şass
 
	gUµ¯lP¬£r
;

221 
·r£ProbËm
ĞcÚ¡ 
¡ršg
 &
¡r
, 
Uµ¯lTem¶©eD©a
 *,

222 
Uµ¯lTem¶©eD©a
 * );

	@include/io/uppaalmodelparser.h

10 #iâdeà
__MODEL_PARSER_HPP


11 
	#__MODEL_PARSER_HPP


	)

13 
	~"io/xmlcÚf.h
"

14 
	~"mod–/.hµ
"

16 
	~"aùiÚ/couÁ”aùiÚ.h
"

17 
	~"cÚ¡¿št/şockdiffcÚs.hµ
"

18 
	~"loÿtiÚ.hµ
"

20 
	~"´obËm/»achab™y.hµ
"

21 
	~"Œªs™iÚ.hµ
"

23 
	~"ut/dbmut.hµ
"

25 
	~"domaš/dbm.hµ
"

26 
	~"domaš/dbm£t.hµ
"

28 
	~"io/uµ¯ld©a.h
"

30 
Çme¥aû
 
	gg¿ph§t
 {

32 şas 
	cUµ¯lP¬£r
 {

34 
	gpublic
:

35 
Uµ¯lP¬£r
ĞcÚ¡ 
¡ršg
 &
xmlfe
 );

37 cÚ¡ 
	gINT_TAS_t
 &
g‘SYS
(ècÚ¡ {  
	gsys
; }

39 cÚ¡ 
	gPrİ”ty
 &
g‘Prİ
(ècÚ¡ {  
	g´İ
; }

89 
g‘LoÿlId
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
, cÚ¡ 
»®_id
 );

91 
g‘P¬am‘”Id
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
, cÚ¡ 
¡ršg
 &
Çme
 );

94 
addClockCÚ¡¿št
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
, 
şock1_id
,

95 
şock2_id
, 
COMP_OPERATOR
 
İ
, 
rhs
 );

97 
addClockCÚ¡¿št
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
, 
şock1_id
,

98 
şock2_id
, 
COMP_OPERATOR
 
İ
, 
rhs
, 
·¿m‘”_id
 );

100 
	g´iv©e
:

101 
m­
<
TYPE_T
, 
	g¡ršg
> 
	gty³_Çme_m­
;

103 
Uµ¯lTem¶©eD©a
 
	gsy¡em_d©a
;

104 
	gm­
<
	g¡ršg
, 
	gUµ¯lTem¶©eD©a
> 
	g‹m¶©e_m­
;

106 
INT_TAS_t
 
	gsys
;

107 
Prİ”ty
 
	g´İ
;

109 
·r£Deş¬©iÚ
Ğ
XML_P
 
sy¡em
 );

111 
·r£Tem¶©eDeş¬©iÚ
Ğ
chd_ty³
 
‹m¶©es
 );

113 
·r£Tem¶©e
Ğ
chd_ty³
 
‹m¶©es
 );

115 
·r£Sy¡em
Ğ
XML_P
 
sy¡em
 );

117 
·r£Qu”y
Ğ
chd_ty³
 
qu”›s
 );

119 
·r£Tem¶©eP¬am‹r
Ğ
Uµ¯lTem¶©eD©a
 &
‹mpD©a
, 
XML_P
 
·¿m‘”
 );

121 
	gveùÜ
<
ty³Çme
 
	gINT_TAS_t
::
L_t
> 
·r£LoÿtiÚ
Ğ
Uµ¯lTem¶©eD©a
 &
‹mpD©a
,

122 
chd_ty³
 
loÿtiÚs
 );

124 
	gveùÜ
<
ty³Çme
 
	gINT_TAS_t
::
T_t
> 
·r£T¿ns™iÚ
Ğ
Uµ¯lTem¶©eD©a
 &
‹mpD©a
,

125 
chd_ty³
 
Œªs™iÚs
 );

127 
·r£Lab–
Ğ
Uµ¯lTem¶©eD©a
 &
d©a
, 
¡ršg
 
gu¬ds
 );

140 
TYPE_T
 
g‘Ty³
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
, cÚ¡ 
¡ršg
 &
xml_Çme
,

141 
¡ršg
 &
code_Çme
 );

	@include/io/xmlconf.h

10 #iâdeà
XML_UTIL_HPP


11 
	#XML_UTIL_HPP


	)

13 
	~<io¡»am
>

14 
	~<m­
>

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
Çme¥aû
 
	gg¿ph§t
 {

20 
usšg
 
Çme¥aû
 
	g¡d
;

22 
	gm­
<
	t¡ršg
, sŒšg> 
	tFXML_ATTRLIST
;

23 
şass
 
	gXmlCÚfig
;

24 cÚ¡ 
	tXmlCÚfig
 * 
	tXML_P
;

25 
	gm­
<
	t¡ršg
, 
	tveùÜ
<cÚ¡ 
	tXmlCÚfig
 *>> 
	tXML_NODE
;

26 
	gveùÜ
<cÚ¡ 
	tXmlCÚfig
 *>::
	tcÚ¡_™”©Ü
 
	tchd_™”©Ü
;

27 cÚ¡ 
	tveùÜ
<cÚ¡ 
	tXmlCÚfig
 *> * 
	tchd_ty³
;

29 
usšg
 
Çme¥aû
 
	g¡d
;

31 
cÚv”t
ĞcÚ¡ 
¡ršg
, 
boŞ
 & );

32 
cÚv”t
ĞcÚ¡ 
¡ršg
, & );

33 
cÚv”t
ĞcÚ¡ 
¡ršg
, & );

34 
cÚv”t
ĞcÚ¡ 
¡ršg
, string & );

41 
¡ršg
 
Œim
Ğ
¡d
::¡ršg 
s
 );

43 şas 
	cXmlCÚfig
 {

45 
	gpublic
:

46 
XmlCÚfig
()

47 : 
g
( "" ) {}

49 ~
XmlCÚfig
() {

50  
XML_NODE
::
™”©Ü
 
™
 = 
chd»n
.
begš
(); 
	g™
 !ğchd»n.
’d
();

51 
	g™
++ ) {

53  
	gveùÜ
<cÚ¡ 
	gXmlCÚfig
 *>::
™”©Ü
 
l™
 = 
™
->
£cÚd
.
begš
();

54 
	gl™
 !ğ
™
->
£cÚd
.
’d
();†it++ ) {

55 
d–‘e
 ( *
l™
 );

60 
XmlCÚfig
Ğ
¡ršg
, 
boŞ
 
b_fešput
 = 
Œue
 );

61 
XmlCÚfig
ĞcÚ¡ XmlCÚfig &
Ùh”
 ) {

62 
	gg
 = 
Ùh”
.
g
;

63  
	gXML_NODE
::
cÚ¡_™”©Ü
 
™
 = 
Ùh”
.
chd»n
.
begš
();

64 
	g™
 !ğ
Ùh”
.
chd»n
.
’d
(); it++ ) {

65  
	gveùÜ
<cÚ¡ 
	gXmlCÚfig
 *>::
cÚ¡_™”©Ü
 
l™
 = 
™
->
£cÚd
.
begš
();

66 
	gl™
 !ğ
™
->
£cÚd
.
’d
();†it++ ) {

67 
	gchd»n
[ 
™
->
fœ¡
 ].
push_back
Ğ
Ãw
 
XmlCÚfig
Ğ**
l™
 ) );

71 
	g©Œ
 = 
Ùh”
.
©Œ
;

74 cÚ¡ 
XML_NODE
 *
g‘Chd»n
() const;

76 cÚ¡ 
	gveùÜ
<cÚ¡ 
	gXmlCÚfig
 *> *
g‘Chd
Ğ
¡ršg
 
id
 ) const;

78 cÚ¡ 
XmlCÚfig
 *
g‘OÃChd
Ğ
¡ršg
 
id
 ) const;

80 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
g‘A‰r
ĞcÚ¡ 
¡ršg
 &
a
, 
T
 &
out
 ) const {

81 
	gm­
<
	g¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
©Œ
.
fšd
Ğ
a
 );

82 iàĞ
	g™
 !ğ
©Œ
.
’d
() ) {

83 
T
 
v®
;

84 
cÚv”t
Ğ
™
->
£cÚd
, 
v®
 );

85 
	gout
 = 
v®
;

88 
	gcout
 << "Cª'ˆfšd‡‰rbu‹ '" << 
	ga
 << "' iÀEËm’ˆg '" << 
	gg


89 << "'!" << 
	g’dl
;

90 
ex™
( 1 );

93 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
g‘A‰r
ĞcÚ¡ *
a
, 
T
 &
out
 ) const {

94 
¡ršg
 
	g¡r_a
 = sŒšgĞ
a
 );

95  
g‘A‰r
Ğ
¡r_a
, 
out
 );

98 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
g‘A‰r
ĞcÚ¡ 
¡ršg
 &
a
 ) const {

99 
	gm­
<
	g¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
©Œ
.
fšd
Ğ
a
 );

100 iàĞ
	g™
 !ğ
©Œ
.
’d
() ) {

101 
T
 
v®
;

102 
cÚv”t
Ğ
™
->
£cÚd
, 
v®
 );

103  
	gv®
;

105 
	gcout
 << "Cª'ˆfšd‡‰rbu‹ '" << 
	ga
 << "' iÀEËm’ˆg '" << 
	gg


106 << "'!" << 
	g’dl
;

107 
ex™
( 1 );

111 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
g‘A‰r
ĞcÚ¡ *
a
 ) const {

112 
¡ršg
 
	g¡r_a
 = sŒšgĞ
a
 );

113  
	gg‘A‰r
<
	gT
>Ğ
	g¡r_a
 );

116 
¡ršg
 
g‘A‰rV®ue
ĞcÚ¡ sŒšg &
a
 ) const {

117 
	gm­
<
	g¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
©Œ
.
fšd
Ğ
a
 );

118 iàĞ
	g™
 =ğ
©Œ
.
’d
() ) {

121  
	g™
->
	g£cÚd
;

124 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
g‘A‰rDeçuÉ
ĞcÚ¡ 
¡ršg
 &
a
, cÚ¡ T 
df
 ) const {

125 
	gm­
<
	g¡ršg
, sŒšg>::
cÚ¡_™”©Ü
 
™
 = 
©Œ
.
fšd
Ğ
a
 );

126 iàĞ
	g™
 !ğ
©Œ
.
’d
() ) {

127 
T
 
v®
;

128 
cÚv”t
Ğ
™
->
£cÚd
, 
v®
 );

129  
	gv®
;

131  
	gdf
;

135 
	g‹m¶©e
 <
ty³Çme
 
	gT
> 
T
 
g‘A‰rDeçuÉ
ĞcÚ¡ *
a
, cÚ¡ T 
df
 ) const {

136 
¡ršg
 
	g¡r_a
 = sŒšgĞ
a
 );

137  
g‘A‰rDeçuÉ
Ğ
¡r_a
, 
df
 );

140 
šlše
 cÚ¡ 
FXML_ATTRLIST
 *
g‘A‰rLi¡
(ècÚ¡ {  &
	g©Œ
; }

141 
šlše
 
¡ršg
 
g‘Tag
(ècÚ¡ {  
	gg
; }

142 
šlše
 
¡ršg
 
g‘V®ue
(ècÚ¡ {  
	gv®ue
; }

144 
£tA‰r
ĞcÚ¡ 
¡ršg
, const string );

145 
addChd
Ğ
¡ršg
 
key
, cÚ¡ 
XmlCÚfig
 * );

146 
£tTag
ĞcÚ¡ 
¡ršg
 );

147 
£tV®ue
ĞcÚ¡ 
¡ršg
 );

149 
	g´iv©e
:

150 
¡ršg
 
g
;

151 
¡ršg
 
	gv®ue
;

152 
XML_NODE
 
	gchd»n
;

153 
FXML_ATTRLIST
 
	g©Œ
;

	@include/location.hpp

11 #iâdeà
__LOCATION_HPP


12 
	#__LOCATION_HPP


	)

14 
	~<veùÜ
>

16 
Çme¥aû
 
	gg¿ph§t
 {

17 
usšg
 
	g¡d
::
veùÜ
;

19 
	eLoÿtiÚ_Ty³
 { 
	gNORMOAL_LOC
, 
	gINIT_LOC
, 
	gURGENT_LOC
, 
	gCOMMIT_LOC
 };

21 
	g‹m¶©e
 <
ty³Çme
 
	gC_t
,y³Çm
	gCS_t
,y³Çm
	gDMªag”_t
,y³Çm
	gDBMS‘_t
>

22 şas 
	cLoÿtiÚ
 {

24 
	gpublic
:

25 
public
:

26 
ex¶ic™
 
LoÿtiÚ
Ğ
loc_id
 ) {

27 
loÿtiÚ_id
 = 
loc_id
;

28 
	gty³
 = 
NORMOAL_LOC
;

31 
ex¶ic™
 
LoÿtiÚ
Ğ
loc_id
, 
LoÿtiÚ_Ty³
 
‘y³
 ) {

32 
	gloÿtiÚ_id
 = 
loc_id
;

33 
	gty³
 = 
‘y³
;

36 
£tName
ĞcÚ¡ 
¡ršg
 &
n
 ) { 
	gÇme
 =‚; }

38 
¡ršg
 
g‘Name
Ğè{  
	gÇme
; }

40 cÚ¡ 
	gveùÜ
<
	gCS_t
> &
g‘Inv¬›Ás
(ècÚ¡ {  
	gšv¬ŸÁs
; }

51 
šlše
 
boŞ
 
isUrg’t
(ècÚ¡ {  
	gty³
 =ğ
URGENT_LOC
; }

61 
šlše
 
boŞ
 
isComm™
(ècÚ¡ {  
	gty³
 =ğ
COMMIT_LOC
; }

63 
šlše
 
boŞ
 
isF»ezeLoÿtiÚ
() const {

64  ( 
isUrg’t
(èè|| ( 
isComm™
() );

67 
šlše
 
em¶oyInv¬ŸÁs
ĞcÚ¡ 
DMªag”_t
 &
dbm_mªag”
,

68 
C_t
 * 
dbm
 ) const {

69 ‡utØ
	gcs
 : 
šv¬ŸÁs
 ) {

70 
dbm_mªag”
.
ªdIm¶
Ğ
dbm
, 
cs
 );

83 
šlše
 
boŞ
 
isR—chabË
ĞcÚ¡ 
DMªag”_t
 &
dbm_mªag”
, 
C_t
 *
dbm
 ) const {

89 
em¶oyInv¬ŸÁs
Ğ
dbm_mªag”
, 
dbm
 );

91  
	gdbm_mªag”
.
isCÚsi¡’t
Ğ
dbm
 );

94 
šlše
 
İ”©Ü
()ĞcÚ¡ 
	gDMªag”_t
 &
	gdbm_mªag”
, 
C_t
 *
	gdbm
 ) const {

95 
as£¹
Ğ
isR—chabË
Ğ
dbm_mªag”
, 
dbm
 ) );

96 
as£¹
Ğ!
isF»ezeLoÿtiÚ
() );

98 
	gdbm_mªag”
.
upIm¶
Ğ
dbm
 );

100 
as£¹
Ğ
dbm_mªag”
.
isCÚsi¡’t
Ğ
dbm
 ) );

103 
boŞ
 
İ”©Ü
()ĞcÚ¡ 
	gDMªag”_t
 &
	gdbm_mªag”
, cÚ¡ 
C_t
 *cÚ¡ 
	gdbm
,

104 
	gveùÜ
<
	gC_t
 *> &
	g»_vec
 ) const {

105 
C_t
 *
	gÃwDBM
 = 
dbm_mªag”
.
ü—‹DBM
Ğ
dbm
 );

106 
boŞ
 
	g»
 = ( *
this
 )Ğ
dbm_mªag”
, 
	gÃwDBM
 );

107 iàĞ!
	g»
 ) {

108 
	gdbm_mªag”
.
de¡royDBM
Ğ
ÃwDBM
 );

109  
	gçl£
;

112 
	gdbm_mªag”
.
nÜm
Ğ
ÃwDBM
, 
»_vec
 );

114  ( !
	g»_vec
.
em±y
() );

124 
	gLoÿtiÚ
<
	gC_t
, 
	gCS_t
, 
	gDMªag”_t
, 
	gDBMS‘_t
> &
	gİ”©Ü
+=Ğ
CS_t
 &
cs
 ) {

125 
šv¬ŸÁs
.
push_back
Ğ
cs
 );

126  *
	gthis
;

129 
şockShiá
Ğ
shiá
 ) {

130  
size_t
 
	gi
 = 0; i < 
	gšv¬ŸÁs
.
size
(); i++ ) {

131 
	gšv¬ŸÁs
[ 
i
 ].
şockShiá
Ğ
shiá
 );

135 
	g´iv©e
:

136 
veùÜ
<
CS_t
> 
šv¬ŸÁs
;

137 
	gloÿtiÚ_id
;

138 
¡ršg
 
	gÇme
;

139 
LoÿtiÚ_Ty³
 
	gty³
;

	@include/model/ta.hpp

11 #iâdeà
__TIMED_AUTOMATA_


12 
	#__TIMED_AUTOMATA_


	)

13 
	~<veùÜ
>

15 
	~"aùiÚ/couÁ”aùiÚ.h
"

16 
	~"chªÃl.h
"

17 
	~"couÁ”.hµ
"

18 
	~"disü‘e¡©e.hµ
"

19 
	~"domaš/dbm.hµ
"

20 
	~"domaš/dbm£t.hµ
"

21 
	~"g¿ph/g¿ph.hµ
"

22 
	~"loÿtiÚ.hµ
"

23 
	~"·¿m‘”.h
"

24 
	~"¡©emªag”.hµ
"

25 
	~"Œªs™iÚ.hµ
"

27 
Çme¥aû
 
	gg¿ph§t
 {

29 
usšg
 
	g¡d
::
veùÜ
;

31 
usšg
 
Çme¥aû
 
	g¿±Ü
;

33 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gL
,y³Çm
	gT
> 
şass
 
	gTAS
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gL
,y³Çm
	gT
> 
şass
 
	gTA
;

43 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gL
,y³Çm
	gT
> cÏs 
	cTAT
 {

45 
	g´iv©e
:

46 
C
 
	tC_t
;

48 
	gClockCÚ¡¿št
<
	tC_t
> 
	tCS_t
;

50 
	gTAT
<
	tC
, 
	tL
, 
	tT
> 
	tTAT_t
;

51 
	gTA
<
	tC
, 
	tL
, 
	tT
> 
	tTA_t
;

53 
	gpublic
:

54 
TAT
(è{ 
š™Ÿl_loc
 = 
şock_num
 = -1; }

55 
TAT
Ğ
š™
, 
şockNum
 ) {

56 
	gš™Ÿl_loc
 = 
š™
;

57 
	gşock_num
 = 
şockNum
;

60 
TAT
Ğ
veùÜ
<
L
> &
locs
, veùÜ<
T
> &
es
, 
š™
, 
vnum
 )

61 : 
‹m¶©e_loÿtiÚs
Ğ
locs
 )

62 , 
‹m¶©e_Œªs™iÚs
Ğ
es
 ) {

63 
	gš™Ÿl_loc
 = 
š™
;

64 
	gşock_num
 = 
vnum
;

65 
š™Ÿl
();

68 
fšdRhs
ĞcÚ¡ 
lšk
, cÚ¡ 
lhs
, &
rhs
 ) const {

69 
	gg¿ph
.
fšdRhs
Ğ
lšk
, 
lhs
, 
rhs
 );

71 
	gveùÜ
<
	gC
> 
g‘ClockMaxV®ue
(ècÚ¡ {  
	gşock_max_v®ue
; }

73 
g‘ClockNum
(ècÚ¡ {  
	gşock_num
; }

75 
£tIn™ŸlLoc
Ğ
loc
 ) { 
	gš™Ÿl_loc
 =†oc; }

77 
g‘In™ŸlLoc
(ècÚ¡ {  
	gš™Ÿl_loc
; }

79 
	g´iv©e
:

80 
veùÜ
<
L
> 
‹m¶©e_loÿtiÚs
;

81 
	gveùÜ
<
	gT
> 
	g‹m¶©e_Œªs™iÚs
;

82 
	gš™Ÿl_loc
;

84 
	gşock_num
;

86 
	gG¿ph_t
<> 
	gg¿ph
;

88 
	gveùÜ
<
	gC
> 
	gşock_max_v®ue
;

90 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	g‹m¶©e_difã»nû_cÚs
;

92 
	g‹m¶©e
 <
ty³Çme
 
	gR1
> 
ä›nd
 
şass
 
	gR—chab™y
;

93 
	g‹m¶©e
 <
ty³Çme
 
	gR2
> 
ä›nd
 
şass
 
	gR—chabËS‘
;

95 
ä›nd
 
şass
 
	gTA
<
	gC
, 
	gL
, 
	gT
>;

97 
ä›nd
 
şass
 
	gTAS
<
	gC
, 
	gL
, 
	gT
>;

99 
upd©eUµ”AndDiff
ĞcÚ¡ 
CS_t
 &
cs
 ) {

101 iàĞ
	gcs
.
	gşock_x
 > 0 && cs.
	gşock_y
 > 0 ) {

102 
	g‹m¶©e_difã»nû_cÚs
.
push_back
Ğ
cs
 );

104 
C
 
	g»®Rhs
 = 
g‘Right
Ğ
cs
.
m©rix_v®ue
 );

105 iàĞ
	gcs
.
	gşock_x
 > 0 ) {

106 iàĞ
	g»®Rhs
 > 
	gşock_max_v®ue
[ 
cs
.
şock_x
 ] ) {

107 
	gşock_max_v®ue
[ 
cs
.
şock_x
 ] = 
»®Rhs
;

111 iàĞ
	gcs
.
	gşock_y
 > 0 ) {

112 iàĞ-
	g»®Rhs
 > 
	gşock_max_v®ue
[ 
cs
.
şock_y
 ] ) {

113 
	gşock_max_v®ue
[ 
cs
.
şock_y
 ] = -
»®Rhs
;

118 
š™Ÿl
() {

120 
	gveùÜ
<> 
	g¤cs
;

121 
	gveùÜ
<> 
	g¢ks
;

123 ‡utØ
	gt
 : 
‹m¶©e_Œªs™iÚs
 ) {

124 
¤cs
.
push_back
Ğ
t
.
g‘Sourû
() );

125 
	g¢ks
.
push_back
Ğ
t
.
g‘T¬g‘
() );

128 
	gg¿ph
.
š™Ÿl
Ğ
¤cs
, 
¢ks
 );

130 
	gv”‹x_num
 = 
g¿ph
.
g‘V”‹x_num
();

133 
as£¹
Ğ
š™Ÿl_loc
 >ğ0 && in™Ÿl_loø< 
v”‹x_num
 );

135 
	g‹m¶©e_difã»nû_cÚs
.
ş—r
();

136 
	gşock_max_v®ue
.
»size
Ğ
şock_num
 + 1 );

138 
fl
Ğ
şock_max_v®ue
.
begš
(), clock_max_v®ue.
’d
(), 0 );

140 ‡utØ
	gl
 : 
‹m¶©e_loÿtiÚs
 ) {

141 cÚ¡ 
veùÜ
<
CS_t
> &
šv¬ŸÁs
 = 
l
.
g‘Inv¬›Ás
();

142 ‡utØ
	gcs
 : 
šv¬ŸÁs
 ) {

143 
upd©eUµ”AndDiff
Ğ
cs
 );

147 ‡utØ
	gt
 : 
‹m¶©e_Œªs™iÚs
 ) {

148 cÚ¡ 
veùÜ
<
CS_t
> &
gu¿ds
 = 
t
.
g‘Gu¬ds
();

149 ‡utØ
	gcs
 : 
gu¿ds
 ) {

150 
upd©eUµ”AndDiff
Ğ
cs
 );

156 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gL
,y³Çm
	gT
> cÏs 
	cTA
 {

158 
	g´iv©e
:

159 
C
 
	tC_t
;

161 
	gClockCÚ¡¿št
<
	tC_t
> 
	tCS_t
;

163 
	gTA
<
	tC
, 
	tL
, 
	tT
> 
	tTA_t
;

164 
	gTAT
<
	tC
, 
	tL
, 
	tT
> 
	tTAT_t
;

166 
	gpublic
:

167 
TA
ĞcÚ¡ 
TAT_t
 *
t
, cÚ¡ 
P¬am‘”
 &
·¿m
 ) {

169 
	g_‹m·‹
 = 
t
;

170 ‡utØ
	ge
 : 
t
->
‹m¶©e_Œªs™iÚs
 ) {

171 
Œªs™iÚs
.
push_back
Ğ
T
Ğ
e
, 
·¿m
 ) );

173 
	gloÿtiÚs
 = 
t
->
‹m¶©e_loÿtiÚs
;

174 
	gdifã»nû_cÚs
 = 
t
->
‹m¶©e_difã»nû_cÚs
;

177 
fšdRhs
ĞcÚ¡ 
lšk
, cÚ¡ 
lhs
, &
rhs
 ) const {

178 
	g_‹m·‹
->
	gg¿ph
.
fšdRhs
Ğ
lšk
, 
lhs
, 
rhs
 );

181 
	gveùÜ
<
	gC
> 
g‘ClockMaxV®ue
(ècÚ¡ {  
	g_‹m·‹
->
	gşock_max_v®ue
; }

183 
g‘ClockNum
(ècÚ¡ {  
	g_‹m·‹
->
	gşock_num
; }

185 
g‘In™ŸlLoc
(ècÚ¡ {  
	g_‹m·‹
->
	gš™Ÿl_loc
; }

187 
boŞ
 
Œªs™iÚRun
Ğ
lšk
, cÚ¡ 
DBMFaùÜy
<
C
> &
mªag”
, C *
D
 ) const {

188  
	gŒªs™iÚs
[ 
lšk
 ]Ğ
	gmªag”
, 
	gD
 );

191 
boŞ
 
loÿtiÚRun
Ğ
lšk
, cÚ¡ 
DBMFaùÜy
<
C
> &
mªag”
, C *
D
 ) const {

192 iàĞ!
	gloÿtiÚs
[ 
lšk
 ].
isR—chabË
Ğ
mªag”
, 
D
 ) ) {

193  
	gçl£
;

195 
	gloÿtiÚs
[ 
lšk
 ]Ğ
	gmªag”
, 
	gD
 );

196  
	gŒue
;

199 
boŞ
 
isComm™
Ğ
id
 ) cÚ¡ {  
	gloÿtiÚs
[ id ].isCommit(); }

201 
upd©eCouÁ”Id
ĞcÚ¡ 
m­
<, > &
id_m­
 ) {

202 ‡utØ
	ge
 : 
Œªs™iÚs
 ) {

203 ‡utØ
“
 : 
e
.
couÁ”_cÚs
 ) {

204 
“
->
couÁ”IpM­
Ğ
id_m­
 );

206 ‡utØ
	g¯
 : 
e
.
aùiÚs
 ) {

207 
¯
->
couÁ”IpM­
Ğ
id_m­
 );

212 
	g´iv©e
:

213 cÚ¡ 
TAT_t
 *
_‹m·‹
;

215 
	gveùÜ
<
	gL
> 
	gloÿtiÚs
;

216 
	gveùÜ
<
	gT
> 
	gŒªs™iÚs
;

217 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	gdifã»nû_cÚs
;

219 
	g‹m¶©e
 <
ty³Çme
 
	gR1
> 
ä›nd
 
şass
 
	gR—chab™y
;

220 
	g‹m¶©e
 <
ty³Çme
 
	gR2
> 
ä›nd
 
şass
 
	gR—chabËS‘
;

221 
ä›nd
 
şass
 
	gTAS
<
	gC
, 
	gL
, 
	gT
>;

224 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gL
,y³Çm
	gT
> cÏs 
	cTAS
 {

226 
	gpublic
:

227 
C
 
	tC_t
;

228 
C_t
 * 
	tDBM_t
;

229 
	gDBMFaùÜy
<
	tC_t
> 
	tDBMMªag”_t
;

230 
	gDBM£t
<
	tC_t
> 
	tDBMS‘_t
;

231 
C_t
 
	tS‹_t
;

232 
	gS‹S‘
<
	tS‹_t
> 
	tS‹S‘_t
;

233 
	gClockCÚ¡¿št
<
	tC_t
> 
	tCS_t
;

235 
L
 
	tL_t
;

237 
T
 
	tT_t
;

239 
	gTA
<
	tC
, 
	tL
, 
	tT
> 
	tTA_t
;

240 
	gTAT
<
	tC
, 
	tL
, 
	tT
> 
	tTAT_t
;

242 
	gS‹Mªag”
<
	tC_t
> 
	tS‹Mªag”_t
;

244 
	gTAS
<
	tC
, 
	tL
, 
	tT
> 
	tTAS_t
;

246 
TAS
() {

247 
	gşock_max_v®ue
.
push_back
( 0 );

248 
	gşock_num
 = 0;

250 
	gTAS_t
 &
	gİ”©Ü
+=Ğ
TA_t
 &

 ) {

252 
Œªsäom
Ğ

 );

253 
	gs
.
push_back
Ğ

 );

254 
	gš™Ÿl_loc
.
push_back
Ğ

.
g‘In™ŸlLoc
() );

255 
	gvec_şock_nums
.
push_back
Ğ

.
g‘ClockNum
() );

257  
size_t
 
	gi
 = 1; i < 
	g
.
g‘ClockMaxV®ue
().
size
(); i++ ) {

258 
	gşock_max_v®ue
.
push_back
Ğ

.
g‘ClockMaxV®ue
()[ 
i
 ] );

261 
	gdifã»nû_cÚs
.
š£¹
Ğ
difã»nû_cÚs
.
’d
(), 

.difã»nû_cÚs.
begš
(),

262 

.
difã»nû_cÚs
.
’d
() );

264  *
	gthis
;

267 
	gTAS_t
 &
	gİ”©Ü
+=Ğ
ChªÃl
 &
ch
 ) {

268 
chªÃls
.
push_back
Ğ
ch
 );

269  *
	gthis
;

272 
	gTAS_t
 &
	gİ”©Ü
+=Ğ
CouÁ”
 &
c
 ) {

273 
couÁ”s
.
push_back
Ğ
c
 );

274  *
	gthis
;

277 
g‘CompÚ’tNum
(ècÚ¡ {  (è
	gs
.
size
(); }

278 
	gS‹Mªag”
<
	gC
> 
g‘S‹Mªag”
() const {

280 
	gveùÜ
<
	gC
> 
‹mp_şock_uµ”bound
Ğ2 * 
şock_num
 + 2, 0 );

282  
	gi
 = 0; i < 
	gşock_num
 + 1; i++ ) {

283 
	g‹mp_şock_uµ”bound
[ 
i
 ] =

284 
g‘M©rixV®ue
Ğ
şock_max_v®ue
[ 
i
 ], 
çl£
 );

287  
	gi
 = 0; i < 
	gşock_num
 + 1; i++ ) {

288 
	g‹mp_şock_uµ”bound
[ 
i
 + 
şock_num
 + 1 ] =

289 
g‘M©rixV®ue
Ğ-
şock_max_v®ue
[ 
i
 ], 
Œue
 );

291 
	gveùÜ
<> 
	gnode_n
;

292  
size_t
 
	gi
 = 0; i < 
	gs
.
size
(); i++ ) {

293 
	gnode_n
.
push_back
Ğ
s
[ 
i
 ].
_‹m·‹
->
g¿ph
.
g‘V”‹x_num
() );

296 
	gS‹Mªag”
<
	gC
> 
»
Ğ(è
s
.
size
(), 
couÁ”s
, 
şock_num
,

297 
‹mp_şock_uµ”bound
, 
difã»nû_cÚs
, 
node_n
,

298 (è
chªÃls
.
size
() );

300  
	g»
;

302 
š™S‹
ĞcÚ¡ 
S‹Mªag”
<
C
> &
mªag”
, 
S‹_t
 *
¡©e
 ) const {

303 
	gcompÚ’t_num
 = (è
s
.
size
();

304 
boŞ
 
	gw™houtComm™
 = 
Œue
;

305  
	gcompÚ’t
 = 0; compÚ’ˆ< 
	gcompÚ’t_num
; component++ ) {

306 
	g¡©e
[ 
compÚ’t
 ] = 
š™Ÿl_loc
[ component ];

307 iàĞ
	gs
[ 
compÚ’t
 ].
isComm™
Ğ
¡©e
[ component ] ) ) {

308 
	gmªag”
.
£tComm™S‹
Ğ
compÚ’t
, 
¡©e
 );

309 
	gw™houtComm™
 = 
çl£
;

312 iàĞ
	gw™houtComm™
 ) {

313  
	gcompÚ’t
 = 0; compÚ’ˆ< 
	gcompÚ’t_num
; component++ ) {

314 
	gs
[ 
compÚ’t
 ].
loÿtiÚRun
Ğ
š™Ÿl_loc
[ component ],

315 
mªag”
.
g‘ClockMªag”
(),

316 
mªag”
.
g‘DBM
Ğ
¡©e
 ) );

320  
	gcompÚ’t
 = 0; compÚ’ˆ< 
	gcompÚ’t_num
; component++ ) {

321 
	gs
[ 
compÚ’t
 ]

322 .
	gloÿtiÚs
[ 
mªag”
.
g‘Loc
Ğ
compÚ’t
, 
¡©e
 ) ]

323 .
em¶oyInv¬ŸÁs
Ğ
mªag”
.
g‘ClockMªag”
(),

324 
mªag”
.
g‘DBM
Ğ
¡©e
 ) );

328 
	g´iv©e
:

333 
veùÜ
<
TA_t
> 
s
;

334 
	gveùÜ
<
	gChªÃl
> 
	gchªÃls
;

335 
	gveùÜ
<
	gCouÁ”
> 
	gcouÁ”s
;

337 
	gşock_num
;

339 
	gveùÜ
<> 
	gš™Ÿl_loc
;

340 
	gveùÜ
<> 
	gvec_şock_nums
;

342 
	gveùÜ
<
	gC
> 
	gşock_max_v®ue
;

343 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	gdifã»nû_cÚs
;

345 
	g‹m¶©e
 <
ty³Çme
 
	gR1
> 
ä›nd
 
şass
 
	gR—chab™y
;

346 
	g‹m¶©e
 <
ty³Çme
 
	gR2
> 
ä›nd
 
şass
 
	gR—chabËS‘
;

347 
Œªsäom
Ğ
TA_t
 &

 ) {

349 iàĞ
	gşock_num
 > 0 ) {

350  
size_t
 
	gi
 = 0; i < 
	g
.
	gloÿtiÚs
.
size
(); i++ ) {

351 
	g
.
	gloÿtiÚs
[ 
i
 ].
şockShiá
Ğ
şock_num
 );

353  
size_t
 
	gi
 = 0; i < 
	g
.
	gŒªs™iÚs
.
size
(); i++ ) {

354 
	g
.
	gŒªs™iÚs
[ 
i
 ].
şockShiá
Ğ
şock_num
 );

356  
size_t
 
	gi
 = 0; i < 
	g
.
	g_‹m·‹
->
	g‹m¶©e_difã»nû_cÚs
.
size
();

357 
	gi
++ ) {

358 
	g
.
	gdifã»nû_cÚs
[ 
i
 ].
şockShiá
Ğ
şock_num
 );

361 
	gşock_num
 +ğ

.
g‘ClockNum
();

365 
	tC_t1
;

367 
	gDBMFaùÜy
<
	tC_t1
> 
	tDBMMªag”_t1
;

368 
	gDBM£t
<
	tC_t1
> 
	tDBMS‘_t1
;

370 
	gClockCÚ¡¿št
<
	tC_t1
> 
	tCS_t1
;

372 
	gLoÿtiÚ
<
	tC_t1
, 
	tCS_t1
, 
	tDBMMªag”_t1
, 
	tDBMS‘_t1
> 
	tL_t1
;

374 
	gT¿ns™iÚ
<
	tC_t1
, 
	tCS_t1
, 
	tDBMMªag”_t1
> 
	tT_t1
;

376 
	gTAS
<
	tC_t1
, 
	tL_t1
, 
	tT_t1
> 
	tINT_TAS_t
;

	@include/parameter.h

11 #iâdeà
__PARAMETER_H


12 
	#__PARAMETER_H


	)

13 
	~<m­
>

14 
	~<veùÜ
>

15 
Çme¥aû
 
	gg¿ph§t
 {

16 
usšg
 
	g¡d
::
m­
;

17 
usšg
 
	g¡d
::
veùÜ
;

18 şas 
	cP¬am‘”
 {

20 
	gpublic
:

21 
P¬am‘”
() {}

22 
£tCouÁ”M­
Ğ
loÿl_id
, 
glob®_id
 ) {

23 
	gcouÁ”_m­
[ 
loÿl_id
 ] = 
glob®_id
;

25 
£tChªM­
Ğ
loÿl_id
, 
glob®_id
 ) {

26 
	gchª_m­
[ 
loÿl_id
 ] = 
glob®_id
;

29 cÚ¡ 
	gm­
<, > &
g‘CouÁ”M­
ĞècÚ¡ {  
	gcouÁ”_m­
; }

30 cÚ¡ 
	gm­
<, > &
g‘ChªM­
ĞècÚ¡ {  
	gchª_m­
; }

31 
addP¬am‘”V®ue
Ğ
v
 ) { 
	g·¿m‹r_v®ue
.
push_back
( v ); }

33 cÚ¡ 
	gveùÜ
<> &
g‘P¬am‘”V®ue
(ècÚ¡ {  
	g·¿m‹r_v®ue
; }

35 
	g´iv©e
:

36 
m­
<, > 
	gcouÁ”_m­
;

37 
	gm­
<, > 
	gchª_m­
;

38 
	gveùÜ
<> 
	g·¿m‹r_v®ue
;

	@include/problem/reachability.hpp

12 #iâdeà
__REACHABILITY_HPP


13 
	#__REACHABILITY_HPP


	)

15 
	~<m­
>

16 
	~<£t
>

17 
	~<veùÜ
>

19 
	~"mod–/.hµ
"

20 
	~"´İ”ty/´İ”ty.h
"

21 
	~"ut/·¿Î–.h
"

23 
Çme¥aû
 
	gg¿ph§t
 {

25 
usšg
 
	g¡d
::
m­
;

26 
usšg
 
	g¡d
::
£t
;

27 
usšg
 
	g¡d
::
veùÜ
;

29 
	g‹m¶©e
 <
ty³Çme
 
	gR—chabËS‘
> cÏs 
	cR—chab™y
 {

31 
	gpublic
:

32 
R—chab™y
Ğ
R—chabËS‘
 &
outD©a
 )

33 : 
d©a
Ğ
outD©a
 )

34 , 
sys
Ğ
d©a
.
g‘SYS
() ) {}

36 ~
R—chab™y
() {}

38 
compu‹AÎR—chabËS‘
() {

39 
Prİ”ty
 
	g´İ
;

41 
run
Ğ&
´İ
 );

52 
boŞ
 
§tisfy
ĞcÚ¡ 
Prİ”ty
 *
´İ
 ) {  
run
(…rop ); }

60 
boŞ
 
run
ĞcÚ¡ 
Prİ”ty
 *
´İ
 ) {

62 
Check_S‹
 
	g»
 = 
d©a
.
£¬ch
Ğ
´İ
 );

64 iàĞ
	g»
 !ğ
UNKOWN
 ) {

65 iàĞ
TRUE
 =ğ
»
 ) {

66  
Œue
;

67 } iàĞ
	gFALSE
 =ğ
»
 ) {

68  
çl£
;

74  !
	gd©a
.
wa™Em±y
() ) {

76 
ty³Çme
 
	gR—chabËS‘
::
C_t
 *
¡©e
 = 
d©a
.
Ãxt
();

77 #ifdeà
CHECK_MEMORY


79 iàĞ
	gd©a
.
wa™Size
() > 100 ) {

80 
	gnum
 = 
d©a
.
wa™Size
() - 100;

81  
	gi
 = 0; i < 
	gnum
; i++ ) {

82 
ty³Çme
 
	gR—chabËS‘
::
C_t
 *
‹mp_¡©e
 = 
d©a
.
Ãxt
();

83 
	gd–‘e
[] 
	g‹mp_¡©e
;

88 iàĞ
	gd©a
.
ÚeS‹p
Ğ
´İ
, 
¡©e
 ) ) {

89 
	gd–‘e
[] 
	g¡©e
;

90  
	gŒue
;

92 
	gd–‘e
[] 
	g¡©e
;

95  
	gçl£
;

98 
	g´iv©e
:

99 
R—chabËS‘
 & 
d©a
;

100 cÚ¡ 
ty³Çme
 
	gR—chabËS‘
::
SYS_t
 &
sys
;

	@include/property/property.h

10 #iâdeà
_PROPERTY_H


11 
	#_PROPERTY_H


	)

12 
	~<veùÜ
>

14 
Çme¥aû
 
	gg¿ph§t
 {

15 
usšg
 
	g¡d
::
veùÜ
;

17 şas 
	cPrİ”ty
 {

18 
	gpublic
:

19 
vœtu®
 
boŞ
 
İ”©Ü
()ĞcÚ¡ 
S‹Mªag”
<> &
mªag”
,

20 cÚ¡ *cÚ¡ 
	g¡©e
 ) const {

21  
	gçl£
;

25 şas 
	cLocR—chPrİ”ty
 : 
public
 
Prİ”ty
 {

26 
public
:

27 
LocR—chPrİ”ty
Ğ
veùÜ
<> &
ls
 ) { 
loc
 =†s; }

28 
boŞ
 
İ”©Ü
()ĞcÚ¡ 
	gS‹Mªag”
<> &
	gmªag”
,

29 cÚ¡ *cÚ¡ 
	g¡©e
 ) const {

31  ( 0 =ğ
memcmp
Ğ
¡©e
, &
loc
[ 0 ],

32 
mªag”
.
g‘CompÚ’tNum
() * ( ) ) );

35 
	g´iv©e
:

36 
veùÜ
<> 
loc
;

39 şas 
	cFisch”Mutu®
 : 
public
 
Prİ”ty
 {

41 
public
:

42 
boŞ
 
İ”©Ü
()ĞcÚ¡ 
S‹Mªag”
<> &
mªag”
,

43 cÚ¡ *cÚ¡ 
	g¡©e
 ) const {

44 
	gcompÚ’t_num
 = 
mªag”
.
g‘CompÚ’tNum
();

45 
	gcs_num
 = 0;

46  
	gi
 = 0; i < 
	gcompÚ’t_num
; i++ ) {

47 iàĞ
	g¡©e
[ 
i
 ] == 3 ) {

48 
cs_num
++;

51  
	gcs_num
 >= 2;

	@include/reachableset.hpp

10 #iâdeà
__REACH_SET_HPP


11 
	#__REACH_SET_HPP


	)

12 
	~<®gÜ™hm
>

13 
	~<deque
>

14 
	~<f¡»am
>

15 
	~<io¡»am
>

16 
	~<¿ndom
>

17 
	~<veùÜ
>

19 
Çme¥aû
 
	gg¿ph§t
 {

20 
usšg
 
	g¡d
::
cİy
;

21 
usšg
 
	g¡d
::
deque
;

22 
usšg
 
	g¡d
::
fl
;

23 
usšg
 
	g¡d
::
of¡»am
;

24 
usšg
 
	g¡d
::
veùÜ
;

26 
	g‹m¶©e
 <
ty³Çme
 
	gSYS
> cÏs 
	cR—chabËS‘
 {

27 
	gpublic
:

28 
SYS
 
	tSYS_t
;

29 
ty³Çme
 
	tSYS_t
::
	tC_t
 C_t;

30 
R—chabËS‘
ĞcÚ¡ 
SYS
 &
ou‰a
 )

31 : 
sys
Ğ
ou‰a
 ) {

33 #ifdeà
DRAW_GRAPH


34 
cu¼’t_·»Á
 = -1;

37 
	gmªag”
 = 
sys
.
g‘S‹Mªag”
();

38 
	gcompÚ’t_num
 = 
sys
.
g‘CompÚ’tNum
();

40 
	gÿche_¡©e
 = 
mªag”
.
ÃwS‹
();

41 
	gÃxt_¡©e
 = 
mªag”
.
ÃwS‹
();

43 
	gcÚv”t_C_t
 = 
mªag”
.
ÃwS‹
();

45 
	gsys
.
š™S‹
Ğ
mªag”
, 
ÿche_¡©e
 );

47 
	gbody_Ëngth
 = 
mªag”
.
g‘S‹L’
(è- mªag”.
g‘ClockS¹
();

49 
	gcom´ess_¡©e
 = 
S‹CÚv”t
<
C_t
>Ğ
mªag”
.
g‘ClockS¹
(), 
	gbody_Ëngth
,

50 
	gmªag”
.
g‘H—dCom´essiÚ
(),

51 
	gmªag”
.
g‘BodyCom´essiÚ
() );

52 
	gcÚv”t_UINT
 = 
Ãw
 
UINT
[ 
com´ess_¡©e
.
g‘Com´essiÚSize
() ]();

53 
	g»ach_£t
.
£tP¬am
Ğ
com´ess_¡©e
.
g‘Com´essiÚSize
(),

54 
com´ess_¡©e
.
g‘Com´essiÚH—dSize
() );

56 iàĞ
	gmªag”
.
g‘ClockMªag”
().
isCÚsi¡’t
(

57 
mªag”
.
g‘DBM
Ğ
ÿche_¡©e
 ) ) ) {

59 
addToR—chabËS‘
Ğ
ÿche_¡©e
 );

60 
addToWa™
Ğ
ÿche_¡©e
 );

64 ~
R—chabËS‘
() {

65 
	g»ach_£t
.
ş—r
();

66 
	gmªag”
.
de¡royS‹
Ğ
ÿche_¡©e
 );

67 
	gmªag”
.
de¡royS‹
Ğ
Ãxt_¡©e
 );

68 
	gmªag”
.
de¡royS‹
Ğ
cÚv”t_C_t
 );

70 
	gd–‘e
[] 
	gcÚv”t_UINT
;

71  !
	gwa™_£t
.
em±y
() ) {

72 
C_t
 *
	g‹mp_¡©e
 = 
wa™_£t
.
äÚt
();

73 
	gwa™_£t
.
pİ_äÚt
();

74 
	gmªag”
.
de¡royS‹
Ğ
‹mp_¡©e
 );

78 cÚ¡ 
	gSYS
 &
g‘SYS
ĞècÚ¡ {  
	gsys
; }

83 
C_t
 *
Ãxt
() {

84 
C_t
 *
	g¡©e
 = 
wa™_£t
.
äÚt
();

85 
	gwa™_£t
.
pİ_äÚt
();

86  
	g¡©e
;

88 
boŞ
 
wa™Em±y
(ècÚ¡ {  
	gwa™_£t
.
em±y
(); }

89 
size_t
 
wa™Size
(ècÚ¡ {  
	gwa™_£t
.
size
(); }

91 
Check_S‹
 
£¬ch
ĞcÚ¡ 
Prİ”ty
 *
´İ
 ) {

93 ‡utØ
	g¡©e
 : 
»ach_£t
 ) {

94 
com´ess_¡©e
.
decode
Ğ
¡©e
, 
cÚv”t_C_t
 );

95 iàĞ
isR—ch
Ğ
´İ
, 
cÚv”t_C_t
 ) ) {

96  
	gTRUE
;

99  
	gUNKOWN
;

102 
boŞ
 
ÚeS‹p
ĞcÚ¡ 
Prİ”ty
 *
´İ
, 
C_t
 *
¡©e
 ) {

103 #ifdeà
DRAW_GRAPH


104 
	gcu¼’t_·»Á
++;

107 
	gPRINT_STATE_MACRO
;

109 iàĞ
	g¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] > 0 ) {

110  
	gcompÚ’t
 = 0; compÚ’ˆ< 
	gcompÚ’t_num
; component++ ) {

111 iàĞ
	gmªag”
.
isComm™Comp
Ğ
compÚ’t
, 
¡©e
 ) ) {

112  
ÚeCompÚ’t
Ğ
compÚ’t
, 
´İ
, 
¡©e
 );

117  
	gcompÚ’t
 = 0; compÚ’ˆ< 
	gcompÚ’t_num
; component++ ) {

119 iàĞ
	gmªag”
.
hasChªÃl
() &&

120 
	g¡©e
[ 
compÚ’t
 + 
compÚ’t_num
 ] !ğ
NO_CHANNEL
 ) {

127 iàĞ
ÚeCompÚ’t
Ğ
compÚ’t
, 
´İ
, 
¡©e
 ) ) {

129  
	gŒue
;

132  
	gçl£
;

135 
size_t
 
size
(ècÚ¡ {  
	g»ach_£t
.size(); }

137 
´ojeù
Ğ
m
, 
veùÜ
<veùÜ<
C_t
>> &
»
 ) {

138 
	g»
.
ş—r
();

139 
	gşock_¡¬t_loc
 = 
mªag”
.
g‘ClockS¹
();

141 ‡utØ
	g¡©e
 : 
»ach_£t
 ) {

143 
com´ess_¡©e
.
decode
Ğ
¡©e
, 
cÚv”t_C_t
 );

145 
	gveùÜ
<
	gC_t
> 
	gdummy
;

146  
	gi
 = 0; i < 
	gm
; i++ ) {

147 
	gdummy
.
push_back
Ğ
cÚv”t_C_t
[ 
i
 ] );

149  
	gi
 = 0; i <ğ
m
; i++ ) {

150  
	gj
 = 0; j <ğ
m
; j++ ) {

151 
	gdummy
.
push_back
(

152 
cÚv”t_C_t
[ 
i
 * ( 
compÚ’t_num
 + 1 ) + 
j
 + 
şock_¡¬t_loc
 ] );

156 
	g»
.
push_back
Ğ
dummy
 );

160 
g’”©ÜDÙ
ĞcÚ¡ 
¡ršg
 &
f’ame
 ) {

161 #ifdeà
DRAW_GRAPH


162 
of¡»am
 
fout
Ğ
f’ame
 );

163 
	gfout
 << "dig¿ph G {" << 
	g’dl
;

164 
	gËn
 = 
com´ess_¡©e
.
g‘Com´essiÚSize
();

165  
size_t
 
	gi
 = 1; i < 
	g¡©e_·»Á
.
size
(); i++ ) {

166 
	g·»Á
 = 
¡©e_·»Á
[ 
i
 ];

168 
	gcom´ess_¡©e
.
decode
Ğ&Ğ
´oûss_¡©es
[ 
·»Á
 * 
Ën
 ] ), 
ÿche_¡©e
 );

169 
	gcom´ess_¡©e
.
decode
Ğ&Ğ
´oûss_¡©es
[ 
i
 * 
Ën
 ] ), 
cÚv”t_C_t
 );

170 
	gfout
 << "\t" << 
	g¡©e_·»Á
[ 
i
 ] << " -> " << 
	gi
 << " [label=\"";

171  
	gj
 = 0; j < 
	gcompÚ’t_num
; j++ ) {

172 iàĞ
	gÿche_¡©e
[ 
j
 ] !ğ
cÚv”t_C_t
[ j ] ) {

173 
fout
 << 
j
 << " ";

177 
	gfout
 << "\"];" << 
	g’dl
;

179 
	gfout
 << "}";

180 
	gfout
.
şo£
();

184 
addToWa™
ĞcÚ¡ 
C_t
 *cÚ¡ 
¡©e
 ) {

185 
C_t
 *
	gÃwS‹
 = 
mªag”
.
ÃwS‹
Ğ
¡©e
 );

186 
	gwa™_£t
.
push_back
Ğ
ÃwS‹
 );

187 #ifdeà
DRAW_GRAPH


188 
	gcom´ess_¡©e
.
’code
Ğ
¡©e
, 
cÚv”t_UINT
 );

189 
	g´oûss_¡©es
.
š£¹
Ğ
´oûss_¡©es
.
’d
(), 
cÚv”t_UINT
,

190 
cÚv”t_UINT
 + 
com´ess_¡©e
.
g‘Com´essiÚSize
() );

191 
	g¡©e_·»Á
.
push_back
Ğ
cu¼’t_·»Á
 );

195 
šlše
 
boŞ
 
addToR—chabËS‘
ĞcÚ¡ 
C_t
 *cÚ¡ 
¡©e
 ) {

197 #iâdeà
CHECK_MEMORY


198 
	gcom´ess_¡©e
.
’code
Ğ
¡©e
, 
cÚv”t_UINT
 );

200  
	g»ach_£t
.
add
Ğ
cÚv”t_UINT
 ) > -1;

202  
	gŒue
;

205 
	g´iv©e
:

206 
S‹S‘
<
UINT
> 
»ach_£t
;

207 
	gdeque
<
	gC_t
 *> 
	gwa™_£t
;

209 
C_t
 * 
	gÿche_¡©e
;

210 
C_t
 * 
	gÃxt_¡©e
;

211 cÚ¡ 
	gSYS
 & 
	gsys
;

212 
ty³Çme
 
	gSYS
::
S‹Mªag”_t
 
mªag”
;

213 
	g‹m¶©e
 <
ty³Çme
 
	gR1
> 
ä›nd
 
şass
 
	gR—chab™y
;

214 
	gcompÚ’t_num
;

215 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

216 
	gS‹CÚv”t
<
	gC_t
> 
	gcom´ess_¡©e
;

217 
UINT
 * 
	gcÚv”t_UINT
;

218 
C_t
 * 
	gcÚv”t_C_t
;

220 #ifdeà
DRAW_GRAPH


221 
	gveùÜ
<
	gUINT
> 
	g´oûss_¡©es
;

222 
	gveùÜ
<> 
	g¡©e_·»Á
;

223 
	gcu¼’t_·»Á
;

234 
boŞ
 
isR—ch
ĞcÚ¡ 
Prİ”ty
 *
´İ
, cÚ¡ 
C_t
 *cÚ¡ 
¡©e
 ) const {

235  ( *
	g´İ
 )Ğ
	gmªag”
, 
	g¡©e
 );

247 
boŞ
 
ÚeCompÚ’t
Ğ
compÚ’t
, cÚ¡ 
Prİ”ty
 *
´İ
, 
C_t
 *
¡©e
 ) {

249 
	gsourû
 = 
mªag”
.
g‘Loc
Ğ
compÚ’t
, 
¡©e
 );

251 
	gout_deg»e
 =

252 
sys
.
s
[ 
compÚ’t
 ].
_‹m·‹
->
g¿ph
.
g‘OutDeg»e
Ğ
sourû
 );

253  
	gj
 = 0; j < 
	gout_deg»e
; j++ ) {

255 
	glšk
 = 
sys
.
s
[ 
compÚ’t
 ].
_‹m·‹
->
g¿ph
.
g‘Adj
Ğ
sourû
, 
j
 );

261 iàĞ!
	gsys
.
	gs
[ 
compÚ’t
 ].
	gŒªs™iÚs
[ 
lšk
 ].
»ady
ĞcompÚ’t, 
mªag”
,

262 
¡©e
 ) ) {

266 iàĞ
	gsys
.
	gs
[ 
compÚ’t
 ].
	gŒªs™iÚs
[ 
lšk
 ].
hasChªÃl
() ) {

267 cÚ¡ 
	gChªÃl
 &
	gchªÃl
 =

268 
sys
.
s
[ 
compÚ’t
 ].
Œªs™iÚs
[ 
lšk
 ].
g‘ChªÃl
();

271 iàĞ
doSynchrÚize
Ğ
compÚ’t
, 
´İ
, 
¡©e
, 
lšk
, 
chªÃl
 ) ) {

272  
	gŒue
;

276 iàĞ
ÚeT¿nisiÚ
Ğ
compÚ’t
, 
lšk
, 
´İ
, 
¡©e
 ) ) {

277  
	gŒue
;

281  
	gçl£
;

295 
boŞ
 
unBlockOÃ
ĞcÚ¡ 
cu¼’t_compÚ’t
, cÚ¡ 
block_compÚ’t_id
,

296 cÚ¡ 
lšk
, 
C_t
 *
¡©e
, cÚ¡ 
Prİ”ty
 *
´İ
,

297 
boŞ
 
is_£nd
 ) {

299 
	gmªag”
.
cİy
Ğ
Ãxt_¡©e
, 
¡©e
 );

300 
	gÃxt_¡©e
[ 
block_compÚ’t_id
 + 
compÚ’t_num
 ] = 
NO_CHANNEL
;

302 cÚ¡ 
	gblock_lšk
 = 
Ãxt_¡©e
[ 
block_compÚ’t_id
 ];

303 
	gblock_sourû
 = 0;

304 
	gsys
.
	gs
[ 
block_compÚ’t_id
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSrc
Ğ
block_lšk
,

305 
block_sourû
 );

307 
	gÃxt_¡©e
[ 
block_compÚ’t_id
 ] = 
block_sourû
;

308 
	g£nd_compÚ’t_id
 = 
cu¼’t_compÚ’t
;

309 
	g£nd_lšk
 = 
lšk
;

310 
	g»ûive_compÚ’t_id
 = 
block_compÚ’t_id
;

311 
	g»ûive_lšk
 = 
block_lšk
;

313 iàĞ!
	gis_£nd
 ) {

314 
	g£nd_compÚ’t_id
 = 
block_compÚ’t_id
;

315 
	g£nd_lšk
 = 
block_lšk
;

316 
	g»ûive_compÚ’t_id
 = 
cu¼’t_compÚ’t
;

317 
	g»ûive_lšk
 = 
lšk
;

324 
	gsys
.
	gs
[ 
£nd_compÚ’t_id
 ].
	gŒªs™iÚs
[ 
£nd_lšk
 ](

325 
	g£nd_compÚ’t_id
, 
	gmªag”
,

326 
	gÃxt_¡©e
 );

328 
	gsys
.
	gs
[ 
»ûive_compÚ’t_id
 ].
	gŒªs™iÚs
[ 
»ûive_lšk
 ](

329 
	g»ûive_compÚ’t_id
, 
	gmªag”
, 
	gÃxt_¡©e
 );

331 
	g£nd_rg‘
 = 0;

332 
	gsys
.
	gs
[ 
£nd_compÚ’t_id
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSnk
Ğ
£nd_lšk
,

333 
£nd_rg‘
 );

334 
	gÃxt_¡©e
[ 
£nd_compÚ’t_id
 ] = 
£nd_rg‘
;

339 
	g»ûive_rg‘
 = 0;

341 
	gsys
.
	gs
[ 
»ûive_compÚ’t_id
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSnk
Ğ
»ûive_lšk
,

342 
»ûive_rg‘
 );

343 
	gÃxt_¡©e
[ 
»ûive_compÚ’t_id
 ] = 
»ûive_rg‘
;

345 
boŞ
 
	gis_»ûive_comm™
 =

346 
sys
.
s
[ 
»ûive_compÚ’t_id
 ].
loÿtiÚs
[ 
»ûive_rg‘
 ].
isComm™
();

351 iàĞ
	gis_»ûive_comm™
 ) {

352 
	gmªag”
.
£tComm™S‹
Ğ
»ûive_compÚ’t_id
, 
Ãxt_¡©e
 );

355 
	gsourû
, 
	grg‘
;

356 
	gsourû
 = 
rg‘
 = 0;

357 
	gsys
.
	gs
[ 
£nd_compÚ’t_id
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSrcSnk
Ğ
£nd_lšk
,

358 
sourû
, 
rg‘
 );

360 iàĞ
	gsys
.
	gs
[ 
£nd_compÚ’t_id
 ].
	gloÿtiÚs
[ 
sourû
 ].
isF»ezeLoÿtiÚ
() ) {

361 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]--;

362 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] >= 0 );

364 iàĞ
	gsys
.
	gs
[ 
£nd_compÚ’t_id
 ].
	gloÿtiÚs
[ 
rg‘
 ].
isF»ezeLoÿtiÚ
() ) {

365 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]++;

366 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
(è] <ğ
compÚ’t_num
 );

369 
	gsys
.
	gs
[ 
»ûive_compÚ’t_id
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSrcSnk
(

370 
»ûive_lšk
, 
sourû
, 
rg‘
 );

372 iàĞ
	gsys
.
	gs
[ 
»ûive_compÚ’t_id
 ]

373 .
	gloÿtiÚs
[ 
sourû
 ]

374 .
isF»ezeLoÿtiÚ
() ) {

375 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]--;

376 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] >= 0 );

379 iàĞ
	gsys
.
	gs
[ 
»ûive_compÚ’t_id
 ]

380 .
	gloÿtiÚs
[ 
rg‘
 ]

381 .
isF»ezeLoÿtiÚ
() ) {

382 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]++;

383 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
(è] <ğ
compÚ’t_num
 );

389  
d–ay
Ğ
£nd_compÚ’t_id
, 
£nd_rg‘
, 
´İ
, 
Ãxt_¡©e
 );

396 
boŞ
 
doSynchrÚize
Ğ
compÚ’t
, cÚ¡ 
Prİ”ty
 *
´İ
, 
C_t
 *
¡©e
, 
lšk
,

397 cÚ¡ 
ChªÃl
 &
chªÃl
 ) {

399 
	gveùÜ
<> 
	gwa™_compÚ’ts
;

400 
boŞ
 
	gis_£nd
 = 
Œue
;

401 iàĞ
	gCHANNEL_SEND
 =ğ
chªÃl
.
aùiÚ
 ) {

402 
wa™_compÚ’ts
 = 
mªag”
.
blockCompÚ’ts
Ğ-
chªÃl
.
glßbl_id
, 
¡©e
 );

403 } iàĞ
	gCHANNEL_RECEIVE
 =ğ
chªÃl
.
aùiÚ
 ) {

404 
is_£nd
 = 
çl£
;

405 
	gwa™_compÚ’ts
 = 
mªag”
.
blockCompÚ’ts
Ğ
chªÃl
.
glßbl_id
, 
¡©e
 );

407 iàĞ!
	gwa™_compÚ’ts
.
em±y
() ) {

408 iàĞ
	gchªÃl
.
	gty³
 =ğ
ONE2ONE_CH
 ) {

409 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
(

410 0, 
wa™_compÚ’ts
.
size
() - 1 );

411 
	gid
 = 
di¡ributiÚ
Ğ
g’”©Ü
 );

412 
	gblock_compÚ’t_id
 = 
wa™_compÚ’ts
[ 
id
 ];

413  
unBlockOÃ
Ğ
compÚ’t
, 
block_compÚ’t_id
, 
lšk
, 
¡©e
, 
´İ
,

414 
is_£nd
 );

415 } iàĞ
	gchªÃl
.
	gty³
 =ğ
BROADCAST_CH
 ) {

416 ‡utØ
id
 : 
wa™_compÚ’ts
 ) {

417 
block_compÚ’t_id
 = 
wa™_compÚ’ts
[ 
id
 ];

418 iàĞ
unBlockOÃ
Ğ
compÚ’t
, 
block_compÚ’t_id
, 
lšk
, 
¡©e
, 
´İ
,

419 
is_£nd
 ) ) {

420  
	gŒue
;

426 
	gmªag”
.
cİy
Ğ
ÿche_¡©e
, 
¡©e
 );

427 
as£¹
Ğ
chªÃl
.
glßbl_id
 > 0 );

428 iàĞ
	gCHANNEL_SEND
 =ğ
chªÃl
.
aùiÚ
 ) {

429 
ÿche_¡©e
[ 
compÚ’t
 + 
compÚ’t_num
 ] =

430 
chªÃl
.
glßbl_id
;

431 } iàĞ
	gCHANNEL_RECEIVE
 =ğ
chªÃl
.
aùiÚ
 ) {

432 
ÿche_¡©e
[ 
compÚ’t
 + 
compÚ’t_num
 ] =

433 -
chªÃl
.
glßbl_id
;

436 
	gÿche_¡©e
[ 
compÚ’t
 ] = 
lšk
;

437 iàĞ
addToR—chabËS‘
Ğ
ÿche_¡©e
 ) ) {

438 
addToWa™
Ğ
ÿche_¡©e
 );

441  
	gçl£
;

456 
boŞ
 
ÚeT¿nisiÚ
ĞcÚ¡ 
compÚ’t
, cÚ¡ 
lšk
, cÚ¡ 
Prİ”ty
 *
´İ
,

457 cÚ¡ 
C_t
 *cÚ¡ 
¡©e
 ) {

459 
	gmªag”
.
cİy
Ğ
Ãxt_¡©e
, 
¡©e
 );

460 
	gsourû
 = 0;

461 
	grg‘
 = 0;

462 
	gsys
.
	gs
[ 
compÚ’t
 ].
	g_‹m·‹
->
	gg¿ph
.
fšdSrcSnk
Ğ
lšk
, 
sourû
, 
rg‘
 );

463 iàĞ
	gsys
.
	gs
[ 
compÚ’t
 ].
	gloÿtiÚs
[ 
sourû
 ].
isF»ezeLoÿtiÚ
() ) {

464 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]--;

465 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] >= 0 );

467 iàĞ
	gsys
.
	gs
[ 
compÚ’t
 ].
	gloÿtiÚs
[ 
rg‘
 ].
isF»ezeLoÿtiÚ
() ) {

468 
	gÃxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ]++;

469 
as£¹
Ğ
Ãxt_¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
(è] <ğ
compÚ’t_num
 );

472 
	gsys
.
	gs
[ 
compÚ’t
 ].
	gŒªs™iÚs
[ 
lšk
 ](

473 
	gcompÚ’t
, 
	gmªag”
,

474 
	gÃxt_¡©e
 );

476  
d–ay
Ğ
compÚ’t
, 
rg‘
, 
´İ
, 
Ãxt_¡©e
 );

479 
boŞ
 
d–ay
ĞcÚ¡ 
compÚ’t
, cÚ¡ 
rg‘
, cÚ¡ 
Prİ”ty
 *
´İ
,

480 
C_t
 *
¡©e
 ) {

482 iàĞ!
	gsys
.
	gs
[ 
compÚ’t
 ].
	gloÿtiÚs
[ 
rg‘
 ].
isR—chabË
(

483 
mªag”
.
g‘ClockMªag”
(), mªag”.
g‘DBM
Ğ
¡©e
 ) ) ) {

484  
	gçl£
;

486 
	g¡©e
[ 
compÚ’t
 ] = 
rg‘
;

491 iàĞ0 =ğ
¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] ) {

492 
sys
.
s
[ 
compÚ’t
 ].
loÿtiÚs
[ 
rg‘
 ]Ğ
mªag”
.
g‘ClockMªag”
(),

493 
mªag”
.
g‘DBM
Ğ
¡©e
 ) );

496  
po¡D–ay
Ğ
compÚ’t
, 
rg‘
, 
´İ
, 
¡©e
 );

499 
boŞ
 
po¡D–ay
ĞcÚ¡ 
compÚ’t
, cÚ¡ 
rg‘
, cÚ¡ 
Prİ”ty
 *
´İ
,

500 
C_t
 *
¡©e
 ) {

502 
boŞ
 
	gis_comm™
 = 
sys
.
s
[ 
compÚ’t
 ].
loÿtiÚs
[ 
rg‘
 ].
isComm™
();

504 
boŞ
 
	g»_boŞ
 = 
çl£
;

505 iàĞ0 =ğ
¡©e
[ 
mªag”
.
g‘F»ezeLoÿtiÚ
() ] ) {

506  
comp_id
 = 0; 
	gcomp_id
 < 
	gcompÚ’t_num
; comp_id++ ) {

507 
	gsys
.
	gs
[ 
comp_id
 ]

508 .
	gloÿtiÚs
[ 
mªag”
.
g‘Loc
Ğ
comp_id
, 
¡©e
 ) ]

509 .
em¶oyInv¬ŸÁs
Ğ
mªag”
.
g‘ClockMªag”
(),

510 
mªag”
.
g‘DBM
Ğ
¡©e
 ) );

513 iàĞ
	gmªag”
.
hasDiffCÚs
() ) {

515 
	gveùÜ
<
ty³Çme
 
	gSYS
::
C_t
 *> 
Ãxt_dbms
;

516 
	gmªag”
.
nÜm
Ğ
mªag”
.
g‘DBM
Ğ
¡©e
 ), 
Ãxt_dbms
 );

518 ‡utØ
	gdbm
 : 
Ãxt_dbms
 ) {

519 
mªag”
.
cÚ¡ruùS‹
Ğ
compÚ’t
, 
rg‘
, 
¡©e
, 
dbm
, 
is_comm™
,

520 
ÿche_¡©e
 );

521 iàĞ
addToR—chabËS‘
Ğ
ÿche_¡©e
 ) ) {

522 
addToWa™
Ğ
ÿche_¡©e
 );

523 iàĞ
isR—ch
Ğ
´İ
, 
ÿche_¡©e
 ) ) {

524 
	g»_boŞ
 = 
Œue
;

529 ‡utØ
	gdbm
 : 
Ãxt_dbms
 ) {

530 
mªag”
.
g‘ClockMªag”
().
de¡royDBM
Ğ
dbm
 );

533 
	gmªag”
.
nÜm
Ğ
mªag”
.
g‘DBM
Ğ
¡©e
 ) );

534 
	gmªag”
.
cÚ¡ruùS‹
Ğ
compÚ’t
, 
rg‘
, 
is_comm™
, 
¡©e
 );

536 iàĞ
addToR—chabËS‘
Ğ
¡©e
 ) ) {

537 
addToWa™
Ğ
¡©e
 );

538 iàĞ
isR—ch
Ğ
´İ
, 
¡©e
 ) ) {

539  
	gŒue
;

543  
	g»_boŞ
;

	@include/statemanager.hpp

11 #iâdeà
__STATE_MANAGER_H


12 
	#__STATE_MANAGER_H


	)

13 
	~<veùÜ
>

15 
	~"disü‘e¡©e.hµ
"

16 
	~"mod–/.hµ
"

17 
	~"·¿m‘”.h
"

18 
	~"ut/d©acom´essiÚ.h
"

20 
Çme¥aû
 
	gg¿ph§t
 {

22 
usšg
 
	g¡d
::
veùÜ
;

24 
	g‹m¶©e
 <
ty³Çme
 
	gC
> cÏs 
	cS‹CÚv”t
 {

26 
	gpublic
:

27 
S‹CÚv”t
() {

28 
h—d_Ëngth
 = 0;

29 
	gh—d_comp
 = 0;

30 
	gcom´essiÚ_size
 = 0;

32 
S‹CÚv”t
Ğ
hL’
, 
bL’
, 
Com´essiÚ
<
C
> 
hCom
, Com´essiÚ<C> 
bCom
 ) {

33 
	gh—d_Ëngth
 = 
hL’
;

35 
	gcom_h—d_Ëngth
 = 
hCom
.
g‘Com´essiÚSize
();

37 
	gcom´essiÚ_size
 = 
hCom
.
g‘Com´essiÚSize
(è+ 
bCom
.getCompressionSize();

38 
	gh—d_comp
 = 
hCom
;

39 
	gbody_comp
 = 
bCom
;

42 
’code
ĞcÚ¡ 
C
 *
d©a
, 
UINT
 *
out
 ) const {

43 
	gh—d_comp
.
’code
Ğ
d©a
, 
out
 );

44 
	gbody_comp
.
’code
Ğ
d©a
 + 
h—d_Ëngth
, 
out
 + 
com_h—d_Ëngth
 );

47 
decode
ĞcÚ¡ 
UINT
 *
d©a
, 
C
 *
out
 ) const {

48 
	gh—d_comp
.
decode
Ğ
d©a
, 
out
 );

49 
	gbody_comp
.
decode
Ğ
d©a
 + 
com_h—d_Ëngth
, 
out
 + 
h—d_Ëngth
 );

51 
g‘Com´essiÚSize
(ècÚ¡ {  
	gcom´essiÚ_size
; }

53 
g‘Com´essiÚH—dSize
(ècÚ¡ {  
	gh—d_comp
.
g‘Com´essiÚSize
(); }

55 
	g´iv©e
:

56 
h—d_Ëngth
;

57 
	gcom_h—d_Ëngth
;

59 
	gcom´essiÚ_size
;

60 
	gCom´essiÚ
<
	gC
> 
	gh—d_comp
;

61 
	gCom´essiÚ
<
	gC
> 
	gbody_comp
;

64 
	g‹m¶©e
 <
ty³Çme
 
	gC
> cÏs 
	cS‹Mªag”
 {

80 
	gpublic
:

81 
S‹Mªag”
() {

83 
compÚ’t_num
 = 
¡©e_Ëngth
 = 
couÁ”_¡¬t_loc
 = 
ä“ze_loÿtiÚ_šdex
 =

85 
	gchªÃl_num
 = 0;

88 
S‹Mªag”
Ğ
comp_num
, cÚ¡ 
veùÜ
<
CouÁ”
> &
ecouÁ”s
, 
şock_num
,

89 cÚ¡ 
veùÜ
<
C
> & 
şock_uµ”_bounds
,

90 cÚ¡ 
veùÜ
<
ClockCÚ¡¿št
<
C
>> &
edifã»nû_cÚs
,

91 cÚ¡ 
veùÜ
<> &
nodes
, 
chªÃl_n
 ) {

92 
	g¡©e_Ëngth
 = 0;

93 
	gcompÚ’t_num
 = 
comp_num
;

95 
	gdifã»nû_cÚ¡¿šts
 = 
edifã»nû_cÚs
;

96 
	gnode_nums
 = 
nodes
;

98 
	gchªÃl_num
 = 
chªÃl_n
;

100 iàĞ
	gchªÃl_num
 > 0 ) {

101 
	gcouÁ”_¡¬t_loc
 = 2 * 
compÚ’t_num
;

102 
	g¡©e_Ëngth
 = 2 * 
compÚ’t_num
 + (è
ecouÁ”s
.
size
();

104 
	gcouÁ”_¡¬t_loc
 = 
compÚ’t_num
;

105 
	g¡©e_Ëngth
 = 
compÚ’t_num
 + (è
ecouÁ”s
.
size
();

107 
	gä“ze_loÿtiÚ_šdex
 = 
¡©e_Ëngth
;

109 
	g¡©e_Ëngth
++;

110 
	gşock_¡¬t_loc
 = 
¡©e_Ëngth
;

112 
	g¡©e_Ëngth
 +ğĞ
şock_num
 + 1 ) * ( clock_num + 1 );

114 
	gdbm_mªag”
 =

115 
DBMFaùÜy
<
C
>Ğ
şock_num
, 
	gşock_uµ”_bounds
, 
	gdifã»nû_cÚ¡¿šts
 );

116 
	gcouÁ”s
 = 
ecouÁ”s
;

118 
g‘S‹L’
(ècÚ¡ {  
	g¡©e_Ëngth
; }

120 
g‘ClockS¹
(ècÚ¡ {  
	gşock_¡¬t_loc
; }

122 
g‘F»ezeLoÿtiÚ
(ècÚ¡ {  
	gä“ze_loÿtiÚ_šdex
; }

124 
	gCom´essiÚ
<
	gC
> 
g‘H—dCom´essiÚ
() const {

125 
	gCom´essiÚ
<
	gC
> 
»_comp
Ğ
şock_¡¬t_loc
 );

126  
	gi
 = 0; i < 
	gcompÚ’t_num
; i++ ) {

127 
	g»_comp
.
£tBound
Ğ
i
, -
node_nums
[ i ] - 1,‚ode_nums[ i ] + 1 );

129 iàĞ
	gchªÃl_num
 > 0 ) {

130  
	gi
 = 0; i < 
	gcompÚ’t_num
; i++ ) {

131 
	g»_comp
.
£tBound
Ğ
i
 + 
compÚ’t_num
, -
chªÃl_num
, channel_num + 1 );

134 
	gk
 = 0;

135  
	gi
 = 
couÁ”_¡¬t_loc
; i < 
	gä“ze_loÿtiÚ_šdex
; i++ ) {

136 
	g»_comp
.
£tBound
Ğ
i
, 
couÁ”s
[ 
k
 ].
g‘LB
(), couÁ”s[ k ].
g‘UP
() );

137 
	gk
++;

144 
	g»_comp
.
£tBound
Ğ
ä“ze_loÿtiÚ_šdex
, 0, 
compÚ’t_num
 );

146  
	g»_comp
;

149 
	gCom´essiÚ
<
	gC
> 
g‘BodyCom´essiÚ
() const {

151 
	gCom´essiÚ
<
	gC
> 
»_comp
Ğ
¡©e_Ëngth
 - 
şock_¡¬t_loc
 );

153  
	g»_comp
;

156 
boŞ
 
hasChªÃl
(ècÚ¡ {  
	gchªÃl_num
 > 0; }

158 
g‘Loc
Ğ
compÚ’t
, cÚ¡ 
C
 *cÚ¡ 
¡©e
 ) const {

159 iàĞ
isComm™Comp
Ğ
compÚ’t
, 
¡©e
 ) ) {

160  
g‘Comm™Loc
Ğ
compÚ’t
, 
¡©e
 );

162  
	g¡©e
[ 
compÚ’t
 ];

165 
C
 *
ÃwS‹
() const {

167 
C
 *
	g»_¡©e
 = 
Ãw
 C[ 
¡©e_Ëngth
 ];

169 
fl
Ğ
»_¡©e
,„e_¡©+ 
şock_¡¬t_loc
, 0 );

171 
	gdbm_mªag”
.
š™
Ğ
»_¡©e
 + 
şock_¡¬t_loc
 );

173  
	g»_¡©e
;

176 
cİy
Ğ
C
 *
des_¡©e
, cÚ¡ C *cÚ¡ 
sourû_¡©e
 ) const {

177 
memıy
Ğ
des_¡©e
, 
sourû_¡©e
, 
¡©e_Ëngth
 * Ğ
C
 ) );

180 
C
 *
ÃwS‹
ĞcÚ¡ C *
s
 ) const {

181 
C
 *
	g»
 = 
Ãw
 C[ 
¡©e_Ëngth
 ];

182 
memıy
Ğ
»
, 
s
, 
¡©e_Ëngth
 * Ğ
C
 ) );

183  
	g»
;

186 
de¡royS‹
Ğ
C
 *
s
 ) cÚ¡ { 
	gd–‘e
[] 
	gs
; }

188 
šlše
 
g‘CompÚ’tNum
(ècÚ¡ {  
	gcompÚ’t_num
; }

189 
šlše
 cÚ¡ 
	gDBMFaùÜy
<
	gC
> &
g‘ClockMªag”
(ècÚ¡ {  
	gdbm_mªag”
; }

191 
nÜm
ĞcÚ¡ 
C
 *cÚ¡ 
dbm
, 
veùÜ
<C *> &
»_vec
 ) const {

192 
C
 *
	gÃwDBM
 = 
dbm_mªag”
.
ü—‹DBM
Ğ
dbm
 );

193 
	gdbm_mªag”
.
nÜm
Ğ
ÃwDBM
, 
»_vec
 );

196 
nÜm
Ğ
C
 *
dbm
 ) { 
	gdbm_mªag”
.norm( dbm ); }

198 
šlše
 
C
 *
g‘DBM
ĞC *
¡©e
 ) cÚ¡ {  
	g¡©e
 + 
	gşock_¡¬t_loc
; }

200 
šlše
 cÚ¡ 
C
 *
g‘DBM
ĞcÚ¡ C *cÚ¡ 
¡©e
 ) const {

201  
	g¡©e
 + 
	gşock_¡¬t_loc
;

204 
šlše
 
C
 *
g‘CouÁ”V®ue
ĞC *
¡©e
 ) const {

205  
	g¡©e
 + 
	gcouÁ”_¡¬t_loc
;

208 
šlše
 cÚ¡ 
C
 *
g‘CouÁ”V®ue
ĞcÚ¡ C *cÚ¡ 
¡©e
 ) const {

209  
	g¡©e
 + 
	gcouÁ”_¡¬t_loc
;

212 
šlše
 
ªdIm¶
ĞcÚ¡ 
ClockCÚ¡¿št
<
C
> &
cs
, C *
¡©e
 ) const {

213  
	gdbm_mªag”
.
ªdIm¶
Ğ
g‘DBM
Ğ
¡©e
 ), 
cs
 );

215 
šlše
 
boŞ
 
isCÚsi¡’t
Ğ
C
 *
¡©e
 ) const {

216  
	gdbm_mªag”
.
isCÚsi¡’t
Ğ
g‘DBM
Ğ
¡©e
 ) );

219 
šlše
 
	gveùÜ
<> 
blockCompÚ’ts
ĞcÚ¡ 
chid
,

220 cÚ¡ 
C
 *cÚ¡ 
¡©e
 ) const {

221 
	gveùÜ
<> 
	g»_block_compÚ’ts
;

222  
	gi
 = 0; i < 
	gcompÚ’t_num
; i++ ) {

229 iàĞ
	g¡©e
[ 
i
 + 
compÚ’t_num
 ] =ğ
chid
 ) {

230 
»_block_compÚ’ts
.
push_back
Ğ
i
 );

233  
	g»_block_compÚ’ts
;

236 
šlše
 
cÚ¡ruùS‹
ĞcÚ¡ 
compÚ’t_id
, cÚ¡ 
rg‘
,

237 cÚ¡ 
C
 *cÚ¡ 
¡©e
, C *
dbm
, 
boŞ
 
isComm™
,

238 
C
 *
»_¡©e
 ) const {

240 
memıy
Ğ
»_¡©e
, 
¡©e
, 
şock_¡¬t_loc
 * Ğ
C
 ) );

242 
	g»_¡©e
[ 
compÚ’t_id
 ] = 
rg‘
;

243 
memıy
Ğ
»_¡©e
 + 
şock_¡¬t_loc
, 
dbm
,

244 Ğ
¡©e_Ëngth
 - 
şock_¡¬t_loc
 ) * Ğ
C
 ) );

245 iàĞ
	gisComm™
 ) {

246 
£tComm™S‹
Ğ
compÚ’t_id
, 
»_¡©e
 );

250 
šlše
 
cÚ¡ruùS‹
ĞcÚ¡ 
compÚ’t_id
, cÚ¡ 
rg‘
,

251 
boŞ
 
isComm™
, 
C
 *
¡©e
 ) {

252 
	g¡©e
[ 
compÚ’t_id
 ] = 
rg‘
;

253 iàĞ
	gisComm™
 ) {

254 
£tComm™S‹
Ğ
compÚ’t_id
, 
¡©e
 );

258 
šlše
 
boŞ
 
isComm™Comp
ĞcÚ¡ 
compÚ’t_id
,

259 cÚ¡ 
C
 *cÚ¡ 
¡©e
 ) const {

260  
	g¡©e
[ 
compÚ’t_id
 ] < 0;

269 
šlše
 
£tComm™S‹
ĞcÚ¡ 
compÚ’t_id
, 
C
 *
¡©e
 ) const {

270 
	g¡©e
[ 
compÚ’t_id
 ] = -1 - 
¡©e
[ component_id ];

273 
šlše
 
g‘Comm™Loc
ĞcÚ¡ 
compÚ’t_id
,

274 cÚ¡ 
C
 *cÚ¡ 
¡©e
 ) const {

275  -Ğ
	g¡©e
[ 
compÚ’t_id
 ] ) - 1;

277 
boŞ
 
hasDiffCÚs
(ècÚ¡ {  !
	gdifã»nû_cÚ¡¿šts
.
em±y
(); }

279 
	g´iv©e
:

280 
chªÃl_num
;

281 
	gcompÚ’t_num
;

282 
	g¡©e_Ëngth
;

283 
	gä“ze_loÿtiÚ_šdex
;

285 
	gcouÁ”_¡¬t_loc
;

286 
	gşock_¡¬t_loc
;

288 
	gveùÜ
<
	gClockCÚ¡¿št
<
	gC
>> 
	gdifã»nû_cÚ¡¿šts
;

290 
	gDBMFaùÜy
<
	gC
> 
	gdbm_mªag”
;

291 
	gveùÜ
<
	gCouÁ”
> 
	gcouÁ”s
;

292 
	gveùÜ
<
	gP¬am‘”
> 
	g·¿m‘”s
;

293 
	gveùÜ
<> 
	gnode_nums
;

	@include/transition.hpp

10 #iâdeà
EDGE_HPP


11 
	#EDGE_HPP


	)

13 
	~<veùÜ
>

15 
	~"chªÃl.h
"

16 
	~"cÚ¡¿št/couÁ”cÚs.h
"

17 
	~"¡©emªag”.hµ
"

19 
	~"ut/š¡ªûçùÜy.h
"

21 
Çme¥aû
 
	gg¿ph§t
 {

22 
usšg
 
	g¡d
::
veùÜ
;

23 
	g‹m¶©e
 <
ty³Çme
 
	gC
,y³Çm
	gCS
,y³Çm
	gD
> cÏs 
	cT¿ns™iÚ
 {

25 
	gT¿ns™iÚ
<
	tC
, 
	tCS
, 
	tD
> 
	tT¿ns™iÚ_t
;

27 
	gpublic
:

28 
T¿ns™iÚ
() {

29 
sourû
 = 
rg‘
 = -1;

30 
	ghas_chªÃl
 = 
çl£
;

32 
T¿ns™iÚ
Ğ
s
, 
t
 ) {

33 
	gsourû
 = 
s
;

34 
	grg‘
 = 
t
;

35 
	ghas_chªÃl
 = 
çl£
;

38 
T¿ns™iÚ
ĞcÚ¡ 
T¿ns™iÚ_t
 &
Ùh”
, cÚ¡ 
P¬am‘”
 &
·¿m
 ) {

39 
	gsourû
 = 
Ùh”
.
sourû
;

40 
	grg‘
 = 
Ùh”
.
rg‘
;

41 
	ggu¬ds
 = 
Ùh”
.
gu¬ds
;

43 ‡utØ
	ge
 : 
Ùh”
.
couÁ”_cÚs
 ) {

44 
CouÁ”CÚ¡¿št
 *
dummy
 = 
cİy
Ğ
e
 );

46 
	gdummy
->
glob®Upd©e
Ğ
·¿m
.
g‘CouÁ”M­
(),…¬am.
g‘P¬am‘”V®ue
() );

47 
	gcouÁ”_cÚs
.
push_back
Ğ
dummy
 );

50 
	ghas_chªÃl
 = 
Ùh”
.
has_chªÃl
;

51 iàĞ
	ghas_chªÃl
 ) {

52 
	gchªÃl
 = 
Ùh”
.
chªÃl
;

53 
	gchªÃl
.
glob®IpUpd©e
Ğ
·¿m
.
g‘ChªM­
() );

56 ‡utØ
	ga
 : 
Ùh”
.
aùiÚs
 ) {

57 
CouÁ”AùiÚ
 *
dummy
 = 
cİy
Ğ
a
 );

58 
	gdummy
->
glob®Upd©e
Ğ
·¿m
.
g‘CouÁ”M­
(),…¬am.
g‘P¬am‘”V®ue
() );

59 
	gaùiÚs
.
push_back
Ğ
dummy
 );

61 
	g»£ts
 = 
Ùh”
.
»£ts
;

64 
£tSourû
Ğ
s
 ) { 
	gsourû
 = s; }

66 
g‘Sourû
(ècÚ¡ {  
	gsourû
; }

68 
£tT¬g‘
Ğ
t
 ) { 
	grg‘
 =; }

70 
g‘T¬g‘
(ècÚ¡ {  
	grg‘
; }

72 cÚ¡ 
	gveùÜ
<
	gCS
> &
g‘Gu¬ds
(ècÚ¡ {  
	ggu¬ds
; }

83 
ä›nd
 
	gT¿ns™iÚ_t
 &
	gİ”©Ü
+ĞT¿ns™iÚ_ˆ&
	glhs
, 
	gCS
 &
	gcs
 ) {

84 
	glhs
.
	ggu¬ds
.
push_back
Ğ
cs
 );

85  
	glhs
;

94 
	gT¿ns™iÚ_t
 &
	gİ”©Ü
+=Ğ
CS
 &
cs
 ) {

95 
gu¬ds
.
push_back
Ğ
cs
 );

96  *
	gthis
;

99 
£tChªÃl
ĞcÚ¡ 
ChªÃl
 &
ch
 ) {

100 
	gchªÃl
 = 
ch
;

101 iàĞ
	gch
.
	gglßbl_id
 > 
	gNO_CHANNEL
 ) {

102 
	ghas_chªÃl
 = 
Œue
;

106 cÚ¡ 
	gChªÃl
 &
g‘ChªÃl
(ècÚ¡ {  
	gchªÃl
; }

108 
boŞ
 
hasChªÃl
(ècÚ¡ {  
	ghas_chªÃl
; }

117 
addCouÁ”AùiÚ
ĞcÚ¡ *
aùiÚ
 ) {

118 
	gaùiÚs
.
push_back
Ğ(
CouÁ”AùiÚ
*è
aùiÚ
 );

127 
addRe£t
Ğ
·œ
<, > &
»£t
 ) { 
	g»£ts
.
push_back
(„eset ); }

129 
addCouÁ”CÚs
Ğ*
gu¬ds
 ) {

130 
	gcouÁ”_cÚs
.
push_back
Ğ(
CouÁ”CÚ¡¿št
*è
gu¬ds
 );

143 
boŞ
 
»ady
ĞcÚ¡ 
compÚ’t
, cÚ¡ 
S‹Mªag”
<
C
> &
mªag”
,

144 cÚ¡ 
C
 *cÚ¡ 
¡©e
 ) const {

145 iàĞ!
	ggu¬ds
.
em±y
() ) {

147 cÚ¡ 
	gD
 &
	gdbm_mªag”
 = 
mªag”
.
g‘ClockMªag”
();

148 cÚ¡ 
C
 *
	gsourû_DBM
 = 
mªag”
.
g‘DBM
Ğ
¡©e
 );

149 
as£¹
Ğ
dbm_mªag”
.
isCÚsi¡’t
Ğ
sourû_DBM
 ) );

150 
C
 *
	gcİy_DBM
 = 
dbm_mªag”
.
ü—‹DBM
Ğ
sourû_DBM
 );

152 ‡utØ
	gcs
 : 
gu¬ds
 ) {

153 
dbm_mªag”
.
ªdIm¶
Ğ
cİy_DBM
, 
cs
 );

156 iàĞ!
	gdbm_mªag”
.
isCÚsi¡’t
Ğ
cİy_DBM
 ) ) {

157 
	gdbm_mªag”
.
de¡royDBM
Ğ
cİy_DBM
 );

158  
	gçl£
;

160 
	gdbm_mªag”
.
de¡royDBM
Ğ
cİy_DBM
 );

163 iàĞ!
	gcouÁ”_cÚs
.
em±y
() ) {

164 cÚ¡ 
C
 *
	gcouÁ”_v®ue
 = 
mªag”
.
g‘CouÁ”V®ue
Ğ
¡©e
 );

166 ‡utØ
	gcs
 : 
couÁ”_cÚs
 ) {

167 iàĞ!Ğ*
cs
 )Ğ
couÁ”_v®ue
 ) ) {

168  
çl£
;

172  
	gŒue
;

180 
İ”©Ü
()ĞcÚ¡ 
	gcompÚ’t
, cÚ¡ 
	gS‹Mªag”
<
	gC
> &
	gmªag”
,

181 
C
 *
	g»_¡©e
 ) const {

182 
as£¹
Ğ
»ady
Ğ
compÚ’t
, 
mªag”
, 
»_¡©e
 ) );

184 cÚ¡ 
	gD
 &
	gdbm_mªag”
 = 
mªag”
.
g‘ClockMªag”
();

186 
C
 *
	gsourû_DBM
 = 
mªag”
.
g‘DBM
Ğ
»_¡©e
 );

192 ‡utØ
	gcs
 : 
gu¬ds
 ) {

193 
dbm_mªag”
.
ªdIm¶
Ğ
sourû_DBM
, 
cs
 );

196 ‡utØ
	g»£t
 : 
»£ts
 ) {

197 
as£¹
Ğ
»£t
.
fœ¡
 > 0 );

198 
as£¹
Ğ
»£t
.
£cÚd
 >= 0 );

199 
	gdbm_mªag”
.
»£tIm¶
Ğ
sourû_DBM
, 
»£t
.
fœ¡
,„e£t.
£cÚd
 );

202 
C
 *
	gcouÁ”V®ue
 = 
mªag”
.
g‘CouÁ”V®ue
Ğ
»_¡©e
 );

204 ‡utØ
	gaù
 : 
aùiÚs
 ) {

205 Ğ*
aù
 )Ğ
couÁ”V®ue
 );

210 
şockShiá
Ğ
shiá
 ) {

211  
size_t
 
	gi
 = 0; i < 
	ggu¬ds
.
size
(); i++ ) {

212 
	ggu¬ds
[ 
i
 ].
şockShiá
Ğ
shiá
 );

214  
size_t
 
	gi
 = 0; i < 
	g»£ts
.
size
(); i++ ) {

215 
	g»£ts
[ 
i
 ].
	gfœ¡
 +ğ
shiá
;

219 
	g´iv©e
:

220 
sourû
, 
	grg‘
;

222 
	gveùÜ
<
	gCS
> 
	ggu¬ds
;

224 
	gveùÜ
<
	gCouÁ”CÚ¡¿št
 *>

225 
	gcouÁ”_cÚs
;

226 
ChªÃl
 
	gchªÃl
;

227 
boŞ
 
	ghas_chªÃl
;

229 
	gveùÜ
<cÚ¡ 
	gCouÁ”AùiÚ
 *>

230 
	gaùiÚs
;

231 
	gveùÜ
<
	g·œ
<, >> 
	g»£ts
;

	@include/util/data.hpp

11 #iâdeà
__DATA_H


12 
	#__DATA_H


	)

13 
	~<m­
>

14 
	~<s¡»am
>

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
Çme¥aû
 
	gg¿ph§t
 {

19 
usšg
 
	g¡d
::
m­
;

20 
usšg
 
	g¡d
::
·œ
;

21 
usšg
 
	g¡d
::
¡ršg
;

22 
usšg
 
	g¡d
::
¡ršg¡»am
;

23 
usšg
 
	g¡d
::
veùÜ
;

25 
	#STRING
Ğ
s
 ) #s

	)

27 #ifdeà
PRINT_STATE


29 
	#PRINT_STATE_MACRO
 \

30  
i
 = 0; i < 
compÚ’t_num
; i++ ) { \

31 
cout
 << 
¡©e
[ 
i
 ] << " "; \

33 
cout
 << 
’dl
 \

34 << 
mªag”
.
	`g‘ClockMªag”
().
	`dump
Ğmªag”.
	`g‘DBM
Ğ
¡©e
 ) ) << 
’dl
;

	)

38 
	#PRINT_STATE_MACRO


	)

42 
	#SINGLETON
Ğ
T
 ) \

43 
´iv©e
: \

44 
	`T
() {} \

45 
	`T
ĞcÚ¡ 
T
 &
Ùh”
 ) { 
	`as£¹
Ğ
çl£
 ); } \

46 
T
 &
İ”©Ü
=ĞcÚ¡ T &
Ùh”
 ) { \

47 
	`as£¹
Ğ
çl£
 ); \

48  *
this
; \

51 
public
: \

52 
T
 &
	`g‘In¡ªû
() { \

53 
T
 
š¡ªû
; \

54  
š¡ªû
; \

55 }

	)

57 
	#d–‘eTy³
Ğ
V¬
, 
TYPE
 ) \

59 
veùÜ
<
·œ
<
¡ršg
, veùÜ<*>>> 
‹mp
 = 
V¬
.
	`g‘V®ue
( #TYPE ); \

60 ‡utØ
e
 : 
‹mp
 ) { \

61 ‡utØ
“
 : 
e
.
£cÚd
 ) { \

62 
	`d–‘e
 (
TYPE
 *è
“
; \

65 
V¬
.
	`ş—r
( #TYPE ); \

66 }

	)

68 
šlše
 
¡ršg
 
¬¿yToV¬
ĞcÚ¡ sŒšg &
Çme
, 
id
 ) {

69 
¡ršg¡»am
 
	gss
;

70 
	gss
 << 
	gid
;

71  
	gÇme
 + "#" + 
	gss
.
¡r
();

74 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cV®ueD©a
 {

75 
	gpublic
:

76 
ş—r
(è{ 
v®ues
.clear(); }

77 
ş—r
ĞcÚ¡ 
¡ršg
 &
ty³
 ) { 
	gv®ues
[ype ].clear(); }

79 
addV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
T
 
v
 = 0 ) {

81  
size_t
 
i
 = 0; 
	gi
 < 
	gv®ues
[ 
ty³
 ].
size
(); i++ ) {

82 iàĞ
	gv®ues
[ 
ty³
 ][ 
i
 ].
	gfœ¡
 =ğ
Çme
 ) {

83 
v®ues
[ 
ty³
 ][ 
i
 ].
£cÚd
.
push_back
Ğ
v
 );

88 
	gveùÜ
<
	gT
> 
	gvec_v
;

89 
	gvec_v
.
push_back
Ğ
v
 );

90 
	gv®ues
[ 
ty³
 ].
push_back
Ğ
make_·œ
Ğ
Çme
, 
vec_v
 ) );

93 
£tV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
T
 
v
 ) {

95  
size_t
 
	gi
 = 0; i < 
	gv®ues
[ 
ty³
 ].
size
(); i++ ) {

96 iàĞ
	gv®ues
[ 
ty³
 ][ 
i
 ].
	gfœ¡
 =ğ
Çme
 ) {

97 iàĞ
v®ues
[ 
ty³
 ][ 
i
 ].
£cÚd
.
em±y
() ) {

98 
v®ues
[ 
ty³
 ][ 
i
 ].
£cÚd
.
push_back
Ğ
v
 );

100 
	gv®ues
[ 
ty³
 ][ 
i
 ].
	g£cÚd
[ 0 ] = 
v
;

105 
addV®ue
Ğ
ty³
, 
Çme
, 
v
 );

108 
g‘Ty³Num
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

109 iàĞ
	gv®ues
.
fšd
Ğ
ty³
 ) =ğ
v®ues
.
’d
() ) {

112  (è
	gv®ues
.
©
Ğ
ty³
 ).
size
();

123 
g‘Id
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

124 iàĞ
	gv®ues
.
fšd
Ğ
ty³
 ) =ğ
v®ues
.
’d
() ) {

128  
size_t
 
	gi
 = 0; i < 
	gv®ues
.
©
Ğ
ty³
 ).
size
(); i++ ) {

129 iàĞ
	gv®ues
.
©
Ğ
ty³
 )[ 
i
 ].
	gfœ¡
 =ğ
Çme
 ) {

130  (è
i
;

136 cÚ¡ 
	g·œ
<
	g¡ršg
, 
	gveùÜ
<
	gT
>> &
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, 
id
 ) const {

137  
	gv®ues
.
©
Ğ
ty³
 )[ 
id
 ];

140 
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<
	gT
>>> 
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
 ) const {

142 iàĞ
	gv®ues
.
fšd
Ğ
ty³
 ) !ğ
v®ues
.
’d
() ) {

143  
v®ues
.
©
Ğ
ty³
 );

146  
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<
	gT
>>>();

149 
boŞ
 
hasV®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
 ) const {

150 iàĞ
	gv®ues
.
fšd
Ğ
ty³
 ) =ğ
v®ues
.
’d
() ) {

151  
çl£
;

153  
size_t
 
	gi
 = 0; i < 
	gv®ues
.
©
Ğ
ty³
 ).
size
(); i++ ) {

154 iàĞ
	gv®ues
.
©
Ğ
ty³
 )[ 
i
 ].
	gfœ¡
 =ğ
Çme
 ) {

155  !Ğ
v®ues
.
©
Ğ
ty³
 )[ 
i
 ].
£cÚd
.
em±y
() );

158  
	gçl£
;

161 
T
 
g‘V®ue
ĞcÚ¡ 
¡ršg
 &
ty³
, cÚ¡ sŒšg &
Çme
, 
id
 = 0 ) const {

162  
size_t
 
i
 = 0; 
	gi
 < 
	gv®ues
.
©
Ğ
ty³
 ).
size
(); i++ ) {

163 iàĞ
	gv®ues
.
©
Ğ
ty³
 )[ 
i
 ].
	gfœ¡
 =ğ
Çme
 ) {

164  
v®ues
.
©
Ğ
ty³
 )[ 
i
 ].
£cÚd
[ 
id
 ];

167 
as£¹
Ğ
çl£
 );

168  (
	gT
) -1;

171 
	g´iv©e
:

172 
m­
<
¡ršg
, 
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<
	gT
>>>> 
	gv®ues
;

175 
	gV®ueD©a
<*> 
	tPoš‹rD©a
;

	@include/util/datacompression.h

12 #iâdeà
__DATA_COMPRESSION_H


13 
	#__DATA_COMPRESSION_H


	)

14 
	~<cm©h
>

15 
	~<lim™s
>

16 
	~<veùÜ
>

17 
Çme¥aû
 
	gg¿ph§t
 {

18 
	tUINT
;

19 
usšg
 
	g¡d
::
make_·œ
;

20 
usšg
 
	g¡d
::
num”ic_lim™s
;

21 
usšg
 
	g¡d
::
·œ
;

22 
usšg
 
	g¡d
::
veùÜ
;

23 
	g‹m¶©e
 <
ty³Çme
 
	gT
> cÏs 
	cCom´essiÚ
 {

24 
	gpublic
:

25 
Com´essiÚ
(è{ 
row_Ën
 = 0; }

26 
Com´essiÚ
Ğ
Ën
 )

27 : 
row_Ën
Ğ
Ën
 )

28 , 
bounds
Ğ
Ën
 )

29 , 
domaš
Ğ
Ën
, 
num”ic_lim™s
<
UINT
>::
max
() )

30 , 
shiá
Ğ
Ën
, 
Œue
 ) {

31  
	gi
 = 0; i < 
	gËn
; i++ ) {

32 
	gbounds
[ 
i
 ].
	gfœ¡
 = 
num”ic_lim™s
<>::
mš
();

33 
	gbounds
[ 
i
 ].
	g£cÚd
 = 
num”ic_lim™s
<>::
max
();

35 
upd©e
();

38 
£tBound
Ğ
id
, 
low
, 
up
 ) {

39 
as£¹
Ğ
up
 > 
low
 );

40 
	gbounds
[ 
id
 ].
	gfœ¡
 = 
low
;

41 
	gbounds
[ 
id
 ].
	g£cÚd
 = 
up
;

42 
UINT
 
	gbound
 = 
up
 - 
low
;

43 
	gdomaš
[ 
id
 ] = 
bound
;

44 
upd©e
();

46 
g‘Com´essiÚSize
(ècÚ¡ {  
	gcom´essiÚSize
; }

48 
’code
ĞcÚ¡ 
T
 *cÚ¡ 
d©a
, 
UINT
 *
out
 ) const {

49 
fl
Ğ
out
, ouˆ+ 
row_Ën
, 0 );

50 
	gj
 = 0;

51 
UINT
 
	gba£
 = 1;

52  
	gi
 = 0; i < 
	grow_Ën
; i++ ) {

53 
as£¹
Ğ
d©a
[ 
i
 ] >ğ
bounds
[ i ].
fœ¡
 );

54 
as£¹
Ğ
d©a
[ 
i
 ] < 
bounds
[ i ].
£cÚd
 );

55 iàĞ
	gshiá
[ 
i
 ] ) {

56 
	gj
++;

57 
	gba£
 = 1;

59 
	gout
[ 
j
 ] +ğĞ
d©a
[ 
i
 ] - 
bounds
[ i ].
fœ¡
 ) * 
ba£
;

60 
	gba£
 *ğ
domaš
[ 
i
 ];

64 
decode
ĞcÚ¡ 
UINT
 *cÚ¡ 
d©a
, 
T
 *
out
 ) const {

65 
	gj
 = 0;

66 
UINT
 
	gdummy
 = 
d©a
[ 0 ];

67  
	gi
 = 0; i < 
	grow_Ën
; i++ ) {

68 iàĞ
	gshiá
[ 
i
 ] ) {

69 
	gj
++;

70 
	gdummy
 = 
d©a
[ 
j
 ];

72 
	gout
[ 
i
 ] = ( 
dummy
 % 
domaš
[ i ] ) + 
bounds
[ i ].
fœ¡
;

73 
	gdummy
 /ğ
domaš
[ 
i
 ];

77 
	g´iv©e
:

78 
row_Ën
;

84 
	gveùÜ
<
	g·œ
<
	gT
, T>> 
	gbounds
;

85 
	gveùÜ
<
	gUINT
> 
	gdomaš
;

87 
	gveùÜ
<
	gboŞ
> 
	gshiá
;

88 
	gcom´essiÚSize
;

90 
upd©e
() {

91 
fl
Ğ
shiá
.
begš
(), shiá.
’d
(), 
çl£
 );

92 
	gcom´essiÚSize
 = 1;

93 
UINT
 
	gdummy
 = 
num”ic_lim™s
<UINT>::
max
();

94  
	gi
 = 0; i < 
	grow_Ën
; i++ ) {

95 iàĞ
	gdummy
 < 
	gdomaš
[ 
i
 ] ) {

96 
	gshiá
[ 
i
 ] = 
Œue
;

97 
	gdummy
 = 
num”ic_lim™s
<
UINT
>::
max
();

98 
	gcom´essiÚSize
++;

100 
	gdummy
 /ğ
domaš
[ 
i
 ];

	@include/util/dbmutil.hpp

11 #iâdeà
DBM_UTIL_HPP


12 
	#DBM_UTIL_HPP


	)

13 
	~<io¡»am
>

14 
	~<lim™s
>

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
	#LTEQ_ZERO
 ( (
C
è1 )

	)

20 
	#ÃwA
Ğ
__E
, 
__n
 ) (__E *è
	`m®loc
ĞĞ__Àè* Ğ__E ) )

	)

22 
Çme¥aû
 
	gg¿ph§t
 {

23 
usšg
 
	g¡d
::
¡ršg
;

24 
usšg
 
	g¡d
::
veùÜ
;

25 cÚ¡ 
	gz”o_şock_šdex
 = 0;

27 cÚ¡ 
¡ršg
 
	gNTA_STR
 = "nta";

29 cÚ¡ 
¡ršg
 
	gDECLARATION_STR
 = "declaration";

31 cÚ¡ 
¡ršg
 
	gTEMPLATE_STR
 = "template";

33 cÚ¡ 
¡ršg
 
	gNAME_STR
 = "name";

35 cÚ¡ 
¡ršg
 
	gPARAMETER_STR
 = "parameter";

37 cÚ¡ 
¡ršg
 
	gLOCATION_STR
 = "location";

39 cÚ¡ 
¡ršg
 
	gINIT_STR
 = "init";

41 cÚ¡ 
¡ršg
 
	gTRANSITION_STR
 = "transition";

43 cÚ¡ 
¡ršg
 
	gSOURCE_STR
 = "source";

45 cÚ¡ 
¡ršg
 
	gTARGET_STR
 = "target";

47 cÚ¡ 
¡ršg
 
	gID_STR
 = "id";

49 cÚ¡ 
¡ršg
 
	gREF_STR
 = "ref";

51 cÚ¡ 
¡ršg
 
	gLABEL_STR
 = "label";

53 cÚ¡ 
¡ršg
 
	gKIND_STR
 = "kind";

55 cÚ¡ 
¡ršg
 
	gNAIL_STR
 = "nail";

57 cÚ¡ 
¡ršg
 
	gINVARIANT_STR
 = "invariant";

59 cÚ¡ 
¡ršg
 
	gGUARD_STR
 = "guard";

61 cÚ¡ 
¡ršg
 
	gASSIGNMENT_STR
 = "assignment";

63 cÚ¡ 
¡ršg
 
	gSYNCHRONISATION_STR
 = "synchronisation";

65 cÚ¡ 
¡ršg
 
	gSYSTEM_STR
 = "system";

67 cÚ¡ 
¡ršg
 
	gQUERIES_STR
 = "queries";

69 cÚ¡ 
¡ršg
 
	gQUERY_STR
 = "query";

71 cÚ¡ 
¡ršg
 
	gFORMULA_STR
 = "formula";

73 cÚ¡ 
¡ršg
 
	gCOMMENT_STR
 = "comment";

75 cÚ¡ 
¡ršg
 
	gRESET_STR
 = "reset";

77 cÚ¡ 
¡ršg
 
	gINT_STR
 = "int";

81 cÚ¡ 
¡ršg
 
	gCHAN_STR
 = "chan";

85 cÚ¡ 
¡ršg
 
	gCLOCK_STR
 = "clock";

89 cÚ¡ 
¡ršg
 
	gBOOL_STR
 = "bool";

93 cÚ¡ 
¡ršg
 
	gPARAMETER_REF_STR
 = "&";

95 
	tDF_T
;

97 
	eCheck_S‹
 { 
	gTRUE
, 
	gFALSE
, 
	gUNKOWN
 };

99 
	eCOMP_OPERATOR
 { 
	gEQ
, 
	gLE
, 
	gGE
, 
	gLT
, 
	gGT
, 
	gNE
 };

101 
COMP_OPERATOR
 
Ãg©iÚ
ĞCOMP_OPERATOR 
İ
 ) {

102  
	gİ
 ) {

103 
	gEQ
: {

104  
NE
;

106 
	gLE
: {

107  
GT
;

109 
	gGE
: {

110  
LT
;

112 
	gLT
: {

113  
GE
;

115 
	gGT
: {

116  
LE
;

118 
	gNE
: {

119  
EQ
;

123 
	eTYPE_T
 {

124 
	gINT_T
,

125 
	gCLOCK_T
,

126 
	gBOOL_T
,

127 
	gCHAN_T
,

128 
	gURGENT_CHAN_T
,

129 
	gBROADCAST_CHAN_T
,

130 
	gPARAMETER_T
,

131 
	gTEMPLATE_T
,

132 
	gNO_T


139 
	g‹m¶©e
 <
ty³Çme
 
	gC
> 
šlše
 
C
 
g‘MAX_INT
ĞcÚ¡ C 
c
 ) {

140  
	g¡d
::
num”ic_lim™s
<
C
>::
max
() / 2 - 2;

143 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

144 
šlše
 
C
 
g‘M©rixV®ue
ĞC 
»®Right
, 
boŞ
 
isSŒù
 = 
Œue
 ) {

145 
C
 
right
 = 
»®Right
 * 2;

146 iàĞ!
	gisSŒù
 ) {

147 
	gright
 = 
right
 | 1;

149  
	gright
;

152 
	g‹m¶©e
 <
ty³Çme
 
	gC
> 
šlše
 
boŞ
 
isSŒiù
ĞcÚ¡ 
C
 
c
 ) {

153  ( 
	gc
 & 1 ) == 0;

156 
	g‹m¶©e
 <
ty³Çme
 
	gC
> 
	g¡d
::
¡ršg
 
g‘Comp
ĞcÚ¡ 
C
 
x
 ) {

157 iàĞ
x
 & 1 ) {

164 
	g‹m¶©e
 <
ty³Çme
 
	gC
> 
šlše
 
C
 
g‘Right
ĞcÚ¡ C 
c
 ) {  
	gc
 >> 1; }

166 
	g‹m¶©e
 <
ty³Çme
 
	gC
> 
šlše
 
C
 
ÃgM©rixV®ue
ĞC 
m©rix_v®ue
 ) {

167 
boŞ
 
	g¡riù
 = 
isSŒiù
Ğ
m©rix_v®ue
 );

169  
g‘M©rixV®ue
Ğ-
g‘Right
Ğ
m©rix_v®ue
 ), 
¡riù
 );

172 
	g‹m¶©e
 <
şass
 
	gT
> 
šlše
 
boŞ
 
CAS
Ğ
T
 *
±r
, T 
Şdv
, T 
Ãwv
 ) {

173 iàĞĞ
	gT
 ) == 1 ) {

174  
__sync_boŞ_com·»_ªd_sw­
Ğ(
boŞ
 *è
±r
, *Ğ(boŞ *è&
Şdv
 ),

175 *Ğ(
boŞ
 *è&
Ãwv
 ) );

176 } iàĞĞ
	gT
 ) == 4 ) {

177  
__sync_boŞ_com·»_ªd_sw­
Ğ(*è
±r
, *Ğ(*è&
Şdv
 ),

178 *Ğ(*è&
Ãwv
 ) );

179 } iàĞĞ
	gT
 ) == 8 ) {

180  
__sync_boŞ_com·»_ªd_sw­
Ğ(*è
±r
, *Ğ(*è&
Şdv
 ),

181 *Ğ(*è&
Ãwv
 ) );

183 
	g¡d
::
cout
 << "CAS bad†’gth : " << Ğ
T
 ) << 
¡d
::
’dl
;

184 
abÜt
();

188 
	g‹m¶©e
 <
şass
 
	gT
> 
šlše
 
boŞ
 
wr™eMš
Ğ
T
 *
a
, T 
b
 ) {

189 
T
 
	gc
;

190 
boŞ
 
	gr
 = 0;

192 
	gc
 = *
a
;

193  
	gc
 > 
	gb
 && !Ğ
	gr
 = 
CAS
Ğ
a
, 
c
, 
b
 ) ) );

194  
	gr
;

197 
	g‹m¶©e
 <
şass
 
	gT
> 
šlše
 
wr™eAdd
Ğ
T
 *
a
, T 
b
 ) {

198 vŞ©
T
 
	gÃwV
, 
	gŞdV
;

200 
	gŞdV
 = *
a
;

201 
	gÃwV
 = 
ŞdV
 + 
b
;

202 }  !
CAS
Ğ
a
, 
ŞdV
, 
ÃwV
 ) );

205 
	gveùÜ
<
	g¡ršg
> 
¥l™SŒ
ĞcÚ¡ 
¡ršg
 &
¡ršgToBeS¶™‹d
,

206 cÚ¡ 
¡ršg
 &
d–im‘”
 );

208 
¡ršg
 
d–‘eCh¬
ĞcÚ¡ sŒšg &
v®ue
, cÚ¡ 
size_t
 
¡¬t
, cÚ¡ 
ch
 );

	@include/util/fastHash.h

10 #iâdeà
Fa¡_HASH_H


11 
	#Fa¡_HASH_H


	)

12 
	~<c¡dšt
>

14 #undeà
g‘16b™s


15 #iàĞ
defšed
Ğ
__GNUC__
 ) && defšedĞ
__i386__
 ) ) || \

16 
defšed
Ğ
__WATCOMC__
 ) || defšedĞ
_MSC_VER
 ) || \

17 
defšed
Ğ
__BORLANDC__
 ) || 
	$defšed
Ğ
__TURBOC__
 )

18 
	#g‘16b™s
Ğ
d
 ) ( *Ğ(cÚ¡ 
ušt16_t
 *èĞd ) ) )

	)

21 #ià!
	`defšed
Ğ
g‘16b™s
 )

22 
	#g‘16b™s
Ğ
d
 ) \

23 ĞĞĞĞ
ušt32_t
 )ĞĞ(cÚ¡ 
ušt8_t
 *èĞ
d
 ) )[ 1 ] ) ) << 8 ) + \

24 Ğ
ušt32_t
 )ĞĞ(cÚ¡ 
ušt8_t
 *èĞ
d
 ) )[ 0 ] ) )

	)

27 
ušt32_t
 
	`Fa¡Hash
ĞcÚ¡ *cÚ¡ 
ÜigD©a
, 
Ën
 );

	@include/util/gettime.h

10 #iâdeà
__GET_TIME_H


11 
	#__GET_TIME_H


	)

12 
	~<iomª
>

13 
	~<io¡»am
>

14 
	~<¡dlib.h
>

15 
	~<sys/time.h
>

17 
	stim”
 {

18 
	mtÙ®Time
;

19 
	mÏ¡Time
;

20 
	mtÙ®Weight
;

21 
boŞ
 
	mÚ
;

22 
timezÚe
 
	mtzp
;

23 
tim”
() {

24 
timezÚe
 
	mtz
 = {0, 0};

25 
	mtÙ®Time
 = 0.0;

26 
	mtÙ®Weight
 = 0.0;

27 
	mÚ
 = 0;

28 
	mtzp
 = 
tz
;

30 
g‘Time
() {

31 
timev®
 
	mnow
;

32 
g‘timeofday
Ğ&
now
, &
tzp
 );

33  ( (è
	mnow
.
	mtv_£c
 ) + ( (ènow.
	mtv_u£c
 ) / 1000000.;

35 
¡¬t
() {

36 
	mÚ
 = 1;

37 
	mÏ¡Time
 = 
g‘Time
();

39 
¡İ
() {

40 
	mÚ
 = 0;

41 
	md
 = ( 
g‘Time
(è- 
Ï¡Time
 );

42 
	mtÙ®Time
 +ğ
d
;

43  
	md
;

45 
¡İ
Ğ
weight
 ) {

46 
	mÚ
 = 0;

47 
	mtÙ®Weight
 +ğ
weight
;

48 
	md
 = ( 
g‘Time
(è- 
Ï¡Time
 );

49 
	mtÙ®Time
 +ğ
weight
 * 
d
;

50  
	md
;

53 
tÙ®
() {

54 iàĞ
	mÚ
 )

55  
	mtÙ®Time
 + 
g‘Time
(è- 
	mÏ¡Time
;

57  
	mtÙ®Time
;

60 
Ãxt
() {

61 iàĞ!
	mÚ
 )  0.0;

62 
	mt
 = 
g‘Time
();

63 
	mtd
 = 
t
 - 
Ï¡Time
;

64 
	mtÙ®Time
 +ğ
td
;

65 
	mÏ¡Time
 = 
t
;

66  
	mtd
;

69 
»pÜtT
Ğ
time
 ) {

70 
	m¡d
::
cout
 << 
¡d
::
£»cisiÚ
Ğ3 ) << 
time
 << std::
’dl
;

74 
»pÜtTime
Ğ
time
 ) { 
»pÜtT
(ime ); }

76 
»pÜtStİ
Ğ
weight
, 
¡d
::
¡ršg
 
¡r
 ) {

77 
¡d
::
cout
 << 
¡r
 << " :" << 
weight
 << ": ";

78 
»pÜtTime
Ğ
¡İ
Ğ
weight
 ) );

81 
»pÜtTÙ®
() {

82 
	mto
 = ( 
tÙ®Weight
 > 0.0 ) ? 
tÙ®
() /otalWeight :otal();

83 
»pÜtTime
Ğ
to
 );

84 
	mtÙ®Time
 = 0.0;

85 
	mtÙ®Weight
 = 0.0;

88 
»pÜtTÙ®
Ğ
¡d
::
¡ršg
 
¡r
 ) {

89 
¡d
::
cout
 << 
¡r
 << " : ";

90 
»pÜtTÙ®
();

93 
»pÜtNext
(è{ 
»pÜtTime
Ğ
Ãxt
() ); }

95 
»pÜtNext
Ğ
¡d
::
¡ršg
 
¡r
 ) {

96 
¡d
::
cout
 << 
¡r
 << " : ";

97 
»pÜtNext
();

101 
tim”
 
	g_tm
;

102 
	#timeS‹m’t
Ğ
_A
, 
_¡ršg
 ) \

103 
_tm
.
	`¡¬t
(); \

104 
_A
; \

105 
_tm
.
	`»pÜtNext
Ğ
_¡ršg
 );

	)

106 
	#¡¬tTime
(è
_tm
.
	`¡¬t
();

	)

107 
	#¡İTime
Ğ
_weight
, 
_¡r
 ) 
_tm
.
	`»pÜtStİ
Ğ_weight, _¡¸);

	)

108 
	#»pÜtTime
Ğ
_¡r
 ) 
_tm
.
	`»pÜtTÙ®
Ğ_¡¸);

	)

109 
	#ÃxtTime
Ğ
_¡ršg
 ) 
_tm
.
	`»pÜtNext
Ğ_¡ršg );

	)

110 
	#ÃxtTimeN
(è
_tm
.
	`»pÜtT
Ğ_tm.
	`Ãxt
(è);

	)

	@include/util/instancefactory.h

12 #iâdeà
INSTANCE_FACTORY


13 
	#INSTANCE_FACTORY


	)

14 
	~"cÚ¡¿št/couÁ”cÚs.h
"

16 
	~"aùiÚ/couÁ”aùiÚ.h
"

18 
	#»gi¡_to_çùÜy
Ğ
T
, 
V
, 
V1
 ) \

19 
T
 *
ü—‹
##T 
V
 {  
In¡ªûFaùÜy
::
	`g‘In¡ªû
().ü—‹##T 
V1
; }

	)

21 
	#»gi¡_çùÜy_m‘hod
Ğ
T
, 
V
, 
V1
, 
C
 ) \

22 
T
 *
ü—‹
##T 
V
 { \

23 
T
 *
»
 = 
Ãw
 T 
V1
; \

24 
pd©a
.
	`addV®ue
Ğ
	`STRING
Ğ
C
 ), STRINGĞ
T
 ), 
»
 ); \

25  
»
; \

26 }

	)

30 
Çme¥aû
 
	gg¿ph§t
 {

33 cÚ¡ 
	gDUMMY_ID
=-1;

35 şas 
	cIn¡ªûFaùÜy
 {

36 
SINGLETON
Ğ
In¡ªûFaùÜy
 );

38 
	gpublic
:

39 ~
In¡ªûFaùÜy
(è{ 
de¡roy
(); }

41 
	g´iv©e
:

42 
»gi¡_çùÜy_m‘hod
Ğ
DeçuÉCouÁ”CÚ¡¿št
,

43 ĞcÚ¡ 
veùÜ
<> &
pcÚs
, cÚ¡ veùÜ<> &
cÚs
,

44 
”hs
, 
COMP_OPERATOR
 
eİ
 ),

45 Ğ
pcÚs
, 
cÚs
, 
”hs
, 
eİ
 ), 
CouÁ”CÚ¡¿št
 )

47 
»gi¡_çùÜy_m‘hod
Ğ
OÃP¬am©”CÚ¡¿št
,

48 Ğ
·¿m‘”_id
, 
COMP_OPERATOR
 
İ
, 
rhs
 ),

49 Ğ
·¿m‘”_id
, 
İ
, 
rhs
 ), 
CouÁ”CÚ¡¿št
 )

50 
»gi¡_çùÜy_m‘hod
Ğ
CouÁ”P¬am‘”CÚ¡¿št
,

51 Ğ
couÁ”_id
, 
·¿m‘”_id
, 
COMP_OPERATOR
 
İ
,

52 
rhs
 ),

53 Ğ
couÁ”_id
, 
·¿m‘”_id
, 
İ
, 
rhs
 ),

54 
CouÁ”CÚ¡¿št
 )

56 
»gi¡_çùÜy_m‘hod
Ğ
TwoP¬am‘”CÚ¡¿št
,

57 Ğ
efœ¡_·¿m‘”_id
, 
e£cÚd_·¿m‘”_id
,

58 
COMP_OPERATOR
 
eİ
, 
”hs
 ),

59 Ğ
efœ¡_·¿m‘”_id
, 
e£cÚd_·¿m‘”_id
, 
eİ
,

60 
”hs
 ),

61 
CouÁ”CÚ¡¿št
 )

63 
»gi¡_çùÜy_m‘hod
Ğ
TwoCouÁ”CÚ¡¿št
,

64 Ğ
couÁ”_x
, 
couÁ”_y
, 
COMP_OPERATOR
 
İ
,

65 
rhs
, 
pid
 ),

66 Ğ
couÁ”_x
, 
couÁ”_y
, 
İ
, 
rhs
, 
pid
 ), 
CouÁ”CÚ¡¿št
 )

68 
»gi¡_çùÜy_m‘hod
Ğ
OÃCouÁ”CÚ¡¿št
,

69 Ğ
couÁ”_id
, 
COMP_OPERATOR
 
İ
, 
rhs
 ),

70 Ğ
couÁ”_id
, 
İ
, 
rhs
 ), 
CouÁ”CÚ¡¿št
 )

72 
»gi¡_çùÜy_m‘hod
Ğ
Sim¶eCouÁ”AùiÚ
, ( 
couÁ”_id
, 
v®ue
 ),

73 Ğ
couÁ”_id
, 
v®ue
 ), 
CouÁ”AùiÚ
 )

75 
»gi¡_çùÜy_m‘hod
Ğ
Sim¶eCouÁ”PAùiÚ
,

76 Ğ
couÁ”_id
, 
•¬am‘”_id
 ),

77 Ğ
couÁ”_id
, 
•¬am‘”_id
 ), 
CouÁ”AùiÚ
 )

79 
»gi¡_çùÜy_m‘hod
Ğ
DeçuÉCAùiÚ
,

80 Ğ
veùÜ
<
·œ
<, vector<pair<, >>>> &

81 
»ÏtiÚs1
 ),

82 Ğ
»ÏtiÚs1
 ), 
CouÁ”AùiÚ
 )

84 
	g´iv©e
:

85 
CouÁ”CÚ¡¿št
 *
cİy
ĞCouÁ”CÚ¡¿šˆ*
Ùh”
 ) {

86 
CouÁ”CÚ¡¿št
 *
»
 = 
Ùh”
->
cİy
();

87 
	gpd©a
.
addV®ue
Ğ
STRING
Ğ
CouÁ”CÚ¡¿št
 ), STRING( CounterConstraint ),

88 
»
 );

89  
	g»
;

92 
CouÁ”AùiÚ
 *
cİy
ĞcÚ¡ CouÁ”AùiÚ *
Ùh”
 ) {

93 
CouÁ”AùiÚ
 *
	g»
 = 
Ùh”
->
cİy
();

94 
	gpd©a
.
addV®ue
Ğ
STRING
Ğ
CouÁ”AùiÚ
 ), STRINGĞCouÁ”AùiÚ ), 
»
 );

95  
	g»
;

98 
	gpublic
:

99 
de¡roy
() {

101 
d–‘eTy³
Ğ
pd©a
, 
CouÁ”CÚ¡¿št
 );

103 
d–‘eTy³
Ğ
pd©a
, 
CouÁ”AùiÚ
 );

105 
	gpd©a
.
ş—r
();

108 
ä›nd
 
CouÁ”CÚ¡¿št
 *
cİy
ĞCouÁ”CÚ¡¿šˆ*
Ùh”
 );

110 
ä›nd
 
CouÁ”AùiÚ
 *
cİy
ĞcÚ¡ CouÁ”AùiÚ *
Ùh”
 );

112 
ä›nd
 
CouÁ”P¬am‘”CÚ¡¿št
 *
ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ
couÁ”_id
,

113 
·¿m‘”_id
,

114 
COMP_OPERATOR
 
İ
,

115 
rhs
 );

117 
ä›nd
 * 
ü—‹P¬am‘”CÚ¡¿št
ĞcÚ¡ 
·¿m‘”_id1
, cÚ¡ 
·¿m‘”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
 );

119 
ä›nd
 * 
ü—‹CouÁ”CÚ¡¿št
ĞcÚ¡ 
couÁ”_id1
, cÚ¡ 
couÁ”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
, 
pid
);

122 
ä›nd
 
Sim¶eCouÁ”AùiÚ
 *
ü—‹Sim¶eCouÁ”AùiÚ
Ğ
couÁ”_id
, 
v®ue
 );

124 
ä›nd
 
Sim¶eCouÁ”PAùiÚ
 *
ü—‹Sim¶eCouÁ”PAùiÚ
Ğ
couÁ”_id
,

125 
•¬am‘”_id
 );

127 
ä›nd
 
DeçuÉCAùiÚ
 *
ü—‹DeçuÉCAùiÚ
(

128 
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> &
»ÏtiÚs1
 );

131 
	g´iv©e
:

132 
Poš‹rD©a
 
pd©a
;

142 
CouÁ”P¬am‘”CÚ¡¿št
 *
ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ
couÁ”_id
,

143 
·¿m‘”_id
,

144 
COMP_OPERATOR
 
İ
,

145 
rhs
 );

158 
CouÁ”CÚ¡¿št
 *
cİy
ĞCouÁ”CÚ¡¿šˆ*
Ùh”
 );

160 
Sim¶eCouÁ”AùiÚ
 *
ü—‹Sim¶eCouÁ”AùiÚ
Ğ
couÁ”_id
, 
v®ue
 );

162 
Sim¶eCouÁ”PAùiÚ
 *
ü—‹Sim¶eCouÁ”PAùiÚ
Ğ
couÁ”_id
,

163 
•¬am‘”_id
 );

165 
DeçuÉCAùiÚ
 *
ü—‹DeçuÉCAùiÚ
(

166 
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> &
»ÏtiÚs1
 );

168 
CouÁ”AùiÚ
 *
cİy
ĞcÚ¡ CouÁ”AùiÚ *
Ùh”
 );

170 
CouÁ”P¬am‘”CÚ¡¿št
 *
ÃgCouÁ”P¬am‘”CÚ¡¿št
Ğ
·¿m‘”_id
,

171 
couÁ”_id
,

172 
COMP_OPERATOR
 
İ
,

173 
rhs
 );

184 * 
ü—‹P¬am‘”CÚ¡¿št
ĞcÚ¡ 
·¿m‘”_id1
, cÚ¡ 
·¿m‘”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
 );

197 * 
ü—‹CouÁ”CÚ¡¿št
ĞcÚ¡ 
couÁ”_id1
, cÚ¡ 
couÁ”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
, 
pid
=-10);

	@include/util/parallel.h

11 #iâdeà
__PARALLE_H


12 
	#__PARALLE_H


	)

14 #ià
defšed
Ğ
OPENMP
 )

15 
	~<omp.h
>

16 
	#ck_¥awn


	)

17 
	#ck_sync


	)

18 
	#·¿Î–_maš
 
maš


	)

19 
	#·¿Î–_fÜ
 
	`_P¿gma
("om°·¿Î– fÜ"è

	)

20 
	#·¿Î–_fÜ_1
 
	`_P¿gma
("om°·¿Î– fÜ scheduË (¡©ic,1)"è

	)

21 
	#·¿Î–_fÜ_256
 
	`_P¿gma
("om°·¿Î– fÜ scheduË (¡©ic,256)"è

	)

22 
	$g‘WÜk”s
(è{  
	`omp_g‘_max_th»ads
(); 
	}
}

23 
	$£tWÜk”s
Ğ
n
 ) { 
	`omp_£t_num_th»ads
ĞÀ); 
	}
}

27 
	#ck_¥awn


	)

28 
	#ck_sync


	)

29 
	#·¿Î–_maš
 
maš


	)

30 
	#·¿Î–_fÜ
 

	)

31 
	#·¿Î–_fÜ_1
 

	)

32 
	#·¿Î–_fÜ_256
 

	)

33 
	#ck_fÜ
 

	)

34 
	$g‘WÜk”s
(è{  1; 
	}
}

35 
	$£tWÜk”s
Ğ
n
 ) {
	}
}

	@src/datacompression.cpp

	@src/dbmutil.cpp

1 
	~"ut/dbmut.hµ
"

3 
Çme¥aû
 
	gg¿ph§t
 {

4 
¡ršg
 
Œim
Ğ
¡d
::¡ršg 
s
 );

6 
	g¡d
::
veùÜ
<
¡ršg
> 
¥l™SŒ
ĞcÚ¡ sŒšg &
¡ršg_to_¥l™‹d
,

7 cÚ¡ 
¡ršg
 &
d–im‘”
 ) {

8 
	gveùÜ
<
	g¡ršg
> 
	g¥l™_¡ršg
;

9 
size_t
 
	g¡¬t_šdex
 = 0;

10 
size_t
 
	gfound
 = 
¡ršg_to_¥l™‹d
.
fšd
Ğ
d–im‘”
, 
¡¬t_šdex
 );

11  
	gfound
 !ğ
¡ršg
::
Åos
 ) {

12 
¡ršg
 
v®
 =

13 
Œim
Ğ
¡ršg_to_¥l™‹d
.
sub¡r
Ğ
¡¬t_šdex
, 
found
 - start_index ) );

14 iàĞ
	gv®
 != "" ) {

15 
¥l™_¡ršg
.
push_back
Ğ
v®
 );

17 
	g¡¬t_šdex
 = 
found
 + 
d–im‘”
.
size
();

18 
	gfound
 = 
¡ršg_to_¥l™‹d
.
fšd
Ğ
d–im‘”
, 
¡¬t_šdex
 );

20 iàĞ
	g¡¬t_šdex
 < 
	g¡ršg_to_¥l™‹d
.
size
() ) {

21 
¡ršg
 
	gv®
 = 
Œim
Ğ
¡ršg_to_¥l™‹d
.
sub¡r
Ğ
¡¬t_šdex
 ) );

22 iàĞ
	gv®
 != "" ) {

23 
¥l™_¡ršg
.
push_back
Ğ
v®
 );

26  
	g¥l™_¡ršg
;

28 
¡ršg
 
d–‘eCh¬
ĞcÚ¡ sŒšg &
v®ue
, cÚ¡ 
size_t
 
¡¬t
, cÚ¡ 
ch
 ) {

29 * 
	gbuf
 = 
Ãw
 [ 
v®ue
.
Ëngth
() + 1 ];

30 
size_t
 
	gi
 = 0;

31 
size_t
 
	gk
 = 0;

32  ; 
	gi
 < 
	g¡¬t
; i++ ) {

33 
	gbuf
[ 
i
 ] = 
v®ue
[ i ];

35 
	gk
 = 
i
;

36  ; 
	gi
 < 
	gv®ue
.
Ëngth
(); i++ ) {

37 iàĞ
	gv®ue
[ 
i
 ] !ğ
ch
 ) {

38 
buf
[ 
k
++ ] = 
v®ue
[ 
i
 ];

41 
	gbuf
[ 
k
 ] = '\0';

42  
¡ršg
Ğ
buf
 );

	@src/fashHash.cpp

1 
	~"ut/ç¡Hash.h
"

3 
ušt32_t
 
	$Fa¡Hash
ĞcÚ¡ *cÚ¡ 
ÜigD©a
, 
Ën
 ) {

4 cÚ¡ *
d©a
 = 
ÜigD©a
;

5 
ušt32_t
 
hash
 = 
Ën
, 
tmp
;

6 
»m
;

8 iàĞ
Ën
 <ğ0 || 0 =ğ
d©a
 )  0;

10 
»m
 = 
Ën
 & 3;

11 
Ën
 >>= 2;

14  ; 
Ën
 > 0;†en-- ) {

15 
hash
 +ğ
	`g‘16b™s
Ğ
d©a
 );

16 
tmp
 = ( 
	`g‘16b™s
Ğ
d©a
 + 2 ) << 11 ) ^ 
hash
;

17 
hash
 = ( hash << 16 ) ^ 
tmp
;

18 
d©a
 +ğ2 * Ğ
ušt16_t
 );

19 
hash
 += hash >> 11;

23  
»m
 ) {

25 
hash
 +ğ
	`g‘16b™s
Ğ
d©a
 );

26 
hash
 ^= hash << 16;

27 
hash
 ^ğĞ(sigÃd è
d©a
[ Ğ
ušt16_t
 ) ] ) << 18;

28 
hash
 += hash >> 11;

31 
hash
 +ğ
	`g‘16b™s
Ğ
d©a
 );

32 
hash
 ^= hash << 11;

33 
hash
 += hash >> 17;

36 
hash
 +ğ(sigÃd è*
d©a
;

37 
hash
 ^= hash << 10;

38 
hash
 += hash >> 1;

42 
hash
 ^= hash << 3;

43 
hash
 += hash >> 5;

44 
hash
 ^= hash << 4;

45 
hash
 += hash >> 17;

46 
hash
 ^= hash << 25;

47 
hash
 += hash >> 6;

49  
hash
;

50 
	}
}

	@src/instancefactory.cpp

1 
	~"ut/š¡ªûçùÜy.h
"

2 
Çme¥aû
 
	gg¿ph§t
 {

13 
»gi¡_to_çùÜy
Ğ
CouÁ”P¬am‘”CÚ¡¿št
,

14 Ğ
couÁ”_id
, 
·¿m‘”_id
, 
COMP_OPERATOR
 
İ
,

15 
rhs
 ),

16 Ğ
couÁ”_id
, 
·¿m‘”_id
, 
İ
, 
rhs
 ) );

26 
CouÁ”CÚ¡¿št
 *
cİy
ĞCouÁ”CÚ¡¿šˆ*
Ùh”
 ) {

27  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
cİy
Ğ
Ùh”
 );

30 
»gi¡_to_çùÜy
Ğ
Sim¶eCouÁ”AùiÚ
, ( 
couÁ”_id
, 
v®ue
 ),

31 Ğ
couÁ”_id
, 
v®ue
 ) );

33 
»gi¡_to_çùÜy
Ğ
Sim¶eCouÁ”PAùiÚ
, ( 
couÁ”_id
, 
•¬am‘”_id
 ),

34 Ğ
couÁ”_id
, 
•¬am‘”_id
 ) );

36 
»gi¡_to_çùÜy
Ğ
DeçuÉCAùiÚ
,

37 Ğ
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> & 
»ÏtiÚs1
 ),

38 Ğ
»ÏtiÚs1
 ) );

40 
CouÁ”AùiÚ
 *
cİy
ĞcÚ¡ CouÁ”AùiÚ *
Ùh”
 ) {

41  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
cİy
Ğ
Ùh”
 );

44 
CouÁ”P¬am‘”CÚ¡¿št
 *
ÃgCouÁ”P¬am‘”CÚ¡¿št
Ğ
·¿m‘”_id
,

45 
couÁ”_id
,

46 
COMP_OPERATOR
 
İ
,

47 
rhs
 ) {

48 
COMP_OPERATOR
 
	gnİ
 = 
Ãg©iÚ
Ğ
İ
 );

49  
ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ
couÁ”_id
, 
·¿m‘”_id
, 
nİ
,

50 
rhs
 * -1 );

55 * 
ü—‹P¬am‘”CÚ¡¿št
ĞcÚ¡ 
·¿m‘”_id1
, cÚ¡ 
·¿m‘”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
 ){

57 if(
	g·¿m‘”_id1
>-1 && 
	g·¿m‘”_id2
 ){

58  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
ü—‹TwoP¬am‘”CÚ¡¿št
(
·¿m‘”_id1
, 
·¿m‘”_id2
, 
İ
, 
rhs
 );

61 if(
	g·¿m‘”_id1
>-1 ){

62  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
ü—‹OÃP¬am©”CÚ¡¿št
(
·¿m‘”_id1
, 
İ
, 
rhs
 );

64 ifĞ
	g·¿m‘”_id2
>-1){

65 
COMP_OPERATOR
 
	gnİ
=
Ãg©iÚ
Ğ
İ
);

66  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
ü—‹OÃP¬am©”CÚ¡¿št
(
·¿m‘”_id2
, 
nİ
, 
rhs
*-1 );

68 
as£¹
Ğ
çl£
);

69  
	gNULL
;

73 * 
ü—‹CouÁ”CÚ¡¿št
ĞcÚ¡ 
couÁ”_id1
, cÚ¡ 
couÁ”_id2
, 
COMP_OPERATOR
 
İ
, cÚ¡ 
rhs
, 
pid
){

74 if(
	gcouÁ”_id1
> -1 && 
	gcouÁ”_id2
> -1 ){

75  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
().
ü—‹TwoCouÁ”CÚ¡¿št
(
couÁ”_id1
, 
couÁ”_id2
, 
İ
, 
rhs
, 
pid
 );

78 ifĞ
	gcouÁ”_id1
>-1){

79  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
Ğ).
ü—‹OÃCouÁ”CÚ¡¿št
Ğ
couÁ”_id1
, 
İ
, 
rhs
);

81 ifĞ
	gcouÁ”_id2
> -1){

82 
COMP_OPERATOR
 
	gnİ
=
Ãg©iÚ
Ğ
İ
);

83  
	gIn¡ªûFaùÜy
::
g‘In¡ªû
Ğ).
ü—‹OÃCouÁ”CÚ¡¿št
Ğ
couÁ”_id2
, 
nİ
, 
rhs
*-1);

86 
as£¹
Ğ
çl£
);

87  
	gNULL
;

	@src/main.cpp

12 
	#PRINT_STATE
 1

	)

14 
	~<¿ndom
>

16 
	~"aùiÚ/couÁ”aùiÚ.h
"

17 
	~"cÚ¡¿št/şockdiffcÚs.hµ
"

18 
	~"loÿtiÚ.hµ
"

19 
	~"mod–/.hµ
"

20 
	~"´obËm/»achab™y.hµ
"

21 
	~"Œªs™iÚ.hµ
"

23 
	~"ut/dbmut.hµ
"

25 
	~"domaš/dbm.hµ
"

26 
	~"domaš/dbm£t.hµ
"

27 
	~"io/uµ¯lmod–·r£r.h
"

28 
	~"»achabË£t.hµ
"

30 
	~"disü‘e¡©e.hµ
"

32 
	~"ut/d©acom´essiÚ.h
"

34 
	~<c¡dšt
>

35 
	~<io¡»am
>

36 
	~<lim™s
>

38 
usšg
 
	g¡d
::
veùÜ
;

39 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

41 
	gR—chabËS‘
<
	tINT_TAS_t
> 
	tR_t
;

43 
	$exam¶e1
( ) {

45 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
T_t
> 
es
;

46 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
L_t
> 
ls
;

47 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`S0
( 0 );

48 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`S1
( 1 );

49 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`S2
( 2 );

50 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`S3
( 3 );

52 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`e01
( 0, 1 );

53 
·œ
<, > 
	`»¡1
( 3, 0 );

54 
e01
.
	`addRe£t
Ğ
»¡1
 );

56 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`e12
( 1, 2 );

58 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ0, 2, -2, 
Œue
 );

59 
e12
 +ğ
cs1
;

60 
·œ
<, > 
	`»¡2
( 2, 0 );

61 
e12
.
	`addRe£t
Ğ
»¡2
 );

63 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`e23
( 2, 3 );

65 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 3, 1, 
Œue
 );

66 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ3, 2, 1, 
Œue
 );

67 
e23
 +ğ
cs2
;

69 
e23
 +ğ
cs3
;

72 
ls
.
	`push_back
Ğ
S0
 );

73 
ls
.
	`push_back
Ğ
S1
 );

74 
ls
.
	`push_back
Ğ
S2
 );

75 
ls
.
	`push_back
Ğ
S3
 );

77 
es
.
	`push_back
Ğ
e01
 );

78 
es
.
	`push_back
Ğ
e12
 );

79 
es
.
	`push_back
Ğ
e23
 );

80 
ty³Çme
 
INT_TAS_t
::
TAT_t
 
	`tmt1
Ğ
ls
, 
es
, 0, 3 );

82 
P¬am‘”
 
·¿m
;

83 
INT_TAS_t
 
sys
;

84 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

85 
sys
 +ğ
tma1
;

86 
R_t
 
	`d©a
Ğ
sys
 );

88 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

89 
veùÜ
<> 
loc
;

90 
loc
.
	`push_back
( 3 );

91 
LocR—chPrİ”ty
 
	`´İ
Ğ
loc
 );

93 
»ach”
.
	`§tisfy
Ğ&
´İ
 );

97 
	}
}

99 
	$exam¶e50
() {

100 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
T_t
> 
es
;

101 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
L_t
> 
ls
;

102 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`L0
( 0 );

103 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`L1
( 1 );

105 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E00a
( 0, 0 );

106 
·œ
<, > 
	`»£t1
( 2, 0 );

107 
E00a
.
	`addRe£t
Ğ
»£t1
 );

108 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ2, 0, 2, 
çl£
 );

109 
E00a
 +ğ
cs1
;

111 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E00b
( 0, 0 );

112 
·œ
<, > 
	`»£t2
( 1, 0 );

113 
E00b
.
	`addRe£t
Ğ
»£t2
 );

114 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 2, 
çl£
 );

115 
E00b
 +ğ
cs2
;

117 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E01
( 0, 1 );

119 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ2, 0, 2, 
çl£
 );

120 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs4
Ğ0, 1, -4, 
çl£
 );

122 
E01
 +ğ
cs3
;

123 
E01
 +ğ
cs4
;

125 
ls
.
	`push_back
Ğ
L0
 );

126 
ls
.
	`push_back
Ğ
L1
 );

128 
es
.
	`push_back
Ğ
E00a
 );

130 
es
.
	`push_back
Ğ
E00b
 );

131 
es
.
	`push_back
Ğ
E01
 );

133 
ty³Çme
 
INT_TAS_t
::
TAT_t
 
	`tmt1
Ğ
ls
, 
es
, 0, 2 );

135 
P¬am‘”
 
·¿m
;

136 
INT_TAS_t
 
sys
;

137 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

139 
sys
 +ğ
tma1
;

140 
R_t
 
	`d©a
Ğ
sys
 );

141 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

142 
veùÜ
<> 
loc
;

144 
loc
.
	`push_back
( 1 );

145 
LocR—chPrİ”ty
 
	`´İ
Ğ
loc
 );

147 
»ach”
.
	`§tisfy
Ğ&
´İ
 );

148 
	}
}

150 
	$exam¶e2
( ) {

151 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
T_t
> 
es
;

152 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
L_t
> 
ls
;

153 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`L0
( 0 );

154 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`L1
( 1 );

156 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E00a
( 0, 0 );

157 
·œ
<, > 
	`»£t1
( 2, 0 );

158 
E00a
.
	`addRe£t
Ğ
»£t1
 );

159 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ2, 0, 2, 
çl£
 );

160 
E00a
 +ğ
cs1
;

162 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E00b
( 0, 0 );

163 
·œ
<, > 
	`»£t2
( 1, 0 );

164 
E00b
.
	`addRe£t
Ğ
»£t2
 );

165 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 2, 
çl£
 );

166 
E00b
 +ğ
cs2
;

168 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`E01
( 0, 1 );

170 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ2, 0, 2, 
çl£
 );

171 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs4
Ğ0, 1, -4, 
çl£
 );

173 
E01
 +ğ
cs3
;

174 
E01
 +ğ
cs4
;

176 
ls
.
	`push_back
Ğ
L0
 );

177 
ls
.
	`push_back
Ğ
L1
 );

179 
es
.
	`push_back
Ğ
E00a
 );

181 
es
.
	`push_back
Ğ
E00b
 );

182 
es
.
	`push_back
Ğ
E01
 );

184 
ty³Çme
 
INT_TAS_t
::
TAT_t
 
	`tmt1
Ğ
ls
, 
es
, 0, 2 );

186 
INT_TAS_t
 
sys
;

187 
P¬am‘”
 
·¿m
;

188 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

190 
sys
 +ğ
tma1
;

191 
R_t
 
	`d©a
Ğ
sys
 );

192 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

193 
Prİ”ty
 
´İ
;

195 iàĞ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) ) {

197 
cout
 << "right" << 
’dl
;

199 
cout
 << "th”i som‘hšg wrÚg" << 
’dl
;

201 
	}
}

203 
	$exam¶e3
Ğè{
	}
}

205 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

206 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
( 0, 1000 );

208 
	gINT_TAS_t
::
C_t
 *
	$¿ndV
Ğ
n
, 
s
 ) {

210 
INT_TAS_t
::
C_t
 *
v
 = 
Ãw
 INT_TAS_t::C_t[ 
n
 ];

212  
i
 = 0; i < 
n
; i++ ) {

213 
v
[ 
i
 ] = 
	`di¡ributiÚ
Ğ
g’”©Ü
 );

216  
v
;

217 
	}
}

219 
	$exam¶e5
( ) {

220 
S‹S‘
<
INT_TAS_t
::
C_t
> 
£ts
;

221 
veùÜ
<
INT_TAS_t
::
C_t
 *> 
vecs
;

222 
n
 = 20;

223 
s
 = 4;

224 
num
 = 1000;

225  
i
 = 0; i < 
num
; i++ ) {

226 
INT_TAS_t
::
C_t
 *
‹mp
 = 
	`¿ndV
Ğ
n
, 
s
 );

227 iàĞ
£ts
.
	`add
Ğ
‹mp
 ) ) {

228 
vecs
.
	`push_back
Ğ
‹mp
 );

230 
d–‘e
 
‹mp
;

233 ‡utØ
e
 : 
vecs
 ) {

234 
£ts
.
	`cÚš
Ğ
e
 );

236 
	}
}

238 
	$exam¶e6
() {

240 
veùÜ
<*> 
vecs
;

241 
n
 = 10;

242 
DBMFaùÜy
<> 
	`mªag”
Ğ
n
 );

243 
DBM£t
<> 
	`£ts
Ğ
mªag”
 );

244 
num
 = 1000;

246  
i
 = 0; i < 
num
; i++ ) {

247 *
dbm
 = 
mªag”
.
	`¿ndomF—sŸbËDBM
();

248 iàĞ
£ts
.
	`add
Ğ
dbm
 ) ) {

249 
vecs
.
	`push_back
Ğ
dbm
 );

251 
mªag”
.
	`de¡royDBM
Ğ
dbm
 );

254 ‡utØ
e
 : 
vecs
 ) {

255 
£ts
.
	`cÚš
Ğ
e
 );

257 
	}
}

259 
	$fish”
Ğ
n
 = 2 ) {

260 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
T_t
> 
es
;

261 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
L_t
> 
ls
;

262 
k
 = 2;

264 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`A
( 0 );

266 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`»q
( 1 );

267 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ1, 0, 
k
, 
çl£
 );

268 
»q
 +ğ
cs1
;

270 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`wa™
( 2 );

272 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`cs
( 3 );

274 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`A_»q
( 0, 1 );

276 *
ccs1
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ0, 
DUMMY_ID
, 
EQ
, 0 );

278 
A_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

280 
·œ
<, > 
	`»£t1
( 1, 0 );

281 
A_»q
.
	`addRe£t
Ğ
»£t1
 );

283 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`»q_wa™
( 1, 2 );

284 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 
k
, 
çl£
 );

285 
»q_wa™
 +ğ
cs2
;

287 
·œ
<, > 
	`»£t2
( 1, 0 );

288 
»q_wa™
.
	`addRe£t
Ğ
»£t2
 );

290 
Sim¶eCouÁ”PAùiÚ
 *
ÿùiÚ
 = 
	`ü—‹Sim¶eCouÁ”PAùiÚ
( 0, 0 );

292 
»q_wa™
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ
 );

294 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`wa™_»q
( 2, 1 );

296 
·œ
<, > 
	`»£t3
( 1, 0 );

297 
wa™_»q
.
	`addRe£t
Ğ
»£t3
 );

298 
wa™_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

300 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`wa™_cs
( 2, 3 );

302 
CouÁ”P¬am‘”CÚ¡¿št
 *
ccs2
 =

303 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ0, 0, 
EQ
, 0 );

304 
wa™_cs
.
	`addCouÁ”CÚs
Ğ
ccs2
 );

305 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ0, 1, -
k
, 
Œue
 );

306 
wa™_cs
 +ğ
cs3
;

308 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`cs_A
( 3, 0 );

310 
Sim¶eCouÁ”AùiÚ
 *
ÿùiÚ1
 =

311 
	`ü—‹Sim¶eCouÁ”AùiÚ
( 0, 0 );

313 
cs_A
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ1
 );

315 
ls
.
	`push_back
Ğ
A
 );

316 
ls
.
	`push_back
Ğ
»q
 );

317 
ls
.
	`push_back
Ğ
wa™
 );

318 
ls
.
	`push_back
Ğ
cs
 );

320 
es
.
	`push_back
Ğ
A_»q
 );

321 
es
.
	`push_back
Ğ
»q_wa™
 );

322 
es
.
	`push_back
Ğ
wa™_»q
 );

323 
es
.
	`push_back
Ğ
wa™_cs
 );

324 
es
.
	`push_back
Ğ
cs_A
 );

325 
ty³Çme
 
INT_TAS_t
::
TAT_t
 
	`tmt1
Ğ
ls
, 
es
, 0, 1 );

327 
INT_TAS_t
 
sys
;

328 
CouÁ”
 
	`couÁ”
( 0, 100 );

329 
sys
 +ğ
couÁ”
;

331  
i
 = 1; i <ğ
n
; i++ ) {

333 
P¬am‘”
 
·¿m
;

334 
·¿m
.
	`£tCouÁ”M­
( 0, 0 );

336 
·¿m
.
	`addP¬am‘”V®ue
Ğ
i
 );

337 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

339 
sys
 +ğ
tma1
;

343 
R_t
 
	`d©a
Ğ
sys
 );

345 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

346 
Fisch”Mutu®
 
´İ
;

348 iàĞ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) ) {

349 
cout
 << "Th”i som‘hšg wrÚg" << 
’dl
;

351 
cout
 << "fish” mutu®ƒxşusiÚ…rİ”ty check„ight" << 
’dl
;

354 
cout
 << "»ach d©¨size: " << 
d©a
.
	`size
(è<< 
’dl
;

355 
d©a
.
	`g’”©ÜDÙ
( "test.gv" );

356 
	}
}

358 
	$šüem’lTe¡
() {

359 
n
 = 3;

360 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
T_t
> 
es
;

361 
veùÜ
<
ty³Çme
 
INT_TAS_t
::
L_t
> 
ls
;

362 
k
 = 2;

364 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`A
( 0 );

366 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`»q
( 1 );

367 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ1, 0, 
k
, 
çl£
 );

368 
»q
 +ğ
cs1
;

370 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`wa™
( 2 );

372 
ty³Çme
 
INT_TAS_t
::
L_t
 
	`cs
( 3 );

374 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`A_»q
( 0, 1 );

376 *
ccs1
 =

377 
	`ü—‹CouÁ”CÚ¡¿št
Ğ0, 
DUMMY_ID
, 
EQ
, 0 );

379 
A_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

381 
·œ
<, > 
	`»£t1
( 1, 0 );

382 
A_»q
.
	`addRe£t
Ğ
»£t1
 );

384 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`»q_wa™
( 1, 2 );

385 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 
k
, 
çl£
 );

386 
»q_wa™
 +ğ
cs2
;

388 
·œ
<, > 
	`»£t2
( 1, 0 );

389 
»q_wa™
.
	`addRe£t
Ğ
»£t2
 );

391 
Sim¶eCouÁ”PAùiÚ
 *
ÿùiÚ
 = 
	`ü—‹Sim¶eCouÁ”PAùiÚ
( 0, 0 );

393 
»q_wa™
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ
 );

395 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`wa™_»q
( 2, 1 );

397 
·œ
<, > 
	`»£t3
( 1, 0 );

398 
wa™_»q
.
	`addRe£t
Ğ
»£t3
 );

399 
wa™_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

401 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`wa™_cs
( 2, 3 );

403 
CouÁ”P¬am‘”CÚ¡¿št
 *
ccs2
 =

404 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ0, 0, 
EQ
, 0 );

405 
wa™_cs
.
	`addCouÁ”CÚs
Ğ
ccs2
 );

406 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ0, 1, -
k
, 
Œue
 );

407 
wa™_cs
 +ğ
cs3
;

409 
ty³Çme
 
INT_TAS_t
::
T_t
 
	`cs_A
( 3, 0 );

411 
Sim¶eCouÁ”AùiÚ
 *
ÿùiÚ1
 =

412 
	`ü—‹Sim¶eCouÁ”AùiÚ
( 0, 0 );

414 
cs_A
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ1
 );

416 
ls
.
	`push_back
Ğ
A
 );

417 
ls
.
	`push_back
Ğ
»q
 );

418 
ls
.
	`push_back
Ğ
wa™
 );

419 
ls
.
	`push_back
Ğ
cs
 );

421 
es
.
	`push_back
Ğ
A_»q
 );

422 
es
.
	`push_back
Ğ
»q_wa™
 );

423 
es
.
	`push_back
Ğ
wa™_»q
 );

424 
es
.
	`push_back
Ğ
wa™_cs
 );

425 
es
.
	`push_back
Ğ
cs_A
 );

426 
ty³Çme
 
INT_TAS_t
::
TAT_t
 
	`tmt1
Ğ
ls
, 
es
, 0, 1 );

428 
INT_TAS_t
 
sys
;

429  
i
 = 1; i <ğ
n
; i++ ) {

430 
P¬am‘”
 
·¿m
;

431 
·¿m
.
	`addP¬am‘”V®ue
Ğ
i
 );

432 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

434 
sys
 +ğ
tma1
;

437 
CouÁ”
 
	`couÁ”
( 0, 100 );

438 
sys
 +ğ
couÁ”
;

440 
R_t
 
	`d©a
Ğ
sys
 );

442 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

443 
Fisch”Mutu®
 
´İ
;

445 iàĞ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) ) {

446 
cout
 << "Th”i som‘hšg wrÚg" << 
’dl
;

448 
cout
 << "fish” mutu®ƒxşusiÚ…rİ”ty check„ight" << 
’dl
;

451 
cout
 << "»ach d©¨size: " << 
d©a
.
	`size
(è<< 
’dl
;

452 
veùÜ
<veùÜ<
INT_TAS_t
::
C_t
>> 
´ojeù
;

453 
d©a
.
	`´ojeù
Ğ2, 
´ojeù
 );

455 
INT_TAS_t
 
sys1
;

456  
i
 = 1; i <= 2; i++ ) {

457 
P¬am‘”
 
·¿m
;

458 
·¿m
.
	`addP¬am‘”V®ue
Ğ
i
 );

459 
ty³Çme
 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ&
tmt1
, 
·¿m
 );

461 
sys1
 +ğ
tma1
;

464 
sys1
 +ğ
couÁ”
;

466 
R_t
 
	`d©a1
Ğ
sys1
 );

468 
R—chab™y
<
R_t
> 
	`»ach”1
Ğ
d©a1
 );

469 
Fisch”Mutu®
 
´İ1
;

471 iàĞ
»ach”1
.
	`§tisfy
Ğ&
´İ1
 ) ) {

472 
cout
 << "Th”i som‘hšg wrÚg" << 
’dl
;

474 
cout
 << "fish” mutu®ƒxşusiÚ…rİ”ty check„ight" << 
’dl
;

477 
cout
 << "»ach d©¨size: " << 
d©a1
.
	`size
(è<< 
’dl
;

478 
veùÜ
<veùÜ<
INT_TAS_t
::
C_t
>> 
´ojeù1
;

479 
d©a1
.
	`´ojeù
Ğ2, 
´ojeù1
 );

480 
num
 = 0;

481 
size_t
 
mm
 = 
´ojeù
[ 0 ].
	`size
();

482  
size_t
 
i
 = 0; i < 
´ojeù
.
	`size
(); i++ ) {

483 
size_t
 
j
 = 0;

484  ; 
j
 < 
´ojeù1
.
	`size
(); j++ ) {

485 
size_t
 
k
 = 0;

486  ; 
k
 < 2; k++ ) {

487 iàĞ
´ojeù
[ 
i
 ][ 
k
 ] !ğ
´ojeù1
[ 
j
 ][ k ] ) {

492 iàĞ
k
 == 2 ) {

493  ; 
k
 < 
mm
; k++ ) {

494 iàĞ
´ojeù
[ 
i
 ][ 
k
 ] > 
´ojeù1
[ 
j
 ][ k ] ) {

500 iàĞ
k
 =ğ
mm
 ) {

504 iàĞ
j
 =ğ
´ojeù1
.
	`size
() ) {

506 
cout
 << 
num
++ << 
’dl
;

507 
cout
 << "Cª‚Ù hŞd" << 
’dl
;

510 
	}
}

511 
	$fish”1
() {

512 
Uµ¯lP¬£r
 
	`·r£r
(

514 
INT_TAS_t
 
sys
 = 
·r£r
.
	`g‘SYS
();

515 
R_t
 
	`d©a
Ğ
sys
 );

517 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

525 
»ach”
.
	`compu‹AÎR—chabËS‘
();

526 
cout
 << "»ach d©¨size: " << 
d©a
.
	`size
(è<< 
’dl
;

527 
	}
}

529 
	$‹¡OP
() {

530  
i
 = 0; i < 10; i++ ) {

532 
cout
 << "< " << 
i
 - 5 << " " << 
	`g‘M©rixV®ue
Ğ˜- 5, 
Œue
 ) << 
’dl
;

533 
cout
 << "<ğ" << 
i
 - 5 << " " << 
	`g‘M©rixV®ue
Ğ˜- 5, 
çl£
 ) << 
’dl


534 << 
’dl
;

537 
	}
}

539 
	$‹¡com´essiÚ
() {

540 cÚ¡ 
Ën
 = 10;

541 
Com´essiÚ
<> 
	`d©a
Ğ
Ën
 );

542 
low
 = -6;

543 
up
 = 10;

544  
i
 = 0; i < 
Ën
; i++ ) {

545 
d©a
.
	`£tBound
Ğ
i
, 
low
, 
up
 );

547 
UINT
 
cd
[ 
Ën
 ];

548 
dd
[ 
Ën
 ];

549 
¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

550 
¡d
::
unifÜm_št_di¡ributiÚ
<> 
	`di¡ributiÚ
Ğ
low
, 
up
 - 1 );

552 
d
[ 
Ën
 ];

553  
i
 = 0; i < 10000; i++ ) {

554  
j
 = 0; j < 
Ën
; j++ ) {

555 
d
[ 
j
 ] = 
	`di¡ributiÚ
Ğ
g’”©Ü
 );

557 
d©a
.
	`’code
Ğ
d
, 
cd
 );

558 
d©a
.
	`decode
Ğ
cd
, 
dd
 );

559  
j
 = 0; j < 
Ën
; j++ ) {

560 
	`as£¹
Ğ
dd
[ 
j
 ] =ğ
d
[ j ] );

563 
	}
}

565 
	$maš
Ğ
¬gc
, cÚ¡ *
¬gv
[] ) {

581 
	`fish”1
();

585 
	`exam¶e1
();

586 
	`exam¶e2
();

588 
ty³Çme
 
INT_TAS_t
::
CS_t
 
	`cÚs
Ğ1, 2, 2, 
çl£
 );

590 
cout
 << "cÚ¡¿š: " << 
cÚs
 << 
’dl
;

592 
cout
 << "Ãg©iÚ cÚ¡¿št: " << 
cÚs
.
	`Ãg
(è<< 
’dl
;

594 
ty³Çme
 
INT_TAS_t
::
DBMMªag”_t
 
	`exam¶eDBM
( 4 );

595 
ty³Çme
 
INT_TAS_t
::
C_t
 * 
D
 = 
exam¶eDBM
.
	`¿ndomDBM
();

596 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D
 ) << 
’dl
;

598 
cout
 << "========================" << 
’dl
;

599 
exam¶eDBM
.
	`ÿnÚiÿlFÜm
Ğ
D
 );

600 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D
 ) << 
’dl
;

602 
cout
 << "========================" << 
’dl
;

603 
exam¶eDBM
.
	`ÿnÚiÿlFÜm
Ğ
D
 );

604 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D
 ) << 
’dl
;

605 
¡d
::
cout
 << "Hello, World!\n";

607 
ty³Çme
 
INT_TAS_t
::
C_t
 *
D1
 = 
exam¶eDBM
.
	`ü—‹DBM
();

608 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D1
 ) << 
’dl
;

609 
ty³Çme
 
INT_TAS_t
::
C_t
 *
D2
 =

610 
exam¶eDBM
.
	`»£t
Ğ
D1
, 1, (
ty³Çme
 
INT_TAS_t
::
C_t
) 10 );

611 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D2
 ) << 
’dl
;

616 
ty³Çme
 
INT_TAS_t
::
C_t
 *
D3
 =

617 
exam¶eDBM
.
	`»£t
Ğ
D2
, 2, (
ty³Çme
 
INT_TAS_t
::
C_t
) 10 );

619 
cout
 << "m©rix dum°:\n" << 
exam¶eDBM
.
	`dump
Ğ
D3
 ) << 
’dl
;

630 
	}
}

	@src/uppaalmodelparser.cpp

1 
	~"io/uµ¯lmod–·r£r.h
"

2 
	~"ut/dbmut.hµ
"

3 
	~<ÿs£¹
>

5 
Çme¥aû
 
	gg¿ph§t
 {

7 
	gUµ¯lP¬£r
::
Uµ¯lP¬£r
ĞcÚ¡ 
¡ršg
 &
xmlfe
 ) {

8 
ty³_Çme_m­
[ 
CLOCK_T
 ] = 
CLOCK_STR
;

9 
	gty³_Çme_m­
[ 
INT_T
 ] = 
INT_STR
;

10 
	gty³_Çme_m­
[ 
BOOL_T
 ] = 
BOOL_STR
;

12 
	gty³_Çme_m­
[ 
CHAN_T
 ] = 
CHAN_STR
;

14 
XmlCÚfig
 
xmldoc
Ğ
xmlfe
 );

15 
XML_P
 
	gdeş¬©iÚ
 = 
xmldoc
.
g‘OÃChd
Ğ
DECLARATION_STR
 );

16 
chd_ty³
 
	g‹m¶©es
 = 
xmldoc
.
g‘Chd
Ğ
TEMPLATE_STR
 );

17 
XML_P
 
	gsy¡em
 = 
xmldoc
.
g‘OÃChd
Ğ
SYSTEM_STR
 );

18 
chd_ty³
 
	gqu”›s
 = 
xmldoc
.
g‘Chd
Ğ
QUERIES_STR
 );

20 
·r£Deş¬©iÚ
Ğ
deş¬©iÚ
 );

21 
·r£Tem¶©eDeş¬©iÚ
Ğ
‹m¶©es
 );

23 
·r£Tem¶©e
Ğ
‹m¶©es
 );

24 
·r£Sy¡em
Ğ
sy¡em
 );

25 
·r£Qu”y
Ğ
qu”›s
 );

246 
	gUµ¯lP¬£r
::
·r£Deş¬©iÚ
Ğ
XML_P
 
deş¬©iÚ
 ) {

247 iàĞ
NULL
 =ğ
deş¬©iÚ
 ) {

251 
¡ršg
 
	gcÚ‹Á
 = 
deş¬©iÚ
->
g‘V®ue
();

252 iàĞ
	gcÚ‹Á
.
Ëngth
() > 0 ) {

253 
·r£ProbËm
Ğ
cÚ‹Á
, &
sy¡em_d©a
, &system_data );

259 
	gUµ¯lP¬£r
::
·r£Tem¶©eDeş¬©iÚ
Ğ
chd_ty³
 
‹m¶©es
 ) {

260 
as£¹
Ğ
NULL
 !ğ
‹m¶©es
 );

262 
¡ršg
 
	gkeys
[] = {
INT_STR
, 
CLOCK_STR
, 
BOOL_STR
, 
CHAN_STR
};

264  
chd_™”©Ü
 
	g™
 = 
‹m¶©es
->
begš
(); iˆ!ğ‹m¶©es->
’d
(); it++ ) {

265 
Uµ¯lTem¶©eD©a
 
	g‹m¶©e_d©a
;

266 
XML_P
 
	gÇmeCÚf
 = ( *
™
 )->
g‘OÃChd
Ğ
NAME_STR
 );

267 
	g‹m¶©e_d©a
.
£tName
Ğ
ÇmeCÚf
->
g‘V®ue
() );

269 
XML_P
 
	gdeş¬©iÚ
 = ( *
™
 )->
g‘OÃChd
Ğ
DECLARATION_STR
 );

271 iàĞ
	gNULL
 !ğ
deş¬©iÚ
 ) {

272 
¡ršg
 
dec_cÚ‹Á
 = 
deş¬©iÚ
->
g‘V®ue
();

273 
·r£ProbËm
Ğ
dec_cÚ‹Á
, &
sy¡em_d©a
, &
‹m¶©e_d©a
 );

274 ‡utØ
	gkey
 : 
keys
 ) {

275 
veùÜ
<
·œ
<
¡ršg
, 
	gveùÜ
<>>> 
	g‹mp_v®ues
 =

276 
‹m¶©e_d©a
.
g‘V®ue
Ğ
key
 );

277 ‡utØ
	ge
 : 
‹mp_v®ues
 ) {

278 
sy¡em_d©a
.
£tV®ue
Ğ
key
, 
e
.
fœ¡
,ƒ.
£cÚd
[ 0 ] );

283 
	gnum
 = 0;

284 ‡utØ
	gkey
 : 
keys
 ) {

285 
num
 +ğ
sy¡em_d©a
.
g‘Ty³Num
Ğ
key
 );

288 
	gsy¡em_d©a
.
£tGlob®V¬Num
Ğ
num
 );

293 
	gUµ¯lP¬£r
::
·r£Tem¶©e
Ğ
chd_ty³
 
‹m¶©es
 ) {

295 iàĞ
NULL
 =ğ
‹m¶©es
 ) {

299  
chd_™”©Ü
 
	g™
 = 
‹m¶©es
->
begš
(); iˆ!ğ‹m¶©es->
’d
(); it++ ) {

300 
Uµ¯lTem¶©eD©a
 
	g‹m¶©e_d©a
;

302 
XML_P
 
	gÇmeCÚf
 = ( *
™
 )->
g‘OÃChd
Ğ
NAME_STR
 );

304 
	g‹m¶©e_d©a
.
£tName
Ğ
ÇmeCÚf
->
g‘V®ue
() );

306 
	gsy¡em_d©a
.
addV®ue
Ğ
TEMPLATE_STR
, 
‹m¶©e_d©a
.
Çme
 );

308 
XML_P
 
	g·¿m‘”
 = ( *
™
 )->
g‘OÃChd
Ğ
PARAMETER_STR
 );

310 iàĞ
	gNULL
 !ğ
·¿m‘”
 ) {

311 
·r£Tem¶©eP¬am‹r
Ğ
‹m¶©e_d©a
, 
·¿m‘”
 );

323 
chd_ty³
 
	gloÿtiÚ_comps
 = ( *
™
 )->
g‘Chd
Ğ
LOCATION_STR
 );

325 
	gveùÜ
<
ty³Çme
 
	gINT_TAS_t
::
L_t
> 
loÿtiÚs
 =

326 
·r£LoÿtiÚ
Ğ
‹m¶©e_d©a
, 
loÿtiÚ_comps
 );

328 
XML_P
 
	gš™_cÚf
 = ( *
™
 )->
g‘OÃChd
Ğ
INIT_STR
 );

330 iàĞ
	gNULL
 !ğ
š™_cÚf
 ) {

331 
¡ršg
 
loc
 = 
š™_cÚf
->
g‘A‰rV®ue
Ğ
REF_STR
 );

332 
	g‹m¶©e_d©a
.
£tIn™ŸlLoc
Ğ
‹m¶©e_d©a
.
g‘Id
Ğ
LOCATION_STR
, 
loc
 ) );

335 
chd_ty³
 
	gŒªs™iÚ_comps
 = ( *
™
 )->
g‘Chd
Ğ
TRANSITION_STR
 );

337 
	gveùÜ
<
ty³Çme
 
	gINT_TAS_t
::
T_t
> 
Œªs™iÚs
 =

338 
·r£T¿ns™iÚ
Ğ
‹m¶©e_d©a
, 
Œªs™iÚ_comps
 );

339 
	g‹m¶©e_d©a
.
	gt
 =

340 
INT_TAS_t
::
TAT_t
Ğ
loÿtiÚs
, 
Œªs™iÚs
, 
‹m¶©e_d©a
.
g‘In™ŸlLoc
(),

341 
‹m¶©e_d©a
.
g‘Ty³Num
Ğ
CLOCK_STR
 ) );

343 
	g‹m¶©e_m­
[ 
‹m¶©e_d©a
.
Çme
 ] =emplate_data;

349 
	gUµ¯lP¬£r
::
·r£Sy¡em
Ğ
XML_P
 
sy¡em
 ) {

350 
as£¹
Ğ
NULL
 !ğ
sy¡em
 );

352 
¡ršg
 
	gcÚ‹Á
 = 
sy¡em
->
g‘V®ue
();

354 
·r£ProbËm
Ğ
cÚ‹Á
, &
sy¡em_d©a
, &system_data );

356 
	gcouÁ”_num
 = 
sy¡em_d©a
.
g‘Ty³Num
Ğ
INT_STR
 );

357  
	gi
 = 0; i < 
	gcouÁ”_num
; i++ ) {

358 
CouÁ”
 
couÁ”
Ğ0, 
MAX_COUNTER_VALUE
 );

359 cÚ¡ 
	g·œ
<
	g¡ršg
, 
	gveùÜ
<>> &
	ghh
 = 
sy¡em_d©a
.
g‘V®ue
Ğ
INT_STR
, 
i
 );

360 
	gcouÁ”
.
£tV®ue
Ğ
hh
.
£cÚd
[ 0 ] );

361 
	gsys
 +ğ
couÁ”
;

364 
Sy¡emDec
 *
	gsys_dec
 =

365 (
Sy¡emDec
 *è
sy¡em_d©a
.
g‘Poš‹r
Ğ
SYSTEM_STR
, SYSTEM_STR );

369 
as£¹
Ğ
NULL
 !ğ
sys_dec
 );

371  
size_t
 
	gi
 = 0; i < 
	gsys_dec
->
	g_li¡
.
size
(); i++ ) {

375 iàĞ
	gsys_dec
->
	g_li¡
[ 
i
 ]->
	gno_·¿m‘”
 ) {

377 
¡ršg
 
	g‹m¶©e_Çme
 = 
sys_dec
->
_li¡
[ 
i
 ]->
Çme
;

379 
	gveùÜ
<
	g·œ
<
	g¡ršg
, veùÜ<*>>> 
	g‹m¶©e_·¿m‘”_vec
 =

380 
‹m¶©e_m­
[ 
‹m¶©e_Çme
 ].
g‘Pošts
Ğ
PARAMETER_STR
 );

382 
P¬am‘”
 
	g·¿m‘”_‹m¶©e
;

383 
	gglob®_num
 = 
sy¡em_d©a
.
g‘Glob®V¬Num
();

384 
	g·¿m_num
 = 
‹m¶©e_·¿m‘”_vec
.
size
();

385  
	gi
 = 0; i < 
	gglob®_num
; i++ ) {

386 
	g·¿m‘”_‹m¶©e
.
£tCouÁ”M­
Ğ
i
 + 
·¿m_num
, i );

389 iàĞ
	g‹m¶©e_·¿m‘”_vec
.
em±y
() ) {

390 
P¬am‘”
 
	g·¿m‘”
 = 
·¿m‘”_‹m¶©e
;

392 
ty³Çme
 
	gINT_TAS_t
::
TA_t
 
tma
Ğ&
‹m¶©e_m­
[ 
‹m¶©e_Çme
 ].
t
,

393 
·¿m‘”
 );

394 
	gsys
 +ğ
tma
;

399 
as£¹
Ğ1 =ğ
‹m¶©e_·¿m‘”_vec
.
size
() );

401 cÚ¡ 
	gveùÜ
<> &
	gŸ¼ay
 = 
sy¡em_d©a
.
g‘IÁA¼ay
(

402 Ğ(
P¬aEËm’t
 *è
‹m¶©e_·¿m‘”_vec
[ 0 ].
£cÚd
[ 0 ] )

403 ->
ty³_Çme
 );

404 ‡utØ
	ge
 : 
Ÿ¼ay
 ) {

405 
P¬am‘”
 
·¿m‘”
 = 
·¿m‘”_‹m¶©e
;

407 
	g·¿m‘”
.
addP¬am‘”V®ue
Ğ
e
 );

408 
ty³Çme
 
	gINT_TAS_t
::
TA_t
 
tma
Ğ&
‹m¶©e_m­
[ 
‹m¶©e_Çme
 ].
t
,

409 
·¿m‘”
 );

410 
	gsys
 +ğ
tma
;

420 
	gUµ¯lP¬£r
::
·r£Qu”y
Ğ
chd_ty³
 
qu”›s
 ) {  0; }

422 
	gveùÜ
<
	gINT_TAS_t
::
L_t
>

423 
Uµ¯lP¬£r
::
·r£LoÿtiÚ
Ğ
Uµ¯lTem¶©eD©a
 &
‹m¶©e_d©a
,

424 
chd_ty³
 
loÿtiÚs
 ) {

425 
	gveùÜ
<
	gINT_TAS_t
::
L_t
> 
»tuº_loÿtiÚs
;

427  
chd_™”©Ü
 
	gl™
 = 
loÿtiÚs
->
begš
();†™ !ğloÿtiÚs->
’d
();

428 
	gl™
++ ) {

430 
¡ršg
 
	gid_¡r
 = ( *
l™
 )->
g‘A‰rV®ue
Ğ
ID_STR
 );

431 
as£¹
Ğ
id_¡r
 != "" );

432 
	g‹m¶©e_d©a
.
addV®ue
Ğ
LOCATION_STR
, 
id_¡r
 );

434 
	gloÿtiÚ_id
 = 
‹m¶©e_d©a
.
g‘Id
Ğ
LOCATION_STR
, 
id_¡r
 );

436 
	gINT_TAS_t
::
L_t
 
loÿtiÚ
Ğ
loÿtiÚ_id
 );

437 
¡ršg
 
	gloÿtiÚ_Çme
 = ( *
l™
 )->
g‘OÃChd
Ğ
NAME_STR
 )->
g‘V®ue
();

438 
	gloÿtiÚ
.
£tName
Ğ
loÿtiÚ_Çme
 );

440 
chd_ty³
 
	gÏb–s
 = ( *
l™
 )->
g‘Chd
Ğ
LABEL_STR
 );

441 iàĞ
	gNULL
 !ğ
Ïb–s
 ) {

442  
chd_™”©Ü
 
Î™
 = 
Ïb–s
->
begš
(); 
	gÎ™
 !ğÏb–s->
’d
();

443 
	gÎ™
++ ) {

444 
¡ršg
 
	gkšd
 = "";

445 
	gkšd
 = ( *
Î™
 )->
g‘A‰rDeçuÉ
Ğ
KIND_STR
, 
kšd
 );

447 iàĞ
	gkšd
 =ğ
INVARIANT_STR
 ) {

448 
¡ršg
 
šv¬ŸÁs
 = ( *
Î™
 )->
g‘V®ue
();

449 
·r£Lab–
Ğ
‹m¶©e_d©a
, 
šv¬ŸÁs
 );

450 
	gveùÜ
<*> 
	gcÚs
 = 
‹m¶©e_d©a
.
g‘Pošts
Ğ
CLOCK_CS
, CLOCK_CS );

451 ‡utØ
	gcs
 : 
cÚs
 ) {

452 
loÿtiÚ
 +ğ*Ğ(
INT_TAS_t
::
CS_t
 *èĞ
cs
 ) );

454 
	g‹m¶©e_d©a
.
ş—rPošts
Ğ
CLOCK_CS
 );

458 
	g»tuº_loÿtiÚs
.
push_back
Ğ
loÿtiÚ
 );

460  
	g»tuº_loÿtiÚs
;

463 
	gUµ¯lP¬£r
::
·r£Tem¶©eP¬am‹r
Ğ
Uµ¯lTem¶©eD©a
 &
‹m¶©e_d©a
,

464 
XML_P
 
·¿m‘”
 ) {

466 
¡ršg
 
	g·¿_cÚ‹Á
 = 
·¿m‘”
->
g‘V®ue
();

467 
	gveùÜ
<
	g¡ršg
> 
	g‹rms
 = 
¥l™SŒ
Ğ
·¿_cÚ‹Á
, "," );

468 ‡utØ
	g¡r
 : 
‹rms
 ) {

469 
P¬aEËm’t
 *
‹mp_·¿m
 = 
Ãw
 ParaElement();

470 
boŞ
 
	gis_»f
 = 
çl£
;

471 
size_t
 
	g¡¬t
 = 
¡r
.
fšd
Ğ
PARAMETER_REF_STR
 );

473 iàĞ
	g¡¬t
 !ğ
¡d
::
¡ršg
::
Åos
 ) {

474 
¡r
 = 
d–‘eCh¬
Ğ¡r, 
¡¬t
, '&' );

475 
	gis_»f
 = 
Œue
;

476 
	g‹mp_·¿m
->
	gis_»f
 = 
Œue
;

479 
	gveùÜ
<
	g¡ršg
> 
	g·¹s
 = 
¥l™SŒ
Ğ
¡r
, " " );

481 
¡ršg
 
	gÇme
 = 
·¹s
.
back
();

482 iàĞ
	gis_»f
 ) {

483 
	gÇme
 = 
Çme
.
sub¡r
( 1 );

485 
	g‹mp_·¿m
->
	gÇme
 = 
Çme
;

486 
	g‹mp_·¿m
->
	gty³_Çme
 = 
·¹s
[…¬ts.
size
() - 2 ];

488 iàĞ
fšd
Ğ
·¹s
.
begš
(),…¬ts.
’d
(), 
BOOL_STR
 ) !=…arts.end() ) {

489 iàĞ
is_»f
 ) {

490 
‹mp_·¿m
->
ty³
 = 
PARAM_BOOL_REF_T
;

492 
	g‹mp_·¿m
->
	gty³
 = 
PARAM_BOOL_T
;

494 } iàĞ
fšd
Ğ
·¹s
.
begš
(),…¬ts.
’d
(), 
CHAN_STR
 ) !=…arts.end() ) {

495 iàĞ
is_»f
 ) {

496 
‹mp_·¿m
->
ty³
 = 
PARAM_CHANNEL_REF_T
;

498 
	g‹mp_·¿m
->
	gty³
 = 
PARAM_CHANNEL_T
;

501 } iàĞ
fšd
Ğ
·¹s
.
begš
(),…¬ts.
’d
(), 
INT_STR
 ) !=…arts.end() ) {

502 iàĞ
is_»f
 ) {

503 
‹mp_·¿m
->
ty³
 = 
PARAM_INT_REF_T
;

505 
	g‹mp_·¿m
->
	gty³
 = 
PARAM_INT_T
;

508 
	g‹mp_·¿m
->
	gty³
 = 
PARAM_SCALAR_T
;

511 
	g‹m¶©e_d©a
.
addPoš‹r
Ğ
PARAMETER_STR
, 
Çme
, 
‹mp_·¿m
 );

516 
	gveùÜ
<
	gINT_TAS_t
::
T_t
>

517 
Uµ¯lP¬£r
::
·r£T¿ns™iÚ
Ğ
Uµ¯lTem¶©eD©a
 &
‹m¶©e_d©a
,

518 
chd_ty³
 
Œªs™iÚs
 ) {

519 
	gveùÜ
<
	gINT_TAS_t
::
T_t
> 
»tuº_Œªs™iÚs
;

520  
chd_™”©Ü
 
	gt™
 = 
Œªs™iÚs
->
begš
();™ !ğŒªs™iÚs->
’d
();

521 
	gt™
++ ) {

523 
XML_P
 
	gsourû
 = ( *
t™
 )->
g‘OÃChd
Ğ
SOURCE_STR
 );

524 
¡ršg
 
	gsourû_»f
 = 
sourû
->
g‘A‰rV®ue
Ğ
REF_STR
 );

526 
XML_P
 
	grg‘
 = ( *
t™
 )->
g‘OÃChd
Ğ
TARGET_STR
 );

527 
¡ršg
 
	grg‘_»f
 = 
rg‘
->
g‘A‰rV®ue
Ğ
REF_STR
 );

529 
	gsourû_id
 = 
‹m¶©e_d©a
.
g‘Id
Ğ
LOCATION_STR
, 
sourû_»f
 );

530 
	grg‘_id
 = 
‹m¶©e_d©a
.
g‘Id
Ğ
LOCATION_STR
, 
rg‘_»f
 );

532 
	gINT_TAS_t
::
T_t
 
Œªs™iÚ
Ğ
sourû_id
, 
rg‘_id
 );

534 
chd_ty³
 
	gÏb–s
 = ( *
t™
 )->
g‘Chd
Ğ
LABEL_STR
 );

535 iàĞ
	gNULL
 !ğ
Ïb–s
 ) {

537  
chd_™”©Ü
 
Î™
 = 
Ïb–s
->
begš
(); 
	gÎ™
 !ğÏb–s->
’d
();

538 
	gÎ™
++ ) {

539 
¡ršg
 
	gkšd
 = "";

540 
	gkšd
 = ( *
Î™
 )->
g‘A‰rV®ue
Ğ
KIND_STR
 );

541 iàĞ
	gGUARD_STR
 =ğ
kšd
 ) {

542 
¡ršg
 
gu¬d
 = ( *
Î™
 )->
g‘V®ue
();

543 
·r£Lab–
Ğ
‹m¶©e_d©a
, 
gu¬d
 );

544 
	gveùÜ
<*> 
	gcÚs
 = 
‹m¶©e_d©a
.
g‘Pošts
Ğ
CLOCK_CS
, CLOCK_CS );

545 ‡utØ
	gcs
 : 
cÚs
 ) {

546 
Œªs™iÚ
 +ğ*Ğ(
INT_TAS_t
::
CS_t
 *èĞ
cs
 ) );

549 
	g‹m¶©e_d©a
.
ş—rPošts
Ğ
CLOCK_CS
 );

551 
	gveùÜ
<*> 
	gcouÁ”Cs
 = 
‹m¶©e_d©a
.
g‘Pošts
Ğ
INT_CS
, INT_CS );

552 ‡utØ
	gcs
 : 
couÁ”Cs
 ) {

553 
Œªs™iÚ
.
addCouÁ”CÚs
Ğ(
CouÁ”CÚ¡¿št
 *è
cs
 );

556 
	g‹m¶©e_d©a
.
ş—rPošts
Ğ
INT_CS
 );

558 } iàĞ
	gASSIGNMENT_STR
 =ğ
kšd
 ) {

559 
¡ršg
 
assign_¡©em’t
 = ( *
Î™
 )->
g‘V®ue
();

560 
·r£Lab–
Ğ
‹m¶©e_d©a
, 
assign_¡©em’t
 );

561 
	gveùÜ
<*> 
	gupd©es
 =

562 
‹m¶©e_d©a
.
g‘Pošts
Ğ
INT_UPDATE
, INT_UPDATE );

563 ‡utØ
	gupd©e
 : 
upd©es
 ) {

564 
Œªs™iÚ
.
addCouÁ”AùiÚ
Ğ(
CouÁ”AùiÚ
 *è
upd©e
 );

566 
	g‹m¶©e_d©a
.
ş—rPošts
Ğ
INT_UPDATE
 );

568 
	gveùÜ
<*> 
	g»£ts
 =

569 
‹m¶©e_d©a
.
g‘Pošts
Ğ
RESET_STR
, RESET_STR );

570 ‡utØ
	g»£t
 : 
»£ts
 ) {

571 
Œªs™iÚ
.
addRe£t
Ğ*Ğ(
·œ
<, > *è
»£t
 ) );

572 
d–‘e
 (
·œ
<, > *è
	g»£t
;

574 
	g‹m¶©e_d©a
.
ş—rPošts
Ğ
RESET_STR
 );

576 } iàĞ
	gSYNCHRONISATION_STR
 =ğ
kšd
 ) {

577 
cout
 << 
kšd
 << ": " << ( *
Î™
 )->
g‘V®ue
(è<< 
’dl
;

581 
	g»tuº_Œªs™iÚs
.
push_back
Ğ
Œªs™iÚ
 );

583  
	g»tuº_Œªs™iÚs
;

586 
	gUµ¯lP¬£r
::
addClockCÚ¡¿št
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
,

587 
şock1_id
, 
şock2_id
,

588 
COMP_OPERATOR
 
İ
, 
rhs
 ) {

590 iàĞ
	gEQ
 =ğ
İ
 ) {

591 *
cs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
GE
, 
rhs
 );

592 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

594 
	gcs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
LE
, 
rhs
 );

595 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

598 *
	gcs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
İ
, 
rhs
 );

599 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

603 
	gUµ¯lP¬£r
::
addClockCÚ¡¿št
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
,

604 
şock1_id
, 
şock2_id
,

605 
COMP_OPERATOR
 
İ
, 
rhs
, 
·¿m‘”_id
 ) {

607 iàĞ
	gEQ
 =ğ
İ
 ) {

608 *
cs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
GE
, 
rhs
, 
·¿m‘”_id
 );

609 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

611 
	gcs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
LE
, 
rhs
, 
·¿m‘”_id
 );

612 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

615 *
	gcs
 = 
Ãw
 
INT_TAS_t
::
CS_t
Ğ
şock1_id
, 
şock2_id
, 
İ
, 
rhs
, 
·¿m‘”_id
 );

616 
	gcu¼’t_d©a
->
addPoš‹r
Ğ
CLOCK_CS
, CLOCK_CS, 
cs
 );

621 
	gUµ¯lP¬£r
::
·r£Lab–
Ğ
Uµ¯lTem¶©eD©a
 &
‹m¶©e_d©a
,

622 
¡ršg
 
gu¬ds
 ) {

624 
·r£ProbËm
Ğ
gu¬ds
, &
sy¡em_d©a
, &
‹m¶©e_d©a
 );

627 
	gUµ¯lP¬£r
::
g‘LoÿlId
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
,

628 cÚ¡ 
glob®_id
 ) {

629  
	gglob®_id
 + 
	gcu¼’t_d©a
->
g‘PoštNum
Ğ
PARAMETER_STR
 );

632 
	gUµ¯lP¬£r
::
g‘P¬am‘”Id
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
,

633 cÚ¡ 
¡ršg
 & 
Çme
 ) {

635  
	gcu¼’t_d©a
->
g‘Poš‹rId
Ğ
PARAMETER_STR
, 
Çme
 );

638 
TYPE_T
 
	gUµ¯lP¬£r
::
g‘Ty³
Ğ
Uµ¯lTem¶©eD©a
 *
cu¼’t_d©a
,

639 cÚ¡ 
¡ršg
 &
xml_Çme
, sŒšg &
code_Çme
 ) {

640 
	gcode_Çme
 = 
xml_Çme
;

641 iàĞ
	gcu¼’t_d©a
->
hasPoš‹r
Ğ
PARAMETER_STR
, 
code_Çme
 ) ) {

642  
	gPARAMETER_T
;

644 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
TEMPLATE_STR
, 
code_Çme
 ) ) {

645  
	gTEMPLATE_T
;

652 iàĞ
	gcu¼’t_d©a
->
hasV®ue
Ğ
CLOCK_STR
, 
code_Çme
 ) ) {

653  
	gCLOCK_T
;

656 
	gcode_Çme
 = 
cu¼’t_d©a
->
g‘V¬FuÎName
Ğ
xml_Çme
 );

658 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
INT_STR
, 
code_Çme
 ) ) {

659  
	gINT_T
;

661 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
BOOL_STR
, 
code_Çme
 ) ) {

662  
	gBOOL_T
;

664 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
CHAN_STR
, 
code_Çme
 ) ) {

665  
	gCHAN_T
;

668 
	gcode_Çme
 = 
xml_Çme
;

670 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
INT_STR
, 
code_Çme
 ) ) {

671  
	gINT_T
;

674 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
BOOL_STR
, 
code_Çme
 ) ) {

675  
	gBOOL_T
;

678 iàĞ
	gsy¡em_d©a
.
hasV®ue
Ğ
CHAN_STR
, 
code_Çme
 ) ) {

679  
	gCHAN_T
;

682  
	gNO_T
;

	@src/uppaalparser.cpp

47 
	#YYBISON
 1

	)

50 
	#YYBISON_VERSION
 "2.3"

	)

53 
	#YYSKELETON_NAME
 "yacc.c"

	)

56 
	#YYPURE
 0

	)

59 
	#YYLSP_NEEDED
 0

	)

64 #iâdeà
YYTOKENTYPE


65 
	#YYTOKENTYPE


	)

68 
	eyytok’ty³
 {

69 
	mCONSTANT
 = 258,

70 
	mIDENTIFIER
 = 259,

71 
	mTEMPLATE_YY
 = 260,

72 
	mPARAMETER_YY
 = 261,

73 
	mREF_PARAMETER_YY
 = 262,

74 
	mCLOCK_YY
 = 263,

75 
	mINT_YY
 = 264,

76 
	mBOOL_YY
 = 265,

77 
	mCHAN_YY
 = 266,

78 
	mSTRING_LITERAL
 = 267,

79 
	mURGENT
 = 268,

80 
	mBROADCAST
 = 269,

81 
	mMETA
 = 270,

82 
	mPTR_OP
 = 271,

83 
	mINC_OP
 = 272,

84 
	mDEC_OP
 = 273,

85 
	mLEFT_OP
 = 274,

86 
	mRIGHT_OP
 = 275,

87 
	mLE_OP
 = 276,

88 
	mGE_OP
 = 277,

89 
	mEQ_OP
 = 278,

90 
	mNE_OP
 = 279,

91 
	mAND_OP
 = 280,

92 
	mOR_OP
 = 281,

93 
	mMUL_ASSIGN
 = 282,

94 
	mDIV_ASSIGN
 = 283,

95 
	mMOD_ASSIGN
 = 284,

96 
	mADD_ASSIGN
 = 285,

97 
	mSUB_ASSIGN
 = 286,

98 
	mLEFT_ASSIGN
 = 287,

99 
	mRIGHT_ASSIGN
 = 288,

100 
	mAND_ASSIGN
 = 289,

101 
	mXOR_ASSIGN
 = 290,

102 
	mOR_ASSIGN
 = 291,

103 
	mTYPE_NAME
 = 292,

104 
	mTYPEDEF
 = 293,

105 
	mINT
 = 294,

106 
	mCONST
 = 295,

107 
	mVOID
 = 296,

108 
	mCLOCK
 = 297,

109 
	mCHAN
 = 298,

110 
	mBOOL
 = 299,

111 
	mTRUE_YY
 = 300,

112 
	mFALSE_YY
 = 301,

113 
	mSTRUCT
 = 302,

114 
	mELLIPSIS
 = 303,

115 
	mCOMMENT
 = 304,

116 
	mCASE
 = 305,

117 
	mDEFAULT
 = 306,

118 
	mIF
 = 307,

119 
	mELSE
 = 308,

120 
	mSWITCH
 = 309,

121 
	mWHILE
 = 310,

122 
	mDO
 = 311,

123 
	mFOR
 = 312,

124 
	mCONTINUE
 = 313,

125 
	mBREAK
 = 314,

126 
	mRETURN
 = 315,

127 
	mSYSTEM
 = 316,

128 
	mIFX
 = 317

132 
	#CONSTANT
 258

	)

133 
	#IDENTIFIER
 259

	)

134 
	#TEMPLATE_YY
 260

	)

135 
	#PARAMETER_YY
 261

	)

136 
	#REF_PARAMETER_YY
 262

	)

137 
	#CLOCK_YY
 263

	)

138 
	#INT_YY
 264

	)

139 
	#BOOL_YY
 265

	)

140 
	#CHAN_YY
 266

	)

141 
	#STRING_LITERAL
 267

	)

142 
	#URGENT
 268

	)

143 
	#BROADCAST
 269

	)

144 
	#META
 270

	)

145 
	#PTR_OP
 271

	)

146 
	#INC_OP
 272

	)

147 
	#DEC_OP
 273

	)

148 
	#LEFT_OP
 274

	)

149 
	#RIGHT_OP
 275

	)

150 
	#LE_OP
 276

	)

151 
	#GE_OP
 277

	)

152 
	#EQ_OP
 278

	)

153 
	#NE_OP
 279

	)

154 
	#AND_OP
 280

	)

155 
	#OR_OP
 281

	)

156 
	#MUL_ASSIGN
 282

	)

157 
	#DIV_ASSIGN
 283

	)

158 
	#MOD_ASSIGN
 284

	)

159 
	#ADD_ASSIGN
 285

	)

160 
	#SUB_ASSIGN
 286

	)

161 
	#LEFT_ASSIGN
 287

	)

162 
	#RIGHT_ASSIGN
 288

	)

163 
	#AND_ASSIGN
 289

	)

164 
	#XOR_ASSIGN
 290

	)

165 
	#OR_ASSIGN
 291

	)

166 
	#TYPE_NAME
 292

	)

167 
	#TYPEDEF
 293

	)

168 
	#INT
 294

	)

169 
	#CONST
 295

	)

170 
	#VOID
 296

	)

171 
	#CLOCK
 297

	)

172 
	#CHAN
 298

	)

173 
	#BOOL
 299

	)

174 
	#TRUE_YY
 300

	)

175 
	#FALSE_YY
 301

	)

176 
	#STRUCT
 302

	)

177 
	#ELLIPSIS
 303

	)

178 
	#COMMENT
 304

	)

179 
	#CASE
 305

	)

180 
	#DEFAULT
 306

	)

181 
	#IF
 307

	)

182 
	#ELSE
 308

	)

183 
	#SWITCH
 309

	)

184 
	#WHILE
 310

	)

185 
	#DO
 311

	)

186 
	#FOR
 312

	)

187 
	#CONTINUE
 313

	)

188 
	#BREAK
 314

	)

189 
	#RETURN
 315

	)

190 
	#SYSTEM
 316

	)

191 
	#IFX
 317

	)

199 
	~<io¡»am
>

200 
	~<¡ršg
>

201 
	~<¡dio.h
>

202 
	~<m­
>

203 
	~<veùÜ
>

204 
	~<ut™y
>

205 
	~"chªÃl.h
"

206 
	~"ut/dbmut.hµ
"

207 
	~"io/uµ¯ld©a.h
"

208 
	~"io/uµ¯lmod–·r£r.h
"

209 
	~"mod–/.hµ
"

211 
usšg
 
	g¡d
::
¡ršg
;

212 
usšg
 
	g¡d
::
m­
;

213 
usšg
 
	g¡d
::
veùÜ
;

214 
usšg
 
	g¡d
::
make_·œ
;

216 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

218 
	gyydebug
=1;

219 
usšg
 
	g¡d
::
û¼
;

220 
usšg
 
	g¡d
::
’dl
;

221 
usšg
 
	g¡d
::
cout
;

223 
	gveùÜ
<
	g¡ršg
> 
	gsymbŞ_bË
;

225 
lšeNum
;

228 
Uµ¯lTem¶©eD©a
* 
	gsy¡em_d©a
;

229 
Uµ¯lTem¶©eD©a
* 
	gcu¼’t_d©a
;

230 
Uµ¯lP¬£r
* 
	gmod–_·r£r
;

232 
yy”rÜ
(const *);

233 
yy”rÜ
(cÚ¡ 
¡ršg
&);

234 
yyËx
();

235 
yy·r£
();

236 
FILE
* 
yyš
;

238 
	sTok’
{

239 
	mid
;

240 
¡ršg
 
	mxml_Çme
;

241 
¡ršg
 
	mcode_Çme
;

247 #iâdeà
YYDEBUG


248 
	#YYDEBUG
 0

	)

252 #ifdeà
YYERROR_VERBOSE


253 #undeà
YYERROR_VERBOSE


254 
	#YYERROR_VERBOSE
 1

	)

256 
	#YYERROR_VERBOSE
 0

	)

260 #iâdeà
YYTOKEN_TABLE


261 
	#YYTOKEN_TABLE
 0

	)

264 #ià! 
defšed
 
YYSTYPE
 && ! defšed 
YYSTYPE_IS_DECLARED


265 
	gYYSTYPE


268 
	gšt_v®ue
;

269 
Tok’
* 
	gtok’_v®ue
;

270 
TYPE_T
 
	gty³_v®ue
;

271 
	gveùÜ
<
	g¡ršg
> * 
	g¡r_vec_poš‹r
;

272 
COMP_OPERATOR
 
	gcom_İ
;

277 
	tYYSTYPE
;

278 
	#yy¡y³
 
YYSTYPE


	)

279 
	#YYSTYPE_IS_DECLARED
 1

	)

280 
	#YYSTYPE_IS_TRIVIAL
 1

	)

295 #ifdeà
YYTYPE_UINT8


296 
YYTYPE_UINT8
 
	tyyty³_ušt8
;

298 
	tyyty³_ušt8
;

301 #ifdeà
YYTYPE_INT8


302 
YYTYPE_INT8
 
	tyyty³_št8
;

303 #–ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

304 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

305 sigÃd 
	tyyty³_št8
;

307 
	tyyty³_št8
;

310 #ifdeà
YYTYPE_UINT16


311 
YYTYPE_UINT16
 
	tyyty³_ušt16
;

313 
	tyyty³_ušt16
;

316 #ifdeà
YYTYPE_INT16


317 
YYTYPE_INT16
 
	tyyty³_št16
;

319 
	tyyty³_št16
;

322 #iâdeà
YYSIZE_T


323 #ifdeà
__SIZE_TYPE__


324 
	#YYSIZE_T
 
__SIZE_TYPE__


	)

325 #–ià
defšed
 
size_t


326 
	#YYSIZE_T
 
size_t


	)

327 #–ià! 
defšed
 
YYSIZE_T
 && (defšed 
__STDC__
 || defšed 
__C99__FUNC__
 \

328 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

329 
	~<¡ddef.h
>

330 
	#YYSIZE_T
 
size_t


	)

332 
	#YYSIZE_T
 

	)

336 
	#YYSIZE_MAXIMUM
 ((
YYSIZE_T
è-1)

	)

338 #iâdeà
YY_


339 #ià
defšed
 
YYENABLE_NLS
 && YYENABLE_NLS

340 #ià
ENABLE_NLS


341 
	~<libš.h
>

342 
	#YY_
(
msgid
è
	`dg‘‹xt
 ("bisÚ-ruÁime", msgid)

	)

345 #iâdeà
YY_


346 
	#YY_
(
msgid
è
	)
msgid

351 #ià! 
defšed
 
lšt
 || defšed 
__GNUC__


352 
	#YYUSE
(
e
è((èÓ))

	)

354 
	#YYUSE
(
e
è

	)

358 #iâdeà
lšt


359 
	#YYID
(
n
èÒ)

	)

361 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

362 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

364 
	$YYID
 (
i
)

367 
	$YYID
 (
i
)

368 
i
;

371  
i
;

372 
	}
}

375 #ià! 
defšed
 
yyov”æow
 || 
YYERROR_VERBOSE


379 #ifdeà
YYSTACK_USE_ALLOCA


380 #ià
YYSTACK_USE_ALLOCA


381 #ifdeà
__GNUC__


382 
	#YYSTACK_ALLOC
 
__butš_®loÿ


	)

383 #–ià
defšed
 
__BUILTIN_VA_ARG_INCR


384 
	~<®loÿ.h
>

385 #–ià
defšed
 
_AIX


386 
	#YYSTACK_ALLOC
 
__®loÿ


	)

387 #–ià
defšed
 
_MSC_VER


388 
	~<m®loc.h
>

389 
	#®loÿ
 
_®loÿ


	)

391 
	#YYSTACK_ALLOC
 
®loÿ


	)

392 #ià! 
defšed
 
_ALLOCA_H
 && ! defšed 
_STDLIB_H
 && (defšed 
__STDC__
 || defšed 
__C99__FUNC__
 \

393 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

394 
	~<¡dlib.h
>

395 #iâdeà
_STDLIB_H


396 
	#_STDLIB_H
 1

	)

403 #ifdeà
YYSTACK_ALLOC


405 
	#YYSTACK_FREE
(
PŒ
èdØ{ ; } 
	`YYID
 (0))

	)

406 #iâdeà
YYSTACK_ALLOC_MAXIMUM


411 
	#YYSTACK_ALLOC_MAXIMUM
 4032

	)

414 
	#YYSTACK_ALLOC
 
YYMALLOC


	)

415 
	#YYSTACK_FREE
 
YYFREE


	)

416 #iâdeà
YYSTACK_ALLOC_MAXIMUM


417 
	#YYSTACK_ALLOC_MAXIMUM
 
YYSIZE_MAXIMUM


	)

419 #ià(
defšed
 
__ılu¥lus
 && ! defšed 
_STDLIB_H
 \

420 && ! ((
defšed
 
	gYYMALLOC
 || defšed 
	gm®loc
) \

421 && (
defšed
 
	gYYFREE
 || defšed 
	gä“
)))

422 
	~<¡dlib.h
>

423 #iâdeà
_STDLIB_H


424 
	#_STDLIB_H
 1

	)

427 #iâdeà
YYMALLOC


428 
	#YYMALLOC
 
m®loc


	)

429 #ià! 
defšed
 
m®loc
 && ! defšed 
_STDLIB_H
 && (defšed 
__STDC__
 || defšed 
__C99__FUNC__
 \

430 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

431 *
m®loc
 (
YYSIZE_T
);

434 #iâdeà
YYFREE


435 
	#YYFREE
 
ä“


	)

436 #ià! 
defšed
 
ä“
 && ! defšed 
_STDLIB_H
 && (defšed 
__STDC__
 || defšed 
__C99__FUNC__
 \

437 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

438 
ä“
 (*);

445 #ià(! 
defšed
 
yyov”æow
 \

446 && (! 
defšed
 
	g__ılu¥lus
 \

447 || (
defšed
 
	gYYSTYPE_IS_TRIVIAL
 && YYSTYPE_IS_TRIVIAL)))

450 
	uyy®loc


452 
yyty³_št16
 
	myyss
;

453 
YYSTYPE
 
	myyvs
;

457 
	#YYSTACK_GAP_MAXIMUM
 ( (
yy®loc
è- 1)

	)

461 
	#YYSTACK_BYTES
(
N
) \

462 ((
N
è* ( (
yyty³_št16
è+  (
YYSTYPE
)) \

463 + 
YYSTACK_GAP_MAXIMUM
)

	)

467 #iâdeà
YYCOPY


468 #ià
defšed
 
__GNUC__
 && 1 < __GNUC__

469 
	#YYCOPY
(
To
, 
From
, 
CouÁ
) \

470 
	`__butš_memıy
 (
To
, 
From
, (
CouÁ
è*  (*(From)))

	)

472 
	#YYCOPY
(
To
, 
From
, 
CouÁ
) \

475 
YYSIZE_T
 
yyi
; \

476 
yyi
 = 0; yy˜< (
CouÁ
); yyi++) \

477 (
To
)[
yyi
] = (
From
)[yyi]; \

479 
	`YYID
 (0))

	)

488 
	#YYSTACK_RELOCATE
(
Sck
) \

491 
YYSIZE_T
 
yyÃwby‹s
; \

492 
	`YYCOPY
 (&
yy±r
->
Sck
, Sck, 
yysize
); \

493 
Sck
 = &
yy±r
->Stack; \

494 
yyÃwby‹s
 = 
yy¡acksize
 *  (*
Sck
è+ 
YYSTACK_GAP_MAXIMUM
; \

495 
yy±r
 +ğ
yyÃwby‹s
 /  (*yyptr); \

497 
	`YYID
 (0))

	)

502 
	#YYFINAL
 57

	)

504 
	#YYLAST
 252

	)

507 
	#YYNTOKENS
 75

	)

509 
	#YYNNTS
 26

	)

511 
	#YYNRULES
 84

	)

513 
	#YYNSTATES
 154

	)

516 
	#YYUNDEFTOK
 2

	)

517 
	#YYMAXUTOK
 317

	)

519 
	#YYTRANSLATE
(
YYX
) \

520 ((è(
YYX
è<ğ
YYMAXUTOK
 ? 
yyŒª¦©e
[YYX] : 
YYUNDEFTOK
)

	)

523 cÚ¡ 
yyty³_ušt8
 
	gyyŒª¦©e
[] =

559 #ià
YYDEBUG


562 cÚ¡ 
yyty³_ušt16
 
	gyy´hs
[] =

576 cÚ¡ 
yyty³_št8
 
	gyyrhs
[] =

610 cÚ¡ 
yyty³_ušt16
 
	gyy¾še
[] =

624 #ià
YYDEBUG
 || 
YYERROR_VERBOSE
 || 
YYTOKEN_TABLE


627 cÚ¡ *cÚ¡ 
	gyyŠame
[] =

651 #ifdeà
YYPRINT


654 cÚ¡ 
yyty³_ušt16
 
	gyytoknum
[] =

668 cÚ¡ 
yyty³_ušt8
 
	gyyr1
[] =

682 cÚ¡ 
yyty³_ušt8
 
	gyyr2
[] =

698 cÚ¡ 
yyty³_ušt8
 
	gyydeçù
[] =

719 cÚ¡ 
yyty³_št16
 
	gyydefgÙo
[] =

728 
	#YYPACT_NINF
 -62

	)

729 cÚ¡ 
yyty³_št16
 
	gyy·ù
[] =

750 cÚ¡ 
yyty³_št16
 
	gyypgÙo
[] =

761 
	#YYTABLE_NINF
 -47

	)

762 cÚ¡ 
yyty³_št16
 
	gyybË
[] =

792 cÚ¡ 
yyty³_št16
 
	gyycheck
[] =

824 cÚ¡ 
yyty³_ušt8
 
	gyy¡os
[] =

844 
	#yy”rok
 (
yy”r¡©us
 = 0)

	)

845 
	#yyş—rš
 (
yych¬
 = 
YYEMPTY
)

	)

846 
	#YYEMPTY
 (-2)

	)

847 
	#YYEOF
 0

	)

849 
	#YYACCEPT
 
yyacû±Ïb


	)

850 
	#YYABORT
 
yyabÜab


	)

851 
	#YYERROR
 
yy”rÜÏb


	)

858 
	#YYFAIL
 
yy”¾ab


	)

860 
	#YYRECOVERING
(è(!!
yy”r¡©us
)

	)

862 
	#YYBACKUP
(
Tok’
, 
V®ue
) \

864 ià(
yych¬
 =ğ
YYEMPTY
 && 
yyËn
 == 1) \

866 
yych¬
 = (
Tok’
); \

867 
yylv®
 = (
V®ue
); \

868 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
); \

869 
	`YYPOPSTACK
 (1); \

870 
yybackup
; \

874 
	`yy”rÜ
 (
	`YY_
("syntaxƒrror: cannot back up")); \

875 
YYERROR
; \

877 
	`YYID
 (0))

	)

880 
	#YYTERROR
 1

	)

881 
	#YYERRCODE
 256

	)

888 
	#YYRHSLOC
(
Rhs
, 
K
è((Rhs)[K])

	)

889 #iâdeà
YYLLOC_DEFAULT


890 
	#YYLLOC_DEFAULT
(
Cu¼’t
, 
Rhs
, 
N
) \

892 ià(
	`YYID
 (
N
)) \

894 (
Cu¼’t
).
fœ¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_line; \

895 (
Cu¼’t
).
fœ¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 1).first_column; \

896 (
Cu¼’t
).
Ï¡_lše
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_line; \

897 (
Cu¼’t
).
Ï¡_cŞumn
 = 
	`YYRHSLOC
 (
Rhs
, 
N
).last_column; \

901 (
Cu¼’t
).
fœ¡_lše
 = (Cu¼’t).
Ï¡_lše
 = \

902 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_lše
; \

903 (
Cu¼’t
).
fœ¡_cŞumn
 = (Cu¼’t).
Ï¡_cŞumn
 = \

904 
	`YYRHSLOC
 (
Rhs
, 0).
Ï¡_cŞumn
; \

906 
	`YYID
 (0))

	)

914 #iâdeà
YY_LOCATION_PRINT


915 #ià
defšed
 
YYLTYPE_IS_TRIVIAL
 && YYLTYPE_IS_TRIVIAL

916 
	#YY_LOCATION_PRINT
(
Fe
, 
Loc
) \

917 
	`årštf
 (
Fe
, "%d.%d-%d.%d", \

918 (
Loc
).
fœ¡_lše
, (Loc).
fœ¡_cŞumn
, \

919 (
Loc
).
Ï¡_lše
, (Loc).
Ï¡_cŞumn
)

	)

921 
	#YY_LOCATION_PRINT
(
Fe
, 
Loc
è((è0)

	)

928 #ifdeà
YYLEX_PARAM


929 
	#YYLEX
 
	`yyËx
 (
YYLEX_PARAM
)

	)

931 
	#YYLEX
 
	`yyËx
 ()

	)

935 #ià
YYDEBUG


937 #iâdeà
YYFPRINTF


938 
	~<¡dio.h
>

939 
	#YYFPRINTF
 
årštf


	)

942 
	#YYDPRINTF
(
Args
) \

944 ià(
yydebug
) \

945 
YYFPRINTF
 
Args
; \

946 } 
	`YYID
 (0))

	)

948 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
) \

950 ià(
yydebug
) \

952 
	`YYFPRINTF
 (
¡d”r
, "% ", 
T™Ë
); \

953 
	`yy_symbŞ_´št
 (
¡d”r
, \

954 
Ty³
, 
V®ue
); \

955 
	`YYFPRINTF
 (
¡d”r
, "\n"); \

957 } 
	`YYID
 (0))

	)

965 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

966 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

968 
	$yy_symbŞ_v®ue_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
)

971 
	$yy_symbŞ_v®ue_´št
 (
yyouut
, 
yyty³
, 
yyv®u•
)

972 
FILE
 *
yyouut
;

973 
yyty³
;

974 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
;

977 ià(!
yyv®u•
)

979 #ifdeà
YYPRINT


980 ià(
yyty³
 < 
YYNTOKENS
)

981 
	`YYPRINT
 (
yyouut
, 
yytoknum
[
yyty³
], *
yyv®u•
);

983 
	`YYUSE
 (
yyouut
);

985 
yyty³
)

990 
	}
}

997 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

998 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1000 
	$yy_symbŞ_´št
 (
FILE
 *
yyouut
, 
yyty³
, 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
)

1003 
	$yy_symbŞ_´št
 (
yyouut
, 
yyty³
, 
yyv®u•
)

1004 
FILE
 *
yyouut
;

1005 
yyty³
;

1006 
YYSTYPE
 cÚ¡ * cÚ¡ 
yyv®u•
;

1009 ià(
yyty³
 < 
YYNTOKENS
)

1010 
	`YYFPRINTF
 (
yyouut
, "tok’ % (", 
yyŠame
[
yyty³
]);

1012 
	`YYFPRINTF
 (
yyouut
, "Á”m % (", 
yyŠame
[
yyty³
]);

1014 
	`yy_symbŞ_v®ue_´št
 (
yyouut
, 
yyty³
, 
yyv®u•
);

1015 
	`YYFPRINTF
 (
yyouut
, ")");

1016 
	}
}

1023 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1024 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1026 
	$yy_¡ack_´št
 (
yyty³_št16
 *
bÙtom
, yyty³_št16 *
tİ
)

1029 
	$yy_¡ack_´št
 (
bÙtom
, 
tİ
)

1030 
yyty³_št16
 *
bÙtom
;

1031 
yyty³_št16
 *
tİ
;

1034 
	`YYFPRINTF
 (
¡d”r
, "Stack‚ow");

1035 ; 
bÙtom
 <ğ
tİ
; ++bottom)

1036 
	`YYFPRINTF
 (
¡d”r
, " %d", *
bÙtom
);

1037 
	`YYFPRINTF
 (
¡d”r
, "\n");

1038 
	}
}

1040 
	#YY_STACK_PRINT
(
BÙtom
, 
Tİ
) \

1042 ià(
yydebug
) \

1043 
	`yy_¡ack_´št
 ((
BÙtom
), (
Tİ
)); \

1044 } 
	`YYID
 (0))

	)

1051 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1052 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1054 
	$yy_»duû_´št
 (
YYSTYPE
 *
yyv¥
, 
yyruË
)

1057 
	$yy_»duû_´št
 (
yyv¥
, 
yyruË
)

1058 
YYSTYPE
 *
yyv¥
;

1059 
yyruË
;

1062 
yyÄhs
 = 
yyr2
[
yyruË
];

1063 
yyi
;

1064 
yyÊo
 = 
yy¾še
[
yyruË
];

1065 
	`YYFPRINTF
 (
¡d”r
, "Reducing stack by„ule %d (line %lu):\n",

1066 
yyruË
 - 1, 
yyÊo
);

1068 
yyi
 = 0; yy˜< 
yyÄhs
; yyi++)

1070 
	`årštf
 (
¡d”r
, " $%d = ", 
yyi
 + 1);

1071 
	`yy_symbŞ_´št
 (
¡d”r
, 
yyrhs
[
yy´hs
[
yyruË
] + 
yyi
],

1072 &(
yyv¥
[(
yyi
 + 1è- (
yyÄhs
)])

1074 
	`årštf
 (
¡d”r
, "\n");

1076 
	}
}

1078 
	#YY_REDUCE_PRINT
(
RuË
) \

1080 ià(
yydebug
) \

1081 
	`yy_»duû_´št
 (
yyv¥
, 
RuË
); \

1082 } 
	`YYID
 (0))

	)

1086 
	gyydebug
;

1088 
	#YYDPRINTF
(
Args
)

	)

1089 
	#YY_SYMBOL_PRINT
(
T™Ë
, 
Ty³
, 
V®ue
, 
LoÿtiÚ
)

	)

1090 
	#YY_STACK_PRINT
(
BÙtom
, 
Tİ
)

	)

1091 
	#YY_REDUCE_PRINT
(
RuË
)

	)

1096 #iâdef 
YYINITDEPTH


1097 
	#YYINITDEPTH
 200

	)

1107 #iâdeà
YYMAXDEPTH


1108 
	#YYMAXDEPTH
 10000

	)

1113 #ià
YYERROR_VERBOSE


1115 #iâdeà
yy¡¾’


1116 #ià
defšed
 
__GLIBC__
 && defšed 
_STRING_H


1117 
	#yy¡¾’
 
¡¾’


	)

1120 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1121 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1122 
YYSIZE_T


1123 
	$yy¡¾’
 (cÚ¡ *
yy¡r
)

1125 
YYSIZE_T


1126 
	$yy¡¾’
 (
yy¡r
)

1127 cÚ¡ *
yy¡r
;

1130 
YYSIZE_T
 
yyËn
;

1131 
yyËn
 = 0; 
yy¡r
[yylen]; yylen++)

1133  
yyËn
;

1134 
	}
}

1138 #iâdeà
yy¡pıy


1139 #ià
defšed
 
__GLIBC__
 && defšed 
_STRING_H
 && defšed 
_GNU_SOURCE


1140 
	#yy¡pıy
 
¡pıy


	)

1144 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1145 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1147 
	$yy¡pıy
 (*
yyde¡
, cÚ¡ *
yy¤c
)

1150 
	$yy¡pıy
 (
yyde¡
, 
yy¤c
)

1151 *
yyde¡
;

1152 cÚ¡ *
yy¤c
;

1155 *
yyd
 = 
yyde¡
;

1156 cÚ¡ *
yys
 = 
yy¤c
;

1158 (*
yyd
++ = *
yys
++) != '\0')

1161  
yyd
 - 1;

1162 
	}
}

1166 #iâdeà
yyŠam”r


1174 
YYSIZE_T


1175 
	$yyŠam”r
 (*
yy»s
, cÚ¡ *
yy¡r
)

1177 ià(*
yy¡r
 == '"')

1179 
YYSIZE_T
 
yyn
 = 0;

1180 cÚ¡ *
yyp
 = 
yy¡r
;

1183 *++
yyp
)

1187 
do_nÙ_¡r_quÙes
;

1190 ià(*++
yyp
 != '\\')

1191 
do_nÙ_¡r_quÙes
;

1194 ià(
yy»s
)

1195 
yy»s
[
yyn
] = *
yyp
;

1196 
yyn
++;

1200 ià(
yy»s
)

1201 
yy»s
[
yyn
] = '\0';

1202  
yyn
;

1204 
do_nÙ_¡r_quÙes
: ;

1207 ià(! 
yy»s
)

1208  
	`yy¡¾’
 (
yy¡r
);

1210  
	`yy¡pıy
 (
yy»s
, 
yy¡r
) - yyres;

1211 
	}
}

1221 
YYSIZE_T


1222 
	$yysyÁax_”rÜ
 (*
yy»suÉ
, 
yy¡©e
, 
yych¬
)

1224 
yyn
 = 
yy·ù
[
yy¡©e
];

1226 ià(! (
YYPACT_NINF
 < 
yyn
 && yyÀ<ğ
YYLAST
))

1230 
yyty³
 = 
	`YYTRANSLATE
 (
yych¬
);

1231 
YYSIZE_T
 
yysize0
 = 
	`yyŠam”r
 (0, 
yyŠame
[
yyty³
]);

1232 
YYSIZE_T
 
yysize
 = 
yysize0
;

1233 
YYSIZE_T
 
yysize1
;

1234 
yysize_ov”æow
 = 0;

1235 ’um { 
YYERROR_VERBOSE_ARGS_MAXIMUM
 = 5 };

1236 cÚ¡ *
yy¬g
[
YYERROR_VERBOSE_ARGS_MAXIMUM
];

1237 
yyx
;

1242 
	`YY_
("syntaxƒrror, unexpected %s");

1243 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s");

1244 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s");

1245 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s or %s");

1246 
	`YY_
("syntaxƒrror, unexpected %s,ƒxpecting %s or %s or %s or %s");

1248 *
yyfmt
;

1249 cÚ¡ *
yyf
;

1250 cÚ¡ 
yyuÃx³ùed
[] = "syntaxƒrror, unexpected %s";

1251 cÚ¡ 
yyex³ùšg
[] = ",ƒxpecting %s";

1252 cÚ¡ 
yyÜ
[] = " or %s";

1253 
yyfÜm©
[ 
yyuÃx³ùed


1254 +  
yyex³ùšg
 - 1

1255 + ((
YYERROR_VERBOSE_ARGS_MAXIMUM
 - 2)

1256 * ( 
yyÜ
 - 1))];

1257 cÚ¡ *
yy´efix
 = 
yyex³ùšg
;

1261 
yyxbegš
 = 
yyn
 < 0 ? -yyn : 0;

1264 
yychecklim
 = 
YYLAST
 - 
yyn
 + 1;

1265 
yyx’d
 = 
yychecklim
 < 
YYNTOKENS
 ? yychecklim : YYNTOKENS;

1266 
yycouÁ
 = 1;

1268 
yy¬g
[0] = 
yyŠame
[
yyty³
];

1269 
yyfmt
 = 
	`yy¡pıy
 (
yyfÜm©
, 
yyuÃx³ùed
);

1271 
yyx
 = 
yyxbegš
; yyx < 
yyx’d
; ++yyx)

1272 ià(
yycheck
[
yyx
 + 
yyn
] =ğyyx && yyx !ğ
YYTERROR
)

1274 ià(
yycouÁ
 =ğ
YYERROR_VERBOSE_ARGS_MAXIMUM
)

1276 
yycouÁ
 = 1;

1277 
yysize
 = 
yysize0
;

1278 
yyfÜm©
[ 
yyuÃx³ùed
 - 1] = '\0';

1281 
yy¬g
[
yycouÁ
++] = 
yyŠame
[
yyx
];

1282 
yysize1
 = 
yysize
 + 
	`yyŠam”r
 (0, 
yyŠame
[
yyx
]);

1283 
yysize_ov”æow
 |ğ(
yysize1
 < 
yysize
);

1284 
yysize
 = 
yysize1
;

1285 
yyfmt
 = 
	`yy¡pıy
 (yyfmt, 
yy´efix
);

1286 
yy´efix
 = 
yyÜ
;

1289 
yyf
 = 
	`YY_
(
yyfÜm©
);

1290 
yysize1
 = 
yysize
 + 
	`yy¡¾’
 (
yyf
);

1291 
yysize_ov”æow
 |ğ(
yysize1
 < 
yysize
);

1292 
yysize
 = 
yysize1
;

1294 ià(
yysize_ov”æow
)

1295  
YYSIZE_MAXIMUM
;

1297 ià(
yy»suÉ
)

1302 *
yyp
 = 
yy»suÉ
;

1303 
yyi
 = 0;

1304 (*
yyp
 = *
yyf
) != '\0')

1306 ià(*
yyp
 =ğ'%' && 
yyf
[1] =ğ's' && 
yyi
 < 
yycouÁ
)

1308 
yyp
 +ğ
	`yyŠam”r
 (yyp, 
yy¬g
[
yyi
++]);

1309 
yyf
 += 2;

1313 
yyp
++;

1314 
yyf
++;

1318  
yysize
;

1320 
	}
}

1329 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1330 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1332 
	$yyde¡ruù
 (cÚ¡ *
yymsg
, 
yyty³
, 
YYSTYPE
 *
yyv®u•
)

1335 
	$yyde¡ruù
 (
yymsg
, 
yyty³
, 
yyv®u•
)

1336 cÚ¡ *
yymsg
;

1337 
yyty³
;

1338 
YYSTYPE
 *
yyv®u•
;

1341 
	`YYUSE
 (
yyv®u•
);

1343 ià(!
yymsg
)

1344 
yymsg
 = "Deleting";

1345 
	`YY_SYMBOL_PRINT
 (
yymsg
, 
yyty³
, 
yyv®u•
, 
yyloÿtiÚp
);

1347 
yyty³
)

1353 
	}
}

1358 #ifdeà
YYPARSE_PARAM


1359 #ià
defšed
 
__STDC__
 || defšed 
__ılu¥lus


1360 
yy·r£
 (*
YYPARSE_PARAM
);

1362 
yy·r£
 ();

1365 #ià
defšed
 
__STDC__
 || defšed 
__ılu¥lus


1366 
yy·r£
 ();

1368 
yy·r£
 ();

1375 
	gyych¬
;

1378 
YYSTYPE
 
	gyylv®
;

1381 
	gyyÃ¼s
;

1389 #ifdeà
YYPARSE_PARAM


1390 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1391 || 
defšed
 
	g__ılu¥lus
 || defšed 
	g_MSC_VER
)

1393 
	$yy·r£
 (*
YYPARSE_PARAM
)

1396 
	$yy·r£
 (
YYPARSE_PARAM
)

1397 *
YYPARSE_PARAM
;

1400 #ià(
defšed
 
__STDC__
 || defšed 
__C99__FUNC__
 \

1401 || 
defšed
 
__ılu¥lus
 || defšed 
_MSC_VER
)

1403 
	$yy·r£
 ()

1406 
	$yy·r£
 ()

1412 
yy¡©e
;

1413 
yyn
;

1414 
yy»suÉ
;

1416 
yy”r¡©us
;

1418 
yytok’
 = 0;

1419 #ià
YYERROR_VERBOSE


1421 
yymsgbuf
[128];

1422 *
yymsg
 = 
yymsgbuf
;

1423 
YYSIZE_T
 
yymsg_®loc
 =  
yymsgbuf
;

1435 
yyty³_št16
 
yys§
[
YYINITDEPTH
];

1436 
yyty³_št16
 *
yyss
 = 
yys§
;

1437 
yyty³_št16
 *
yys¥
;

1440 
YYSTYPE
 
yyv§
[
YYINITDEPTH
];

1441 
YYSTYPE
 *
yyvs
 = 
yyv§
;

1442 
YYSTYPE
 *
yyv¥
;

1446 
	#YYPOPSTACK
(
N
è(
yyv¥
 -ğ(N), 
yys¥
 -ğ(N))

	)

1448 
YYSIZE_T
 
yy¡acksize
 = 
YYINITDEPTH
;

1452 
YYSTYPE
 
yyv®
;

1457 
yyËn
 = 0;

1459 
	`YYDPRINTF
 ((
¡d”r
, "Starting…arse\n"));

1461 
yy¡©e
 = 0;

1462 
yy”r¡©us
 = 0;

1463 
yyÃ¼s
 = 0;

1464 
yych¬
 = 
YYEMPTY
;

1471 
yys¥
 = 
yyss
;

1472 
yyv¥
 = 
yyvs
;

1474 
yy£t¡©e
;

1479 
yyÃw¡©e
:

1482 
yys¥
++;

1484 
yy£t¡©e
:

1485 *
yys¥
 = 
yy¡©e
;

1487 ià(
yyss
 + 
yy¡acksize
 - 1 <ğ
yys¥
)

1490 
YYSIZE_T
 
yysize
 = 
yys¥
 - 
yyss
 + 1;

1492 #ifdeà
yyov”æow


1497 
YYSTYPE
 *
yyvs1
 = 
yyvs
;

1498 
yyty³_št16
 *
yyss1
 = 
yyss
;

1505 
	`yyov”æow
 (
	`YY_
("memoryƒxhausted"),

1506 &
yyss1
, 
yysize
 *  (*
yys¥
),

1507 &
yyvs1
, 
yysize
 *  (*
yyv¥
),

1509 &
yy¡acksize
);

1511 
yyss
 = 
yyss1
;

1512 
yyvs
 = 
yyvs1
;

1515 #iâdeà
YYSTACK_RELOCATE


1516 
yyexhau¡edÏb
;

1519 ià(
YYMAXDEPTH
 <ğ
yy¡acksize
)

1520 
yyexhau¡edÏb
;

1521 
yy¡acksize
 *= 2;

1522 ià(
YYMAXDEPTH
 < 
yy¡acksize
)

1523 
yy¡acksize
 = 
YYMAXDEPTH
;

1526 
yyty³_št16
 *
yyss1
 = 
yyss
;

1527 
yy®loc
 *
yy±r
 =

1528 (
yy®loc
 *è
	`YYSTACK_ALLOC
 (
	`YYSTACK_BYTES
 (
yy¡acksize
));

1529 ià(! 
yy±r
)

1530 
yyexhau¡edÏb
;

1531 
	`YYSTACK_RELOCATE
 (
yyss
);

1532 
	`YYSTACK_RELOCATE
 (
yyvs
);

1534 #undeà
YYSTACK_RELOCATE


1535 ià(
yyss1
 !ğ
yys§
)

1536 
	`YYSTACK_FREE
 (
yyss1
);

1541 
yys¥
 = 
yyss
 + 
yysize
 - 1;

1542 
yyv¥
 = 
yyvs
 + 
yysize
 - 1;

1545 
	`YYDPRINTF
 ((
¡d”r
, "Stack size increasedo %lu\n",

1546 (è
yy¡acksize
));

1548 ià(
yyss
 + 
yy¡acksize
 - 1 <ğ
yys¥
)

1549 
YYABORT
;

1552 
	`YYDPRINTF
 ((
¡d”r
, "EÁ”šg s‹ %d\n", 
yy¡©e
));

1554 
yybackup
;

1559 
yybackup
:

1565 
yyn
 = 
yy·ù
[
yy¡©e
];

1566 ià(
yyn
 =ğ
YYPACT_NINF
)

1567 
yydeçuÉ
;

1572 ià(
yych¬
 =ğ
YYEMPTY
)

1574 
	`YYDPRINTF
 ((
¡d”r
, "Reading‡oken: "));

1575 
yych¬
 = 
YYLEX
;

1578 ià(
yych¬
 <ğ
YYEOF
)

1580 
yych¬
 = 
yytok’
 = 
YYEOF
;

1581 
	`YYDPRINTF
 ((
¡d”r
, "Now‡tƒnd of input.\n"));

1585 
yytok’
 = 
	`YYTRANSLATE
 (
yych¬
);

1586 
	`YY_SYMBOL_PRINT
 ("Nexˆtok’ is", 
yytok’
, &
yylv®
, &
yyÎoc
);

1591 
yyn
 +ğ
yytok’
;

1592 ià(
yyn
 < 0 || 
YYLAST
 < yyÀ|| 
yycheck
[yyn] !ğ
yytok’
)

1593 
yydeçuÉ
;

1594 
yyn
 = 
yybË
[yyn];

1595 ià(
yyn
 <= 0)

1597 ià(
yyn
 =ğ0 || yyÀ=ğ
YYTABLE_NINF
)

1598 
yy”¾ab
;

1599 
yyn
 = -yyn;

1600 
yy»duû
;

1603 ià(
yyn
 =ğ
YYFINAL
)

1604 
YYACCEPT
;

1608 ià(
yy”r¡©us
)

1609 
yy”r¡©us
--;

1612 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yytok’
, &
yylv®
, &
yyÎoc
);

1615 ià(
yych¬
 !ğ
YYEOF
)

1616 
yych¬
 = 
YYEMPTY
;

1618 
yy¡©e
 = 
yyn
;

1619 *++
yyv¥
 = 
yylv®
;

1621 
yyÃw¡©e
;

1627 
yydeçuÉ
:

1628 
yyn
 = 
yydeçù
[
yy¡©e
];

1629 ià(
yyn
 == 0)

1630 
yy”¾ab
;

1631 
yy»duû
;

1637 
yy»duû
:

1639 
yyËn
 = 
yyr2
[
yyn
];

1649 
yyv®
 = 
yyv¥
[1-
yyËn
];

1652 
	`YY_REDUCE_PRINT
 (
yyn
);

1653 
yyn
)

1658 (
yyv®
.
ty³_v®ue
)=
INT_T
;

1665 (
yyv®
.
ty³_v®ue
)=
CLOCK_T
;

1672 (
yyv®
.
ty³_v®ue
)=
BOOL_T
;

1679 (
yyv®
.
ty³_v®ue
)=
CHAN_T
;

1686 (
yyv®
.
ty³_v®ue
)=
URGENT_CHAN_T
;

1693 (
yyv®
.
ty³_v®ue
)=
BROADCAST_CHAN_T
;

1700 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (1)].token_value);

1707 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (4)].token_value);

1708 (
yyv®
.
tok’_v®ue
)->
code_Çme
ğ
	`¬¿yToV¬
((yyv®.tok’_v®ue)->code_Çme, (
yyv¥
[(3è- (4)].
št_v®ue
));

1715 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (1)].token_value);

1722 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (4)].token_value);

1723 (
yyv®
.
tok’_v®ue
)->
code_Çme
=
	`¬¿yToV¬
((yyv®.tok’_v®ue)->code_Çme, (
yyv¥
[(3è- (4)].
št_v®ue
));

1730 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (1)].token_value);

1737 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (4)].token_value);

1738 (
yyv®
.
tok’_v®ue
)->
code_Çme
=
	`¬¿yToV¬
((yyv®.tok’_v®ue)->code_Çme, (
yyv¥
[(3è- (4)].
št_v®ue
));

1745 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (1)].token_value);

1752 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (4)].token_value);

1753 (
yyv®
.
tok’_v®ue
)->
code_Çme
=
	`¬¿yToV¬
((yyv®.tok’_v®ue)->code_Çme, (
yyv¥
[(3è- (4)].
št_v®ue
));

1760 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (1)].token_value);

1767 (
yyv®
.
tok’_v®ue
)=(
yyv¥
[(1) - (4)].token_value);

1768 (
yyv®
.
tok’_v®ue
)->
code_Çme
=
	`¬¿yToV¬
((yyv®.tok’_v®ue)->code_Çme, (
yyv¥
[(3è- (4)].
št_v®ue
));

1775 (
yyv®
.
¡r_vec_poš‹r
)=
Ãw
 
veùÜ
<
¡ršg
> ( );

1776 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
Ğ(
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1777 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1784 (
yyv®
.
¡r_vec_poš‹r
)=(
yyv¥
[(1) - (3)].str_vec_pointer);

1785 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(3è- (3)].
tok’_v®ue
)->
code_Çme
);

1786 
	`d–‘e
 (
yyv¥
[(3è- (3)].
tok’_v®ue
);

1793 (
yyv®
.
¡r_vec_poš‹r
)=
Ãw
 
veùÜ
<
¡ršg
> ( );

1794 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
Ğ(
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1795 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1802 (
yyv®
.
¡r_vec_poš‹r
)=(
yyv¥
[(1) - (3)].str_vec_pointer);

1803 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(3è- (3)].
tok’_v®ue
)->
code_Çme
);

1804 
	`d–‘e
 (
yyv¥
[(3è- (3)].
tok’_v®ue
);

1811 (
yyv®
.
¡r_vec_poš‹r
)=
Ãw
 
veùÜ
<
¡ršg
> ( );

1812 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1813 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1820 (
yyv®
.
¡r_vec_poš‹r
)=
Ãw
 
veùÜ
<
¡ršg
> ( );

1821 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1822 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1829 (
yyv®
.
¡r_vec_poš‹r
)=(
yyv¥
[(1) - (3)].str_vec_pointer);

1830 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(3è- (3)].
tok’_v®ue
)->
code_Çme
);

1831 
	`d–‘e
 (
yyv¥
[(3è- (3)].
tok’_v®ue
);

1838 (
yyv®
.
¡r_vec_poš‹r
)=(
yyv¥
[(1) - (3)].str_vec_pointer);

1839 (
yyv®
.
¡r_vec_poš‹r
)->
	`push_back
((
yyv¥
[(3è- (3)].
tok’_v®ue
)->
code_Çme
);

1840 
	`d–‘e
 (
yyv¥
[(3è- (3)].
tok’_v®ue
);

1847 (
yyv®
.
com_İ
)=
EQ
;

1854 (
yyv®
.
com_İ
)=
LE
;

1861 (
yyv®
.
com_İ
)=
GE
;

1868 (
yyv®
.
com_İ
)=
LT
;

1875 (
yyv®
.
com_İ
)=
GT
;

1882 (
yyv®
.
com_İ
)=
NE
;

1889 (
yyv®
.
št_v®ue
)=
cu¼’t_d©a
->
	`g‘ClockId
((
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1890 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1897 (
yyv®
.
št_v®ue
)=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
) );

1898 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1905 (
yyv®
.
št_v®ue
)=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
) );

1906 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1913 (
yyv®
.
št_v®ue
)=
mod–_·r£r
->
	`g‘P¬am‘”Id
(
cu¼’t_d©a
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1914 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1921 (
yyv®
.
št_v®ue
)=
mod–_·r£r
->
	`g‘P¬am‘”Id
(
cu¼’t_d©a
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
);

1922 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1929 (
yyv®
.
št_v®ue
)=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
CHAN_STR
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
) );

1930 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

1937 
mod–_·r£r
->
	`addClockCÚ¡¿št
(
cu¼’t_d©a
, (
yyv¥
[(1è- (3)].
št_v®ue
), 
GLOBAL_CLOCK_ID
, (yyv¥[(2è- (3)].
com_İ
), (yyvsp[(3) - (3)].int_value));

1944 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ(
yyv¥
[(2è- (3)].
com_İ
));

1945 
mod–_·r£r
->
	`addClockCÚ¡¿št
(
cu¼’t_d©a
, (
yyv¥
[(3è- (3)].
št_v®ue
è, 
GLOBAL_CLOCK_ID
, 
nİ
, (yyvsp[(1) - (3)].int_value));

1952 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, (
yyv¥
[(1è- (3)].
št_v®ue
), 
GLOBAL_CLOCK_ID
, (yyv¥[(2è- (3)].
com_İ
), 0, (yyvsp[(3) - (3)].int_value) );

1959 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ(
yyv¥
[(2è- (3)].
com_İ
));

1960 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, (
yyv¥
[(3è- (3)].
št_v®ue
), 
GLOBAL_CLOCK_ID
, 
nİ
, 0, (yyvsp[(1) - (3)].int_value) );

1967 * 
cs
=
	`ü—‹P¬am‘”CÚ¡¿št
Ğ(
yyv¥
[(1è- (3)].
št_v®ue
), 
DUMMY_ID
, (yyv¥[(2è- (3)].
com_İ
), (yyvsp[(3) - (3)].int_value) );

1968 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

1975 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ(
yyv¥
[(2è- (3)].
com_İ
));

1976 * 
cs
ğ
	`ü—‹P¬am‘”CÚ¡¿št
((
yyv¥
[(3è- (3)].
št_v®ue
), 
DUMMY_ID
, 
nİ
, (yyvsp[(1) - (3)].int_value) );

1977 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

1984 * 
cs
 = 
	`ü—‹P¬am‘”CÚ¡¿št
Ğ(
yyv¥
[(1è- (3)].
št_v®ue
), (yyv¥[(3è- (3)].št_v®ue), (yyv¥[(2è- (3)].
com_İ
), 0 );

1985 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

1992 * 
cs
 = 
	`ü—‹P¬am‘”CÚ¡¿št
Ğ(
yyv¥
[(1è- (5)].
št_v®ue
), (yyv¥[(3è- (5)].št_v®ue), (yyv¥[(4è- (5)].
com_İ
), (yyvsp[(5) - (5)].int_value) );

1993 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2000 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ(
yyv¥
[(1è- (3)].
št_v®ue
), 
DUMMY_ID
, (yyv¥[(2è- (3)].
com_İ
), (yyvsp[(3) - (3)].int_value) );

2001 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2008 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ(
yyv¥
[(2è- (3)].
com_İ
));

2009 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ(
yyv¥
[(3è- (3)].
št_v®ue
), 
DUMMY_ID
, 
nİ
, (yyvsp[(1) - (3)].int_value) );

2010 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2017 * 
cs
 = 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ(
yyv¥
[(1è- (3)].
št_v®ue
), (yyv¥[(3è- (3)].št_v®ue), (yyv¥[(2è- (3)].
com_İ
), 0 );

2018 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2025 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ(
yyv¥
[(2è- (3)].
com_İ
));

2026 * 
cs
 = 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ(
yyv¥
[(3è- (3)].
št_v®ue
), (yyv¥[(1è- (3)].št_v®ue), 
nİ
, 0 );

2027 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2034 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, (
yyv¥
[(1è- (5)].
št_v®ue
), (yyv¥[(3è- (5)].št_v®ue), (yyv¥[(4è- (5)].
com_İ
), (yyvsp[(5) - (5)].int_value) );

2041 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, (
yyv¥
[(1è- (5)].
št_v®ue
), (yyv¥[(3è- (5)].št_v®ue), (yyv¥[(4è- (5)].
com_İ
), 0, (yyvsp[(5) - (5)].int_value) );

2048 * 
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ(
yyv¥
[(1è- (5)].
št_v®ue
), (yyv¥[(3è- (5)].št_v®ue), (yyv¥[(4è- (5)].
com_İ
), (yyvsp[(5) - (5)].int_value) );

2049 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2056 * 
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ(
yyv¥
[(1è- (5)].
št_v®ue
), (yyv¥[(3è- (5)].št_v®ue), (yyv¥[(4è- (5)].
com_İ
), 0, (yyvsp[(5) - (5)].int_value) );

2057 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2064 
id
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, (
yyv¥
[(1è- (1)].
tok’_v®ue
)->
code_Çme
) );

2065 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
id
, 
DUMMY_ID
, 
NE
, 0 );

2066 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2067 
	`d–‘e
 (
yyv¥
[(1è- (1)].
tok’_v®ue
);

2074 
id
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, (
yyv¥
[(2è- (2)].
tok’_v®ue
)->
code_Çme
) );

2075 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
id
, 
DUMMY_ID
, 
EQ
, 0 );

2076 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

2077 
	`d–‘e
 (
yyv¥
[(2è- (2)].
tok’_v®ue
);

2084 
Sim¶eCouÁ”AùiÚ
 *
cs
=
	`ü—‹Sim¶eCouÁ”AùiÚ
Ğ(
yyv¥
[(1è- (3)].
št_v®ue
), (yyvsp[(3) - (3)].int_value));

2088 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_UPDATE
,INT_UPDATE, 
cs
);

2130 
	`d–‘e
 (
yyv¥
[(1è- (6)].
tok’_v®ue
);

2131 
	`d–‘e
 (
yyv¥
[(5è- (6)].
¡r_vec_poš‹r
);

2152 (
yyv®
.
št_v®ue
)=(
yyv¥
[(1) - (1)].int_value);

2159 (
yyv®
.
št_v®ue
)=1;

2166 (
yyv®
.
št_v®ue
)=0;

2173  (
yyv¥
[(1è- (3)].
ty³_v®ue
)){

2174 
INT_T
:{

2175 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2176 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
));

2178 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2181 
CLOCK_T
:{

2182 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2183 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, 
v
);

2185 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2189 
BOOL_T
: {

2190 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2191 
sy¡em_d©a
->
	`£tV®ue
(
BOOL_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
));

2193 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2196 
CHAN_T
: {

2197 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2198 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
ONE2ONE_CH
);

2200 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2204 
URGENT_CHAN_T
:{

2205 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2206 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
URGENT_CH
);

2208 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2211 
BROADCAST_CHAN_T
:{

2212 ‡utØ
v
: *(
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
)){

2213 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
BROADCAST_CH
);

2215 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2219 
	`as£¹
Ğ
çl£
);

2227 
¡ršg
 
Çme
ğ(
yyv¥
[(2è- (6)].
tok’_v®ue
)->
code_Çme
;

2228  (
yyv¥
[(1è- (6)].
ty³_v®ue
)){

2229 
INT_T
:{

2230  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2231 
sy¡em_d©a
->
	`£tV®ue
Ğ
INT_STR
, 
Çme
);

2235 
CLOCK_T
: {

2236  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2237 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CLOCK_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ));

2242 
BOOL_T
:{

2243  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2244 
sy¡em_d©a
->
	`£tV®ue
Ğ
BOOL_STR
, 
Çme
);

2249 
CHAN_T
:{

2250  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2251 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
ONE2ONE_CH
);

2255 
URGENT_CHAN_T
:{

2256  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2257 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
URGENT_CH
);

2261 
BROADCAST_CHAN_T
: {

2262  
i
=0; i< (
yyv¥
[(4è- (6)].
št_v®ue
); i++){

2263 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
BROADCAST_CH
);

2268 
	`as£¹
Ğ
çl£
);

2276  (
yyv¥
[(1è- (5)].
ty³_v®ue
)){

2277 
INT_T
:

2278 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, (
yyv¥
[(2è- (5)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(4è- (5)].
št_v®ue
));

2280 
CLOCK_T
:

2281 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, (
yyv¥
[(2è- (5)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(4è- (5)].
št_v®ue
));

2284 
BOOL_T
:

2285 
sy¡em_d©a
->
	`£tV®ue
(
BOOL_STR
, (
yyv¥
[(2è- (5)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(4è- (5)].
št_v®ue
));

2288 
	`as£¹
Ğ
çl£
);

2297  (
yyv¥
[(2è- (6)].
ty³_v®ue
)){

2298 
INT_T
:

2299 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, (
yyv¥
[(3è- (6)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(5è- (6)].
št_v®ue
));

2301 
CLOCK_T
:

2302 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, (
yyv¥
[(3è- (6)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(5è- (6)].
št_v®ue
));

2305 
BOOL_T
:

2306 
sy¡em_d©a
->
	`addV®ue
(
BOOL_STR
, (
yyv¥
[(3è- (6)].
tok’_v®ue
)->
code_Çme
, (yyv¥[(5è- (6)].
št_v®ue
));

2309 
	`as£¹
Ğ
çl£
);

2319 
veùÜ
<> 
‹mp
;

2320  
i
=(
yyv¥
[(4è- (9)].
št_v®ue
); i<=(yyvsp[(6) - (9)].int_value); i++ ){

2321 
‹mp
.
	`push_back
Ğ
i
);

2323 
sy¡em_d©a
->
	`addIÁA¼ay
((
yyv¥
[(8è- (9)].
tok’_v®ue
)->
code_Çme
,
‹mp
);

2349 
	`d–‘e
 (
yyv¥
[(2è- (3)].
¡r_vec_poš‹r
);

2358 
	`YY_SYMBOL_PRINT
 ("-> $$ =", 
yyr1
[
yyn
], &
yyv®
, &
yyloc
);

2360 
	`YYPOPSTACK
 (
yyËn
);

2361 
yyËn
 = 0;

2362 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

2364 *++
yyv¥
 = 
yyv®
;

2371 
yyn
 = 
yyr1
[yyn];

2373 
yy¡©e
 = 
yypgÙo
[
yyn
 - 
YYNTOKENS
] + *
yys¥
;

2374 ià(0 <ğ
yy¡©e
 && yy¡©<ğ
YYLAST
 && 
yycheck
[yy¡©e] =ğ*
yys¥
)

2375 
yy¡©e
 = 
yybË
[yystate];

2377 
yy¡©e
 = 
yydefgÙo
[
yyn
 - 
YYNTOKENS
];

2379 
yyÃw¡©e
;

2385 
yy”¾ab
:

2387 ià(!
yy”r¡©us
)

2389 ++
yyÃ¼s
;

2390 #ià! 
YYERROR_VERBOSE


2391 
	`yy”rÜ
 (
	`YY_
("syntaxƒrror"));

2394 
YYSIZE_T
 
yysize
 = 
	`yysyÁax_”rÜ
 (0, 
yy¡©e
, 
yych¬
);

2395 ià(
yymsg_®loc
 < 
yysize
 && yymsg_®loø< 
YYSTACK_ALLOC_MAXIMUM
)

2397 
YYSIZE_T
 
yy®loc
 = 2 * 
yysize
;

2398 ià(! (
yysize
 <ğ
yy®loc
 && yy®loø<ğ
YYSTACK_ALLOC_MAXIMUM
))

2399 
yy®loc
 = 
YYSTACK_ALLOC_MAXIMUM
;

2400 ià(
yymsg
 !ğ
yymsgbuf
)

2401 
	`YYSTACK_FREE
 (
yymsg
);

2402 
yymsg
 = (*è
	`YYSTACK_ALLOC
 (
yy®loc
);

2403 ià(
yymsg
)

2404 
yymsg_®loc
 = 
yy®loc
;

2407 
yymsg
 = 
yymsgbuf
;

2408 
yymsg_®loc
 =  
yymsgbuf
;

2412 ià(0 < 
yysize
 && yysiz<ğ
yymsg_®loc
)

2414 (è
	`yysyÁax_”rÜ
 (
yymsg
, 
yy¡©e
, 
yych¬
);

2415 
	`yy”rÜ
 (
yymsg
);

2419 
	`yy”rÜ
 (
	`YY_
("syntaxƒrror"));

2420 ià(
yysize
 != 0)

2421 
yyexhau¡edÏb
;

2429 ià(
yy”r¡©us
 == 3)

2434 ià(
yych¬
 <ğ
YYEOF
)

2437 ià(
yych¬
 =ğ
YYEOF
)

2438 
YYABORT
;

2442 
	`yyde¡ruù
 ("Error: discarding",

2443 
yytok’
, &
yylv®
);

2444 
yych¬
 = 
YYEMPTY
;

2450 
yy”¾ab1
;

2456 
yy”rÜÏb
:

2462 
yy”rÜÏb
;

2466 
	`YYPOPSTACK
 (
yyËn
);

2467 
yyËn
 = 0;

2468 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

2469 
yy¡©e
 = *
yys¥
;

2470 
yy”¾ab1
;

2476 
yy”¾ab1
:

2477 
yy”r¡©us
 = 3;

2481 
yyn
 = 
yy·ù
[
yy¡©e
];

2482 ià(
yyn
 !ğ
YYPACT_NINF
)

2484 
yyn
 +ğ
YYTERROR
;

2485 ià(0 <ğ
yyn
 && yyÀ<ğ
YYLAST
 && 
yycheck
[yyn] =ğ
YYTERROR
)

2487 
yyn
 = 
yybË
[yyn];

2488 ià(0 < 
yyn
)

2494 ià(
yys¥
 =ğ
yyss
)

2495 
YYABORT
;

2498 
	`yyde¡ruù
 ("Error:…opping",

2499 
yy¡os
[
yy¡©e
], 
yyv¥
);

2500 
	`YYPOPSTACK
 (1);

2501 
yy¡©e
 = *
yys¥
;

2502 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

2505 ià(
yyn
 =ğ
YYFINAL
)

2506 
YYACCEPT
;

2508 *++
yyv¥
 = 
yylv®
;

2512 
	`YY_SYMBOL_PRINT
 ("Shiášg", 
yy¡os
[
yyn
], 
yyv¥
, 
yyl¥
);

2514 
yy¡©e
 = 
yyn
;

2515 
yyÃw¡©e
;

2521 
yyacû±Ïb
:

2522 
yy»suÉ
 = 0;

2523 
yy»tuº
;

2528 
yyabÜab
:

2529 
yy»suÉ
 = 1;

2530 
yy»tuº
;

2532 #iâdeà
yyov”æow


2536 
yyexhau¡edÏb
:

2537 
	`yy”rÜ
 (
	`YY_
("memoryƒxhausted"));

2538 
yy»suÉ
 = 2;

2542 
yy»tuº
:

2543 ià(
yych¬
 !ğ
YYEOF
 && yych¬ !ğ
YYEMPTY
)

2544 
	`yyde¡ruù
 ("Cleanup: discarding†ookahead",

2545 
yytok’
, &
yylv®
);

2548 
	`YYPOPSTACK
 (
yyËn
);

2549 
	`YY_STACK_PRINT
 (
yyss
, 
yys¥
);

2550 
yys¥
 !ğ
yyss
)

2552 
	`yyde¡ruù
 ("Cleanup:…opping",

2553 
yy¡os
[*
yys¥
], 
yyv¥
);

2554 
	`YYPOPSTACK
 (1);

2556 #iâdeà
yyov”æow


2557 ià(
yyss
 !ğ
yys§
)

2558 
	`YYSTACK_FREE
 (
yyss
);

2560 #ià
YYERROR_VERBOSE


2561 ià(
yymsg
 !ğ
yymsgbuf
)

2562 
	`YYSTACK_FREE
 (
yymsg
);

2565  
	`YYID
 (
yy»suÉ
);

2566 
	}
}

2572 
	~"io/uµ¯lsÿn.h
"

2576 
	$yy”rÜ
(cÚ¡ *
s
)

2578 
	`fæush
(
¡dout
);

2579 
	`as£¹
Ğ
çl£
);

2580 
	`´štf
("\n jjjƒrror\n");

2581 
	}
}

2582 
	$yy”rÜ
(cÚ¡ 
¡ršg
 &
s
){

2584 
	`fæush
(
¡dout
);

2585 
	`as£¹
Ğ
çl£
);

2586 
	`´štf
("\n kkkƒrror\n");

2588 
	}
}

2594 
Çme¥aû
 
	gg¿ph§t
{

2595 
·r£ProbËm
ĞcÚ¡ 
¡ršg
 &
¡r
, 
Uµ¯lP¬£r
* 
·r£r
, 
Uµ¯lTem¶©eD©a
 *
pd
, Uµ¯lTem¶©eD©a* 
d
){

2597 
	gmod–_·r£r
=
·r£r
;

2598 
	gsy¡em_d©a
=
pd
;

2599 
	gcu¼’t_d©a
=
d
;

2600 
	gyyš
=
tmpfe
();

2601 
åuts
Ğ
¡r
.
c_¡r
(), 
yyš
);

2602 
»wšd
(
yyš
);

2603 
yy·r£
();

2604 
fşo£
(
yyš
);

	@src/uppaalparser.y

2 
	~<io¡»am
>

3 
	~<¡ršg
>

4 
	~<¡dio.h
>

5 
	~<m­
>

6 
	~<veùÜ
>

7 
	~<ut™y
>

8 
	~"chªÃl.h
"

9 
	~"ut/dbmut.hµ
"

10 
	~"io/uµ¯ld©a.h
"

11 
	~"io/uµ¯lmod–·r£r.h
"

12 
	~"mod–/.hµ
"

14 
usšg
 
	g¡d
::
¡ršg
;

15 
usšg
 
	g¡d
::
m­
;

16 
usšg
 
	g¡d
::
veùÜ
;

17 
usšg
 
	g¡d
::
make_·œ
;

19 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

21 
	gyydebug
=1;

22 
usšg
 
	g¡d
::
û¼
;

23 
usšg
 
	g¡d
::
’dl
;

24 
usšg
 
	g¡d
::
cout
;

26 
	gveùÜ
<
	g¡ršg
> 
	gsymbŞ_bË
;

28 
lšeNum
;

31 
Uµ¯lTem¶©eD©a
* 
	gsy¡em_d©a
;

32 
Uµ¯lTem¶©eD©a
* 
	gcu¼’t_d©a
;

33 
Uµ¯lP¬£r
* 
	gmod–_·r£r
;

35 
yy”rÜ
(const *);

36 
yy”rÜ
(cÚ¡ 
¡ršg
&);

37 
yyËx
();

38 
yy·r£
();

39 
FILE
* 
yyš
;

41 
	sTok’
{

42 
	mid
;

43 
¡ršg
 
	mxml_Çme
;

44 
¡ršg
 
	mcode_Çme
;

50 
št_v®ue
;

51 
Tok’
* 
tok’_v®ue
;

52 
TYPE_T
 
ty³_v®ue
;

53 
veùÜ
<
¡ršg
> * 
¡r_vec_poš‹r
;

54 
COMP_OPERATOR
 
com_İ
;

58 %
tok’
 <
št_v®ue
> 
CONSTANT


60 %
tok’
<
tok’_v®ue
> 
IDENTIFIER


63 %
tok’
<
tok’_v®ue
> 
TEMPLATE_YY


65 %
tok’
<
tok’_v®ue
> 
PARAMETER_YY


67 %
tok’
<
tok’_v®ue
> 
REF_PARAMETER_YY


69 %
tok’
<
tok’_v®ue
> 
CLOCK_YY


71 %
tok’
<
tok’_v®ue
> 
INT_YY


73 %
tok’
<
tok’_v®ue
> 
BOOL_YY


75 %
tok’
<
tok’_v®ue
> 
CHAN_YY


80 %
tok’
 
STRING_LITERAL
 
URGENT
 
BROADCAST
 
META


81 %
tok’
 
PTR_OP
 
INC_OP
 
DEC_OP
 
LEFT_OP
 
RIGHT_OP
 
LE_OP
 
GE_OP
 
EQ_OP
 
NE_OP


82 %
tok’
 
AND_OP
 
OR_OP
 
MUL_ASSIGN
 
DIV_ASSIGN
 
MOD_ASSIGN
 
ADD_ASSIGN


83 %
tok’
 
SUB_ASSIGN
 
LEFT_ASSIGN
 
RIGHT_ASSIGN
 
AND_ASSIGN


84 %
tok’
 
XOR_ASSIGN
 
OR_ASSIGN
 
TYPE_NAME


86 %
tok’
 
TYPEDEF


87 %
tok’
 
INT
 
CONST
 
VOID
 
CLOCK
 
CHAN
 
BOOL


88 %
tok’
 
TRUE_YY
 
FALSE_YY


90 %
tok’
 
STRUCT
 
ELLIPSIS


92 %
tok’
 
COMMENT
 
CASE
 
DEFAULT
 
IF
 
ELSE
 
SWITCH
 
WHILE
 
DO
 
FOR
 
CONTINUE
 
BREAK
 
RETURN
 
SYSTEM


95 %
ty³
<
št_v®ue
> 
cÚ¡_ex´essiÚ


96 %
ty³
<
ty³_v®ue
> 
ty³_¥ecif›r


97 %
ty³
<
tok’_v®ue
> 
id’tif›r


98 %
ty³
<
tok’_v®ue
> 
şock_yy


99 %
ty³
<
tok’_v®ue
> 
št_yy


100 %
ty³
<
tok’_v®ue
> 
boŞ_yy


101 %
ty³
<
tok’_v®ue
> 
chª_yy


102 %
ty³
<
št_v®ue
> 
şock_id’tif›r


103 %
ty³
<
št_v®ue
> 
couÁ”_id’tif›r


104 %
ty³
<
št_v®ue
> 
·¿m‘”_id’tif›r


105 %
ty³
<
št_v®ue
> 
chª_id’tif›r


106 %
ty³
<
¡r_vec_poš‹r
> 
id’tif›r_li¡


107 %
ty³
<
¡r_vec_poš‹r
> 
¬gum’t_li¡


108 %
ty³
<
¡r_vec_poš‹r
> 
timed_autom©a_li¡


109 %
ty³
<
com_İ
> 
com·»_»ÏtiÚ


112 %
nÚassoc
 
IFX


113 %
nÚassoc
 
ELSE


115 %
¡¬t
 
Œª¦©iÚ_un™


118 %% /* 
	$yy·r£
 */ 
	`yyËx
()

120 
ty³_¥ecif›r


121 : 
INT


123 
$$
=
INT_T
;

125 | 
CLOCK


127 
$$
=
CLOCK_T
;

129 | 
BOOL


131 
$$
=
BOOL_T
;

133 | 
CHAN


135 
$$
=
CHAN_T
;

137 | 
URGENT
 
CHAN


139 
$$
=
URGENT_CHAN_T
;

141 | 
BROADCAST
 
CHAN


143 
$$
=
BROADCAST_CHAN_T
;

148 
id’tif›r
:

149 
IDENTIFIER


151 
$$
=
$1
;

154 
id’tif›r
 '[' 
cÚ¡_ex´essiÚ
 ']'

156 
$$
=
$1
;

157 
$$
->
code_Çme
ğ
	`¬¿yToV¬
($$->code_Çme, 
$3
);

161 
şock_yy
:

162 
CLOCK_YY


164 
$$
=
$1
;

167 
şock_yy
 '[' 
cÚ¡_ex´essiÚ
 ']'

169 
$$
=
$1
;

170 
$$
->
code_Çme
=
	`¬¿yToV¬
($$->code_Çme, 
$3
);

174 
št_yy
:

175 
INT_YY


177 
$$
=
$1
;

180 
št_yy
 '[' 
cÚ¡_ex´essiÚ
 ']'

182 
$$
=
$1
;

183 
$$
->
code_Çme
=
	`¬¿yToV¬
($$->code_Çme, 
$3
);

187 
boŞ_yy
:

188 
BOOL_YY


190 
$$
=
$1
;

193 
boŞ_yy
 '[' 
cÚ¡_ex´essiÚ
 ']'

195 
$$
=
$1
;

196 
$$
->
code_Çme
=
	`¬¿yToV¬
($$->code_Çme, 
$3
);

199 
chª_yy
:

200 
CHAN_YY


202 
$$
=
$1
;

205 
chª_yy
 '[' 
cÚ¡_ex´essiÚ
 ']'

207 
$$
=
$1
;

208 
$$
->
code_Çme
=
	`¬¿yToV¬
($$->code_Çme, 
$3
);

212 
id’tif›r_li¡
:

213 
IDENTIFIER


215 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

216 
$$
->
	`push_back
Ğ
$1
->
code_Çme
);

217 
d–‘e
 
$1
;

219 | 
id’tif›r_li¡
 ',' 
IDENTIFIER


221 
$$
=
$1
;

222 
$$
->
	`push_back
(
$3
->
code_Çme
);

223 
d–‘e
 
$3
;

228 
¬gum’t_li¡


229 : 
id’tif›r


231 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

232 
$$
->
	`push_back
Ğ
$1
->
code_Çme
);

233 
d–‘e
 
$1
;

235 | 
id’tif›r_li¡
 ',' 
id’tif›r


237 
$$
=
$1
;

238 
$$
->
	`push_back
(
$3
->
code_Çme
);

239 
d–‘e
 
$3
;

244 
timed_autom©a_li¡


245 :
IDENTIFIER


247 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

248 
$$
->
	`push_back
(
$1
->
code_Çme
);

249 
d–‘e
 
$1
;

252 
TEMPLATE_YY


254 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

255 
$$
->
	`push_back
(
$1
->
code_Çme
);

256 
d–‘e
 
$1
;

258 | 
timed_autom©a_li¡
 ',' 
IDENTIFIER


260 
$$
=
$1
;

261 
$$
->
	`push_back
(
$3
->
code_Çme
);

262 
d–‘e
 
$3
;

264 | 
timed_autom©a_li¡
 ',' 
TEMPLATE_YY


266 
$$
=
$1
;

267 
$$
->
	`push_back
(
$3
->
code_Çme
);

268 
d–‘e
 
$3
;

273 
com·»_»ÏtiÚ
:

275 
EQ_OP
{

276 
$$
=
EQ
;

279 
LE_OP
{

280 
$$
=
LE
;

283 
GE_OP
{

284 
$$
=
GE
;

288 
$$
=
LT
;

292 
$$
=
GT
;

295 
NE_OP
{

296 
$$
=
NE
;

299 
Œª¦©iÚ_un™


300 : 
ex‹º®_deş¬©iÚ


301 | 
Œª¦©iÚ_un™
 
ex‹º®_deş¬©iÚ


302 | 
comm’t_li¡


305 
ex‹º®_deş¬©iÚ


306 : 
v¬ŸbË_deş¬©iÚ


307 | 
cÚ¡¿št_¡©em’t


308 | 
assign_¡©em’t


309 | 
communiÿ‹_¡©em’t


310 | 
sy¡em_deş¬©iÚ


312 
cÚ¡¿št_¡©em’t
:

313 
©omic_cÚ¡¿št


315 
cÚ¡¿št_¡©em’t
 
AND_OP
 
©omic_cÚ¡¿št


318 
comm’t_li¡
:

319 
COMMENT


321 
comm’t_li¡
 
COMMENT


324 
şock_id’tif›r
:

325 
şock_yy
{

326 
$$
=
cu¼’t_d©a
->
	`g‘ClockId
(
$1
->
code_Çme
);

327 
d–‘e
 
$1
;

330 
couÁ”_id’tif›r
:

331 
št_yy
 {

332 
$$
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
$1
->
code_Çme
) );

333 
d–‘e
 
$1
;

336 
boŞ_yy
{

337 
$$
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, 
$1
->
code_Çme
) );

338 
d–‘e
 
$1
;

341 
REF_PARAMETER_YY
{

342 
$$
=
mod–_·r£r
->
	`g‘P¬am‘”Id
(
cu¼’t_d©a
, 
$1
->
code_Çme
);

343 
d–‘e
 
$1
;

347 
·¿m‘”_id’tif›r
:

348 
PARAMETER_YY
{

349 
$$
=
mod–_·r£r
->
	`g‘P¬am‘”Id
(
cu¼’t_d©a
, 
$1
->
code_Çme
);

350 
d–‘e
 
$1
;

354 
chª_id’tif›r
:

355 
chª_yy
{

356 
$$
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
CHAN_STR
, 
$1
->
code_Çme
) );

357 
d–‘e
 
$1
;

361 
©omic_cÚ¡¿št
:

362 
şock_id’tif›r
 
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


364 
mod–_·r£r
->
	`addClockCÚ¡¿št
(
cu¼’t_d©a
, 
$1
, 
GLOBAL_CLOCK_ID
, 
$2
, 
$3
);

367 
cÚ¡_ex´essiÚ
 
com·»_»ÏtiÚ
 
şock_id’tif›r


369 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ
$2
);

370 
mod–_·r£r
->
	`addClockCÚ¡¿št
(
cu¼’t_d©a
, 
$3
 , 
GLOBAL_CLOCK_ID
, 
nİ
, 
$1
);

373 
şock_id’tif›r
 
com·»_»ÏtiÚ
 
·¿m‘”_id’tif›r


375 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, 
$1
, 
GLOBAL_CLOCK_ID
, 
$2
, 0, 
$3
 );

378 
·¿m‘”_id’tif›r
 
com·»_»ÏtiÚ
 
şock_id’tif›r


380 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ
$2
);

381 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, 
$3
, 
GLOBAL_CLOCK_ID
, 
nİ
, 0, 
$1
 );

384 
·¿m‘”_id’tif›r
 
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


386 * 
cs
=
	`ü—‹P¬am‘”CÚ¡¿št
Ğ
$1
, 
DUMMY_ID
, 
$2
, 
$3
 );

387 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

390 
cÚ¡_ex´essiÚ
 
com·»_»ÏtiÚ
 
·¿m‘”_id’tif›r


392 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ
$2
);

393 * 
cs
ğ
	`ü—‹P¬am‘”CÚ¡¿št
(
$3
, 
DUMMY_ID
, 
nİ
, 
$1
 );

394 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

397 
·¿m‘”_id’tif›r
 
com·»_»ÏtiÚ
…arameter_identifier

399 * 
cs
 = 
	`ü—‹P¬am‘”CÚ¡¿št
Ğ
$1
, 
$3
, 
$2
, 0 );

400 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

403 
·¿m‘”_id’tif›r
 '-'…¬am‘”_id’tif›¸
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


405 * 
cs
 = 
	`ü—‹P¬am‘”CÚ¡¿št
Ğ
$1
, 
$3
, 
$4
, 
$5
 );

406 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

409 
couÁ”_id’tif›r
 
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


411 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
$1
, 
DUMMY_ID
, 
$2
, 
$3
 );

412 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

415 
cÚ¡_ex´essiÚ
 
com·»_»ÏtiÚ
 
couÁ”_id’tif›r


417 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ
$2
);

418 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
$3
, 
DUMMY_ID
, 
nİ
, 
$1
 );

419 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

422 
couÁ”_id’tif›r
 
com·»_»ÏtiÚ
 
·¿m‘”_id’tif›r


424 * 
cs
 = 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ
$1
, 
$3
, 
$2
, 0 );

425 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

428 
·¿m‘”_id’tif›r
 
com·»_»ÏtiÚ
 
couÁ”_id’tif›r
{

429 
COMP_OPERATOR
 
nİ
=
	`Ãg©iÚ
Ğ
$2
);

430 * 
cs
 = 
	`ü—‹CouÁ”P¬am‘”CÚ¡¿št
Ğ
$3
, 
$1
, 
nİ
, 0 );

431 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

434 
şock_id’tif›r
 '-' clock_id’tif›¸
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


436 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, 
$1
, 
$3
, 
$4
, 
$5
 );

439 
şock_id’tif›r
 '-' clock_id’tif›¸
com·»_»ÏtiÚ
 
·¿m‘”_id’tif›r


441 
mod–_·r£r
->
	`addClockCÚ¡¿št
Ğ
cu¼’t_d©a
, 
$1
, 
$3
, 
$4
, 0, 
$5
 );

444 
couÁ”_id’tif›r
 '-' couÁ”_id’tif›¸
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


446 * 
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
$1
, 
$3
, 
$4
, 
$5
 );

447 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

450 
couÁ”_id’tif›r
 '-' couÁ”_id’tif›¸
com·»_»ÏtiÚ
 
·¿m‘”_id’tif›r


452 * 
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
$1
, 
$3
, 
$4
, 0, 
$5
 );

453 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

456 
boŞ_yy
{

457 
id
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, 
$1
->
code_Çme
) );

458 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
id
, 
DUMMY_ID
, 
NE
, 0 );

459 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

460 
d–‘e
 
$1
;

464 
boŞ_yy
{

465 
id
=
mod–_·r£r
->
	`g‘LoÿlId
Ğ
cu¼’t_d©a
, 
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, 
$2
->
code_Çme
) );

466 *
cs
 = 
	`ü—‹CouÁ”CÚ¡¿št
Ğ
id
, 
DUMMY_ID
, 
EQ
, 0 );

467 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
, INT_CS, 
cs
 );

468 
d–‘e
 
$2
;

472 
assign_¡©em’t
:

473 
sšgË_assign_¡©em’t


474 | 
assign_¡©em’t
 ',' 
sšgË_assign_¡©em’t


476 
sšgË_assign_¡©em’t
:

477 
couÁ”_id’tif›r
 '=' 
cÚ¡_ex´essiÚ


479 
Sim¶eCouÁ”AùiÚ
 *
cs
=
	`ü—‹Sim¶eCouÁ”AùiÚ
Ğ
$1
, 
$3
);

483 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_UPDATE
,INT_UPDATE, 
cs
);

486 
couÁ”_id’tif›r
 '=' counter_identifier

491 
couÁ”_id’tif›r
 '=' 
·¿m‘”_id’tif›r


496 
IDENTIFIER
 '=' 
TEMPLATE_YY
 '(' 
¬gum’t_li¡
 ')'

519 
d–‘e
 
$1
;

520 
d–‘e
 
$5
;

523 
communiÿ‹_¡©em’t
:

525 
chª_id’tif›r
 '!'

530 
chª_id’tif›r
 '?'

536 
cÚ¡_ex´essiÚ
:

537 
CONSTANT


539 
$$
=
$1
;

542 
TRUE_YY
{

543 
$$
=1;

546 
FALSE_YY
{

547 
$$
=0;

551 
v¬ŸbË_deş¬©iÚ


552 : 
ty³_¥ecif›r
 
id’tif›r_li¡
 ';'

554  
$1
){

555 
INT_T
:{

556 ‡utØ
v
: *
$2
){

557 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
));

559 
d–‘e
 
$2
;

562 
CLOCK_T
:{

563 ‡utØ
v
: *
$2
){

564 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, 
v
);

566 
d–‘e
 
$2
;

570 
BOOL_T
: {

571 ‡utØ
v
: *
$2
){

572 
sy¡em_d©a
->
	`£tV®ue
(
BOOL_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
));

574 
d–‘e
 
$2
;

577 
CHAN_T
: {

578 ‡utØ
v
: *
$2
){

579 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
ONE2ONE_CH
);

581 
d–‘e
 
$2
;

585 
URGENT_CHAN_T
:{

586 ‡utØ
v
: *
$2
){

587 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
URGENT_CH
);

589 
d–‘e
 
$2
;

592 
BROADCAST_CHAN_T
:{

593 ‡utØ
v
: *
$2
){

594 
sy¡em_d©a
->
	`£tV®ue
(
CHAN_STR
, 
cu¼’t_d©a
->
	`g‘V¬FuÎName
(
v
), 
BROADCAST_CH
);

596 
d–‘e
 
$2
;

600 
	`as£¹
Ğ
çl£
);

604 | 
ty³_¥ecif›r
 
IDENTIFIER
 '[' 
cÚ¡_ex´essiÚ
 ']' ';'

606 
¡ršg
 
Çme
ğ
$2
->
code_Çme
;

607  
$1
){

608 
INT_T
:{

609  
i
=0; i< 
$4
; i++){

610 
sy¡em_d©a
->
	`£tV®ue
Ğ
INT_STR
, 
Çme
);

614 
CLOCK_T
: {

615  
i
=0; i< 
$4
; i++){

616 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CLOCK_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ));

621 
BOOL_T
:{

622  
i
=0; i< 
$4
; i++){

623 
sy¡em_d©a
->
	`£tV®ue
Ğ
BOOL_STR
, 
Çme
);

628 
CHAN_T
:{

629  
i
=0; i< 
$4
; i++){

630 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
ONE2ONE_CH
);

634 
URGENT_CHAN_T
:{

635  
i
=0; i< 
$4
; i++){

636 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
URGENT_CH
);

640 
BROADCAST_CHAN_T
: {

641  
i
=0; i< 
$4
; i++){

642 
sy¡em_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, 
	`¬¿yToV¬
(
Çme
, 
i
 ), 
BROADCAST_CH
);

647 
	`as£¹
Ğ
çl£
);

651 | 
ty³_¥ecif›r
 
IDENTIFIER
 '=' 
cÚ¡_ex´essiÚ
 ';'

653  
$1
){

654 
INT_T
:

655 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, 
$2
->
code_Çme
, 
$4
);

657 
CLOCK_T
:

658 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, 
$2
->
code_Çme
, 
$4
);

661 
BOOL_T
:

662 
sy¡em_d©a
->
	`£tV®ue
(
BOOL_STR
, 
$2
->
code_Çme
, 
$4
);

665 
	`as£¹
Ğ
çl£
);

669 | 
CONST
 
ty³_¥ecif›r
 
IDENTIFIER
 '=' 
cÚ¡_ex´essiÚ
 ';'

672  
$2
){

673 
INT_T
:

674 
sy¡em_d©a
->
	`£tV®ue
(
INT_STR
, 
$3
->
code_Çme
, 
$5
);

676 
CLOCK_T
:

677 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, 
$3
->
code_Çme
, 
$5
);

680 
BOOL_T
:

681 
sy¡em_d©a
->
	`addV®ue
(
BOOL_STR
, 
$3
->
code_Çme
, 
$5
);

684 
	`as£¹
Ğ
çl£
);

690 | 
TYPEDEF
 
INT
 '[' 
cÚ¡_ex´essiÚ
 ',' cÚ¡_ex´essiÚ ']' 
IDENTIFIER
 ';'

693 
veùÜ
<> 
‹mp
;

694  
i
=
$4
; i<=
$6
; i++ ){

695 
‹mp
.
	`push_back
Ğ
i
);

697 
sy¡em_d©a
->
	`addIÁA¼ay
(
$8
->
code_Çme
,
‹mp
);

701 
sy¡em_deş¬©iÚ


702 : 
SYSTEM
 
timed_autom©a_li¡
 ';'

723 
d–‘e
 
$2
;

726 
	}
%%

728 
	~"io/uµ¯lsÿn.h
"

732 
	$yy”rÜ
(cÚ¡ *
s
)

734 
	`fæush
(
¡dout
);

735 
	`as£¹
Ğ
çl£
);

736 
	`´štf
("\n jjjƒrror\n");

737 
	}
}

738 
	$yy”rÜ
(cÚ¡ 
¡ršg
 &
s
){

740 
	`fæush
(
¡dout
);

741 
	`as£¹
Ğ
çl£
);

742 
	`´štf
("\n kkkƒrror\n");

744 
	}
}

750 
Çme¥aû
 
	gg¿ph§t
{

751 
·r£ProbËm
ĞcÚ¡ 
¡ršg
 &
¡r
, 
Uµ¯lP¬£r
* 
·r£r
, 
Uµ¯lTem¶©eD©a
 *
pd
, Uµ¯lTem¶©eD©a* 
d
){

753 
	gmod–_·r£r
=
·r£r
;

754 
	gsy¡em_d©a
=
pd
;

755 
	gcu¼’t_d©a
=
d
;

756 
	gyyš
=
tmpfe
();

757 
åuts
Ğ
¡r
.
c_¡r
(), 
yyš
);

758 
»wšd
(
yyš
);

759 
yy·r£
();

760 
fşo£
(
yyš
);

	@src/uppaalscan.l

1 
D
 [0-9]

2 
L
 [
a
-
zA
-
Z_
]

3 
H
 [
a
-
fA
-
F0
-9]

4 
E
 [-]?{
D
}+

8 
	~<¡dio.h
>

10 
couÁ
();

11 
comm’t
();

12 
comm’tLše
();

13 
check_ty³
();

17 %% /* 
	$yyËx
 */

18 "/*" { 
	`comm’t
();  (
COMMENT
); }

19 "//" { 
	`comm’tLše
();  (
COMMENT
); }

23 "b»ak" { 
	`couÁ
(); (
BREAK
); }

24 "ÿ£" { 
	`couÁ
(); (
CASE
); }

25 "cÚ¡" { 
	`couÁ
(); (
CONST
); }

26 "urg’t" { 
	`couÁ
(); (
URGENT
); }

27 "brßdÿ¡" { 
	`couÁ
(); (
BROADCAST
); }

28 "m‘a" { 
	`couÁ
();  (
META
);}

29 "cÚtšue" { 
	`couÁ
(); (
CONTINUE
); }

30 "deçuÉ" { 
	`couÁ
(); (
DEFAULT
); }

31 "do" { 
	`couÁ
(); (
DO
); }

32 "–£" { 
	`couÁ
(); (
ELSE
); }

33 "fÜ" { 
	`couÁ
(); (
FOR
); }

34 "if" { 
	`couÁ
(); (
IF
); }

35 "št" { 
	`couÁ
(); (
INT
); }

36 "şock" { 
	`couÁ
(); (
CLOCK
); }

37 "chª" { 
	`couÁ
(); (
CHAN
); }

38 "boŞ" { 
	`couÁ
(); (
BOOL
);}

39 "»tuº" { 
	`couÁ
(); (
RETURN
); }

40 "¡ruù" { 
	`couÁ
(); (
STRUCT
); }

41 "sw™ch" { 
	`couÁ
(); (
SWITCH
); }

42 "ty³def" { 
	`couÁ
(); (
TYPEDEF
); }

43 "void" { 
	`couÁ
(); (
VOID
); }

44 "whe" { 
	`couÁ
(); (
WHILE
); }

45 "sy¡em" { 
	`couÁ
(); (
SYSTEM
); }

46 "Œue" { 
	`couÁ
(); (
TRUE_YY
); }

47 "çl£" { 
	`couÁ
(); (
FALSE_YY
); }

49 {
L
}({L}|{
D
})* { 
	`couÁ
(); (
	`check_ty³
()); }

53 {
E
} { 
	`couÁ
();

54 
yylv®
.
št_v®ue
=
	`©oi
(
yy‹xt
);

55 (
CONSTANT
);

61 "..." { 
	`couÁ
(); (
ELLIPSIS
); }

62 ">>=" { 
	`couÁ
(); (
RIGHT_ASSIGN
); }

63 "<<=" { 
	`couÁ
(); (
LEFT_ASSIGN
); }

64 "+=" { 
	`couÁ
(); (
ADD_ASSIGN
); }

65 "-=" { 
	`couÁ
(); (
SUB_ASSIGN
); }

66 "*=" { 
	`couÁ
(); (
MUL_ASSIGN
); }

67 "/=" { 
	`couÁ
(); (
DIV_ASSIGN
); }

68 "%=" { 
	`couÁ
(); (
MOD_ASSIGN
); }

69 "&=" { 
	`couÁ
(); (
AND_ASSIGN
); }

70 "^=" { 
	`couÁ
(); (
XOR_ASSIGN
); }

71 "|=" { 
	`couÁ
(); (
OR_ASSIGN
); }

72 ">>" { 
	`couÁ
(); (
RIGHT_OP
); }

73 "<<" { 
	`couÁ
(); (
LEFT_OP
); }

74 "++" { 
	`couÁ
(); (
INC_OP
); }

75 "--" { 
	`couÁ
(); (
DEC_OP
); }

76 "->" { 
	`couÁ
(); (
PTR_OP
); }

77 "&&" { 
	`couÁ
(); (
AND_OP
); }

78 "||" { 
	`couÁ
(); (
OR_OP
); }

79 "<=" { 
	`couÁ
(); (
LE_OP
); }

80 ">=" { 
	`couÁ
(); (
GE_OP
); }

81 "==" { 
	`couÁ
(); (
EQ_OP
); }

82 "!=" { 
	`couÁ
(); (
NE_OP
); }

83 ";" { 
	`couÁ
(); (';'); }

84 ("{"|"<%"è{ 
	`couÁ
(); ('{'); }

85 ("}"|"%>"è{ 
	`couÁ
(); ('}'); }

86 "," { 
	`couÁ
(); (','); }

87 ":" { 
	`couÁ
(); (':'); }

88 "=" { 
	`couÁ
(); ('='); }

89 "(" { 
	`couÁ
(); ('('); }

90 ")" { 
	`couÁ
(); (')'); }

91 ("["|"<:"è{ 
	`couÁ
(); ('['); }

92 ("]"|":>"è{ 
	`couÁ
(); (']'); }

93 "." { 
	`couÁ
(); ('.'); }

94 "&" { 
	`couÁ
(); ('&'); }

95 "!" { 
	`couÁ
(); ('!'); }

96 "~" { 
	`couÁ
(); ('~'); }

97 "-" { 
	`couÁ
(); ('-'); }

98 "+" { 
	`couÁ
(); ('+'); }

99 "*" { 
	`couÁ
(); ('*'); }

100 "/" { 
	`couÁ
(); ('/'); }

101 "%" { 
	`couÁ
(); ('%'); }

102 "<" { 
	`couÁ
(); ('<'); }

103 ">" { 
	`couÁ
(); ('>'); }

104 "^" { 
	`couÁ
(); ('^'); }

105 "|" { 
	`couÁ
(); ('|'); }

106 "?" { 
	`couÁ
(); ('?'); }

108 [ \
t
\
v
\
n
\
f
] { 
	`couÁ
(); }

111 
	}
%%

116 
	$yyw¿p
()

119 
	}
}

122 
	$comm’t
()

124 
c
, 
c1
;

126 
loİ
:

127 (
c
 = 
	`yyšput
()) != '*' && c != 0)

128 
	`putch¬
(
c
);

130 ià((
c1
 = 
	`yyšput
()è!ğ'/' && 
c
 != 0)

132 
	`uÅut
(
c1
);

133 
loİ
;

136 ià(
c
 != 0)

137 
	`putch¬
(
c1
);

138 
	}
}

140 
	$comm’tLše
()

142 
c
;

143 (
c
 = 
	`yyšput
()) != '\n' && c != 0);

144 
	}
}

147 
	gcŞumn
 = 0;

149 
	$couÁ
()

151 
i
;

153 
i
 = 0; 
yy‹xt
[i] != '\0'; i++)

154 ià(
yy‹xt
[
i
] == '\n')

155 
cŞumn
 = 0;

156 ià(
yy‹xt
[
i
] == '\t')

157 
cŞumn
 += 8 - (column % 8);

159 
cŞumn
++;

162 
	}
}

164 
	$fšdSym
(cÚ¡ 
¡ršg
& 
Çme
 ){

165 
veùÜ
<
¡ršg
>::
™”©Ü
 
™
=
	`fšd
(
symbŞ_bË
.
	`begš
Ğ), symbŞ_bË.
	`’d
Ğ), 
Çme
 );

166 ifĞ
™
==
symbŞ_bË
.
	`’d
( )){

169  
™
-
symbŞ_bË
.
	`begš
( );

171 
	}
}

179 
	$check_ty³
()

193 
¡ršg
 
sym
=
	`¡ršg
Ğ
yy‹xt
);

195 if(
cu¼’t_d©a
->
	`hasV®ue
(
INT_STR
, 
sym
) ){

196 
yylv®
.
št_v®ue
=
cu¼’t_d©a
->
	`g‘V®ue
(
INT_STR
, 
sym
);

197  
CONSTANT
;

198 }iàĞ
sy¡em_d©a
->
	`hasV®ue
(
INT_STR
, 
sym
) ){

199 
yylv®
.
št_v®ue
=
sy¡em_d©a
->
	`g‘V®ue
(
INT_STR
, 
sym
);

200  
CONSTANT
;

203 
Tok’
 *
tok’
=
Ãw
 
	`Tok’
();

204 
tok’
->
id
=
	`fšdSym
Ğ
sym
);

205 
tok’
->
xml_Çme
=
sym
;

206 
tok’
->
code_Çme
=
sym
;

208 
yylv®
.
tok’_v®ue
ğ
tok’
;

210 if(
	`fšd
(
symbŞ_bË
.
	`begš
Ğ), symbŞ_bË.
	`’d
Ğ), 
sym
 ) ==symbol_table.end( ) ){

211 
symbŞ_bË
.
	`push_back
(
sym
);

213 if(
cu¼’t_d©a
->
	`hasPoš‹r
(
PARAMETER_STR
,
sym
)){

214 
·¿m‘”_id
=
mod–_·r£r
->
	`g‘P¬am‘”Id
(
cu¼’t_d©a
, 
sym
);

215 
P¬aEËm’t
* 
p
 = (P¬aEËm’ˆ*è
cu¼’t_d©a
->
	`g‘Poš‹r
Ğ
PARAMETER_STR
, 
sym
 );

216 if(
p
->
is_»f
){

217  
REF_PARAMETER_YY
;

219  
PARAMETER_YY
;

222 if(
sy¡em_d©a
->
	`hasV®ue
(
TEMPLATE_STR
, 
sym
 ) ){

223  
TEMPLATE_YY
;

231 iàĞ
cu¼’t_d©a
->
	`hasV®ue
Ğ
CLOCK_STR
, 
sym
 ) ) {

232  
CLOCK_YY
;

235 
¡ršg
 
code_Çme
 = 
cu¼’t_d©a
->
	`g‘V¬FuÎName
Ğ
sym
 );

236 
tok’
->
code_Çme
=code_name;

238 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
INT_STR
, 
code_Çme
 ) ) {

239  
INT_YY
;

242 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
BOOL_STR
, 
code_Çme
 ) ) {

243  
BOOL_YY
;

246 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
CHAN_STR
, 
code_Çme
 ) ) {

247  
CHAN_YY
;

250 
tok’
->
code_Çme
=
sym
;

251 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
INT_STR
, 
sym
 ) ) {

252  
INT_YY
;

255 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
BOOL_STR
, 
sym
 ) ) {

256  
BOOL_YY
;

259 iàĞ
sy¡em_d©a
->
	`hasV®ue
Ğ
CHAN_STR
, 
sym
 ) ) {

260  
CHAN_YY
;

263 (
IDENTIFIER
);

266 
	}
}

	@src/xmlconf.cpp

12 
	~<f¡»am
>

13 
	~<io¡»am
>

15 
	~"io/¿pidxml.hµ
"

17 
	~"io/xmlcÚf.h
"

19 
Çme¥aû
 
	gg¿ph§t
 {

20 
usšg
 
Çme¥aû
 
	g¿pidxml
;

21 
usšg
 
Çme¥aû
 
	g¡d
;

23 
·r£
Ğ
xml_node
<> *
roÙ
, 
XmlCÚfig
 *
cfg
 ) {

24 iàĞ
	groÙ
 =ğ
NULL
 )  1;

26  
	g¿pidxml
::
xml_node
<> *
node
 = 
roÙ
->
fœ¡_node
(); 
	gnode
 !ğ
NULL
;

27 
	gnode
 = 
node
->
Ãxt_siblšg
() ) {

28 
¡ršg
 
Çme
 = 
Œim
Ğ¡ršgĞ
node
->name() ) );

29 iàĞ
	gÇme
.
size
() > 0 ) {

30 
XmlCÚfig
 *
	gsub™em
 = 
Ãw
 XmlConfig();

31 
·r£
Ğ
node
, 
sub™em
 );

32 
	gcfg
->
addChd
Ğ
Çme
, 
sub™em
 );

35 
¡ršg
 
	g¡r
 = 
Œim
Ğ¡ršgĞ
roÙ
->
Çme
() ) );

36 
	gcfg
->
£tTag
Ğ
¡r
 );

37 
¡ršg
 
	gv®ue
 = 
Œim
Ğ¡ršgĞ
roÙ
->
v®ue
() ) );

38 
	gcfg
->
£tV®ue
Ğ
v®ue
 );

40  
	g¿pidxml
::
xml_©Œibu‹
<> *
©Œ
 = 
roÙ
->
fœ¡_©Œibu‹
();

41 
	g©Œ
 !ğ
NULL
;‡‰¸ğ
©Œ
->
Ãxt_©Œibu‹
() ) {

42 *
©ŒÇme
 = 
©Œ
->
Çme
();

43 *
	g©Œv®
 = 
©Œ
->
v®ue
();

44 
	gcfg
->
£tA‰r
Ğ
Œim
Ğ
¡ršg
Ğ
©ŒÇme
 ) ),rimĞ¡ršgĞ
©Œv®
 ) ) );

50 
	gXmlCÚfig
::
XmlCÚfig
Ğ
¡ršg
 
šput
, 
boŞ
 
b_fešput
 ) {

52 
	gxml_docum’t
<> 
	gdoc
;

54 iàĞ
	gb_fešput
 ) {

55 
if¡»am
 
fš
Ğ
šput
 );

56 iàĞ!
	gfš
.
good
() ) {

57 
	gcout
 << "Cª‚Ù o³Àfe: " << 
	gšput
 << 
	g’dl
;

58 
	gfš
.
şo£
();

59 
ex™
( 1 );

61 
	gveùÜ
<> 
bufãr
ĞĞ
i¡»ambuf_™”©Ü
<>Ğ
fš
 ) ),

62 
i¡»ambuf_™”©Ü
<>() );

63 
	gbufãr
.
push_back
( '\0' );

65 
	gdoc
.
	g·r£
<0>Ğ&
	gbufãr
[ 0 ] );

66 
	gfš
.
şo£
();

68 
	gveùÜ
<> 
bufãr
Ğ
šput
.
begš
(), iÅut.
’d
() );

69 
	gbufãr
.
push_back
( '\0' );

70 
	gdoc
.
	g·r£
<0>Ğ&
	gbufãr
[ 0 ] );

73 
	gxml_node
<> *
	gpRoÙ
 = 
doc
.
fœ¡_node
();

75 
¡ršg
 
	gÇme
 = 
Œim
Ğ¡ršgĞ
pRoÙ
->
Çme
() ) );

76 iàĞ
	gÇme
.
size
() < 1 ) {

79 iàĞ
·r£
Ğ
pRoÙ
, 
this
 ) == 1 ) {

80 
throw
 0;

84 
	gXmlCÚfig
::
£tA‰r
Ğ
¡ršg
 
a
, sŒšg 
v
 ) {

85 
	g©Œ
[ 
a
 ] = 
v
;

89 
	gXmlCÚfig
::
£tTag
ĞcÚ¡ 
¡ršg
 
t
 ) {

90 
g
 = 
t
;

93 
	gXmlCÚfig
::
£tV®ue
ĞcÚ¡ 
¡ršg
 
v
 ) {

94 
v®ue
 = 
v
;

98 
	gXmlCÚfig
::
addChd
Ğ
¡ršg
 
key
, cÚ¡ 
XmlCÚfig
 *
c
 ) {

99 
	gchd»n
[ 
key
 ].
push_back
Ğ
c
 );

103 
chd_ty³
 
	gXmlCÚfig
::
g‘Chd
ĞcÚ¡ 
¡ršg
 
s
 ) const {

104 
chd_ty³
 
±r
Ğ
NULL
 );

105 
	gXML_NODE
::
cÚ¡_™”©Ü
 
™
 = 
chd»n
.
fšd
Ğ
s
 );

107 iàĞ
	g™
 !ğ
chd»n
.
’d
() ) {

108 
±r
 = &Ğ
™
->
£cÚd
 );

111  
	g±r
;

114 cÚ¡ 
XmlCÚfig
 *
	gXmlCÚfig
::
g‘OÃChd
Ğ
¡ršg
 
id
 ) const {

115 cÚ¡ 
XmlCÚfig
 * 
±r
Ğ
NULL
 );

116 
	gXML_NODE
::
cÚ¡_™”©Ü
 
™
 = 
chd»n
.
fšd
Ğ
id
 );

117 iàĞ
	g™
 !ğ
chd»n
.
’d
() ) {

118 iàĞ!
™
->
£cÚd
.
em±y
() ) {

119 
±r
 = 
™
->
£cÚd
[ 0 ];

122  
	g±r
;

125 cÚ¡ 
XML_NODE
 *
	gXmlCÚfig
::
g‘Chd»n
(ècÚ¡ {  &
chd»n
; }

135 
cÚv”t
ĞcÚ¡ 
¡ršg
 
¡r
, 
boŞ
 &
v®
 ) {

137 iàĞ
	g¡r
[ 0 ] =ğ'T' || 
¡r
[ 0 ] == 't' )

138 
v®
 = 
Œue
;

140 
	gv®
 = 
çl£
;

144 
cÚv”t
ĞcÚ¡ 
¡ršg
 
¡r
, &
v®
 ) {

145 
	gv®
 = 
©oi
Ğ
¡r
.
c_¡r
() );

149 
cÚv”t
ĞcÚ¡ 
¡ršg
 
¡r
, &
v®
 ) {

150 
	gv®
 = 
©of
Ğ
¡r
.
c_¡r
() );

154 
cÚv”t
ĞcÚ¡ 
¡ršg
 
¡r
, sŒšg &
v®
 ) {

155 
	gv®
 = 
¡r
;

159 
¡ršg
 
Œim
Ğ
¡d
::¡ršg 
s
 ) {

160 iàĞ
s
.
em±y
() ) {

161  
s
;

163 
	gs
.
”a£
Ğ0, 
s
.
fšd_fœ¡_nÙ_of
( " " ) );

164 
	gs
.
”a£
Ğ
s
.
fšd_Ï¡_nÙ_of
( " " ) + 1 );

165  
	gs
;

	@test/checker/fisher.cpp

1 
	~<¿ndom
>

2 
	~<veùÜ
>

4 
	~<g‹¡/g‹¡.h
>

6 
	~"disü‘e¡©e.hµ
"

8 
	~"mod–/.hµ
"

9 
	~"´obËm/»achab™y.hµ
"

10 
	~"»achabË£t.hµ
"

12 
	~"domaš/dbm.hµ
"

13 
	~"domaš/dbm£t.hµ
"

15 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

16 
usšg
 
Çme¥aû
 
	g¡d
;

18 
	gR—chabËS‘
<
	tINT_TAS_t
> 
	tR_t
;

20 
	$TEST
Ğ
TA
, 
UNREACH
 ) {

21 
veùÜ
<
INT_TAS_t
::
T_t
> 
es
;

22 
veùÜ
<
INT_TAS_t
::
L_t
> 
ls
;

23 
INT_TAS_t
::
L_t
 
	`L0
( 0 );

24 
INT_TAS_t
::
L_t
 
	`L1
( 1 );

26 
INT_TAS_t
::
T_t
 
	`E00a
( 0, 0 );

27 
·œ
<, > 
	`»£t1
( 2, 0 );

28 
E00a
.
	`addRe£t
Ğ
»£t1
 );

29 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ2, 0, 2, 
çl£
 );

30 
E00a
 +ğ
cs1
;

32 
INT_TAS_t
::
T_t
 
	`E00b
( 0, 0 );

33 
·œ
<, > 
	`»£t2
( 1, 0 );

34 
E00b
.
	`addRe£t
Ğ
»£t2
 );

35 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 2, 
çl£
 );

36 
E00b
 +ğ
cs2
;

38 
INT_TAS_t
::
T_t
 
	`E01
( 0, 1 );

40 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ2, 0, 2, 
çl£
 );

41 
INT_TAS_t
::
CS_t
 
	`cs4
Ğ0, 1, -4, 
çl£
 );

43 
E01
 +ğ
cs3
;

44 
E01
 +ğ
cs4
;

46 
ls
.
	`push_back
Ğ
L0
 );

47 
ls
.
	`push_back
Ğ
L1
 );

49 
es
.
	`push_back
Ğ
E00a
 );

51 
es
.
	`push_back
Ğ
E00b
 );

52 
es
.
	`push_back
Ğ
E01
 );

54 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ
ls
, 
es
, 0, 2 );

55 
tma1
.
	`addOÃP¬a
();

56 
INT_TAS_t
 
sys
;

58 
sys
 +ğ
tma1
;

59 
R_t
 
	`d©a
Ğ
sys
 );

60 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

61 
veùÜ
<> 
loc
;

62 
loc
.
	`push_back
( 1 );

63 
LocR—chPrİ”ty
 
	`´İ
Ğ
loc
 );

65 
	`EXPECT_TRUE
Ğ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) );

66 
	}
}

67 
	$TEST
Ğ
REACHSET
, 
TERIMINAL
 ) {

68 
veùÜ
<
INT_TAS_t
::
T_t
> 
es
;

69 
veùÜ
<
INT_TAS_t
::
L_t
> 
ls
;

71 
INT_TAS_t
::
L_t
 
	`¡¬t
( 0 );

73 
INT_TAS_t
::
L_t
 
	`loİ
( 1 );

74 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ1, 0, 10, 
çl£
 );

75 
loİ
 +ğ
cs1
;

77 
INT_TAS_t
::
L_t
 
	`’d
( 2 );

79 
INT_TAS_t
::
T_t
 
	`¡¬t_loİ
( 0, 1 );

81 
·œ
<, > 
	`»£t1
( 1, 0 );

82 
·œ
<, > 
	`»£t2
( 2, 0 );

83 
¡¬t_loİ
.
	`addRe£t
Ğ
»£t1
 );

84 
¡¬t_loİ
.
	`addRe£t
Ğ
»£t2
 );

86 
INT_TAS_t
::
T_t
 
	`loİ_loİ
( 1, 1 );

87 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 10, 
çl£
 );

88 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ0, 1, -10, 
çl£
 );

89 
loİ_loİ
 +ğ
cs2
;

90 
loİ_loİ
 +ğ
cs3
;

91 
·œ
<, > 
	`»£t3
( 1, 0 );

92 
loİ_loİ
.
	`addRe£t
Ğ
»£t3
 );

94 
INT_TAS_t
::
T_t
 
	`loİ_’d
( 1, 2 );

95 
INT_TAS_t
::
CS_t
 
	`cs4
Ğ0, 2, -20, 
çl£
 );

96 
loİ_’d
 +ğ
cs4
;

97 
loİ_’d
.
	`addRe£t
Ğ
»£t1
 );

98 
loİ_’d
.
	`addRe£t
Ğ
»£t2
 );

99 
ls
.
	`push_back
Ğ
¡¬t
 );

100 
ls
.
	`push_back
Ğ
loİ
 );

101 
ls
.
	`push_back
Ğ
’d
 );

103 
es
.
	`push_back
Ğ
¡¬t_loİ
 );

104 
es
.
	`push_back
Ğ
loİ_loİ
 );

105 
es
.
	`push_back
Ğ
loİ_’d
 );

106 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ
ls
, 
es
, 0, 2 );

107 
INT_TAS_t
 
sys
;

108 
sys
 +ğ
tma1
;

109 
R_t
 
	`d©a
Ğ
sys
 );

111 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

113 
Prİ”ty
 
´İ
;

114 
	`EXPECT_FALSE
Ğ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) );

115 
	}
}

117 
	$TEST
Ğ
REACHSET
, 
FISHER
 ) {

118 
n
 = 4;

119 
veùÜ
<
INT_TAS_t
::
T_t
> 
es
;

120 
veùÜ
<
INT_TAS_t
::
L_t
> 
ls
;

121 
k
 = 2;

123 
INT_TAS_t
::
L_t
 
	`A
( 0 );

125 
INT_TAS_t
::
L_t
 
	`»q
( 1 );

126 
INT_TAS_t
::
CS_t
 
	`cs1
Ğ1, 0, 
k
, 
çl£
 );

127 
»q
 +ğ
cs1
;

129 
INT_TAS_t
::
L_t
 
	`wa™
( 2 );

131 
INT_TAS_t
::
L_t
 
	`cs
( 3 );

133 
INT_TAS_t
::
T_t
 
	`A_»q
( 0, 1 );

135 
·œ
<, > 
	`p
( 1, 0 );

136 
veùÜ
<
·œ
<, >> 
ps1
, 
ps2
;

137 
ps2
.
	`push_back
Ğ
p
 );

139 
DeçuÉCouÁ”CÚ¡¿št
 *
ccs1
 =

140 
CouÁ”CÚ¡¿štFaùÜy
::
	`g‘In¡ªû
().
	`ü—‹DeçuÉCouÁ”CÚ¡¿št
(

141 
ps1
, 
ps2
, 0, 
EQ
 );

142 
A_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

144 
·œ
<, > 
	`»£t1
( 1, 0 );

145 
A_»q
.
	`addRe£t
Ğ
»£t1
 );

147 
INT_TAS_t
::
T_t
 
	`»q_wa™
( 1, 2 );

148 
INT_TAS_t
::
CS_t
 
	`cs2
Ğ1, 0, 
k
, 
çl£
 );

149 
»q_wa™
 +ğ
cs2
;

151 
·œ
<, > 
	`»£t2
( 1, 0 );

152 
»q_wa™
.
	`addRe£t
Ğ
»£t2
 );

154 
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> 
»ÏtiÚs
;

155 
·œ
<, > 
	`·ssš
( 1, 0 );

156 
veùÜ
<
·œ
<, >> 
·ssšs
;

157 
·ssšs
.
	`push_back
Ğ
·ssš
 );

158 
·œ
<, 
veùÜ
<·œ<, >>> 
	`ÚeUpd©e
Ğ0, 
·ssšs
 );

159 
»ÏtiÚs
.
	`push_back
Ğ
ÚeUpd©e
 );

160 
DeçuÉCAùiÚ
 *
ÿùiÚ
 =

161 
CouÁ”AùiÚFaùÜy
::
	`g‘In¡ªû
().
	`ü—‹DeçuÉCAùiÚ
Ğ
»ÏtiÚs
 );

163 
»q_wa™
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ
 );

165 
INT_TAS_t
::
T_t
 
	`wa™_»q
( 2, 1 );

167 
·œ
<, > 
	`»£t3
( 1, 0 );

168 
wa™_»q
.
	`addRe£t
Ğ
»£t3
 );

169 
wa™_»q
.
	`addCouÁ”CÚs
Ğ
ccs1
 );

171 
INT_TAS_t
::
T_t
 
	`wa™_cs
( 2, 3 );

173 
veùÜ
<
·œ
<, >> 
ps3
, 
ps4
;

174 
·œ
<, > 
	`id_p
( -1, 0 );

175 
·œ
<, > 
	`id_id
( 1, 0 );

176 
ps3
.
	`push_back
Ğ
id_p
 );

177 
ps4
.
	`push_back
Ğ
id_id
 );

178 
DeçuÉCouÁ”CÚ¡¿št
 *
ccs2
 =

179 
CouÁ”CÚ¡¿štFaùÜy
::
	`g‘In¡ªû
().
	`ü—‹DeçuÉCouÁ”CÚ¡¿št
(

180 
ps3
, 
ps4
, 0, 
EQ
 );

181 
wa™_cs
.
	`addCouÁ”CÚs
Ğ
ccs2
 );

182 
INT_TAS_t
::
CS_t
 
	`cs3
Ğ0, 1, -
k
 );

183 
wa™_cs
 +ğ
cs3
;

185 
INT_TAS_t
::
T_t
 
	`cs_A
( 3, 0 );

187 
veùÜ
<
·œ
<, veùÜ<·œ<, >>>> 
»ÏtiÚs1
;

189 
veùÜ
<
·œ
<, >> 
·ssšs1
;

191 
·œ
<, 
veùÜ
<·œ<, >>> 
	`ÚeUpd©e1
Ğ0, 
·ssšs1
 );

192 
»ÏtiÚs1
.
	`push_back
Ğ
ÚeUpd©e1
 );

193 
DeçuÉCAùiÚ
 *
ÿùiÚ1
 =

194 
CouÁ”AùiÚFaùÜy
::
	`g‘In¡ªû
().
	`ü—‹DeçuÉCAùiÚ
(

195 
»ÏtiÚs1
 );

196 
cs_A
.
	`addCouÁ”AùiÚ
Ğ
ÿùiÚ1
 );

198 
ls
.
	`push_back
Ğ
A
 );

199 
ls
.
	`push_back
Ğ
»q
 );

200 
ls
.
	`push_back
Ğ
wa™
 );

201 
ls
.
	`push_back
Ğ
cs
 );

203 
es
.
	`push_back
Ğ
A_»q
 );

204 
es
.
	`push_back
Ğ
»q_wa™
 );

205 
es
.
	`push_back
Ğ
wa™_»q
 );

206 
es
.
	`push_back
Ğ
wa™_cs
 );

207 
es
.
	`push_back
Ğ
cs_A
 );

208 
INT_TAS_t
::
TA_t
 
	`tma1
Ğ
ls
, 
es
, 0, 1 );

210 
INT_TAS_t
 
sys
;

211  
i
 = 1; i <ğ
n
; i++ ) {

212 
INT_TAS_t
::
TA_t
 
tma2
 = 
tma1
;

213 
tma2
.
	`addOÃP¬a
Ğ
i
 );

214 
sys
 +ğ
tma2
;

217 
CouÁ”
 
	`couÁ”
Ğ0, 
n
 - 1 );

218 
sys
 +ğ
couÁ”
;

220 
R_t
 
	`d©a
Ğ
sys
 );

222 
R—chab™y
<
R_t
> 
	`»ach”
Ğ
d©a
 );

223 
Fisch”Mutu®
 
´İ
;

225 
	`EXPECT_FALSE
Ğ
»ach”
.
	`§tisfy
Ğ&
´İ
 ) );

226 
	}
}

228 
	$maš
Ğ
¬gc
, *
¬gv
[] ) {

229 
‹¡šg
::
	`In™GoogËTe¡
Ğ&
¬gc
, 
¬gv
 );

230  
	`RUN_ALL_TESTS
();

231 
	}
}

	@test/state/statetest.cpp

2 
	~<¿ndom
>

3 
	~<veùÜ
>

5 
	~<g‹¡/g‹¡.h
>

7 
	~"disü‘e¡©e.hµ
"

9 
	~"domaš/dbm.hµ
"

10 
	~"domaš/dbm£t.hµ
"

12 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

13 
usšg
 
Çme¥aû
 
	g¡d
;

15 
	g¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

16 
	g¡d
::
unifÜm_št_di¡ributiÚ
<> 
di¡ributiÚ
( 0, 1000 );

18 *
	$¿ndV
Ğ
n
, 
s
 ) {

20 *
v
 = 
Ãw
 [ 
n
 ];

22  
i
 = 0; i < 
n
; i++ ) {

23 
v
[ 
i
 ] = 
	`di¡ributiÚ
Ğ
g’”©Ü
 );

26  
v
;

27 
	}
}

29 
	$TEST
Ğ
S‹S‘
, 
add_cÚš
 ) {

30 
S‹S‘
<> 
£ts
;

32 
veùÜ
<*> 
vecs
;

33 
n
 = 10;

34 
s
 = 4;

35 
num
 = 1000;

36 
£ts
.
	`£tP¬am
Ğ
n
, 
s
 );

37  
i
 = 0; i < 
num
; i++ ) {

38 *
‹mp
 = 
	`¿ndV
Ğ
n
, 
s
 );

39 iàĞ
£ts
.
	`add
Ğ
‹mp
 ) ) {

40 
vecs
.
	`push_back
Ğ
‹mp
 );

42 
d–‘e
 
‹mp
;

45 ‡utØ
e
 : 
vecs
 ) {

46 
	`EXPECT_TRUE
Ğ
£ts
.
	`cÚš
Ğ
e
 ) );

48 
	}
}

50 
	$TEST
Ğ
DBMSET
, 
add
 ) {

52 
veùÜ
<*> 
vecs
;

53 
n
 = 10;

54 
DBMFaùÜy
<> 
	`mªag”
Ğ
n
 );

55 
DBM£t
<> 
	`£ts
Ğ
mªag”
 );

56 
num
 = 10000;

58  
i
 = 0; i < 
num
; i++ ) {

59 *
dbm
 = 
mªag”
.
	`¿ndomF—sŸbËDBM
();

60 iàĞ
£ts
.
	`add
Ğ
dbm
 ) )

61 
vecs
.
	`push_back
Ğ
dbm
 );

63 
mªag”
.
	`de¡royDBM
Ğ
dbm
 );

65 ‡utØ
e
 : 
vecs
 ) {

66 
	`EXPECT_TRUE
Ğ
£ts
.
	`cÚš
Ğ
e
 ) );

68 
	}
}

69 
	$TEST
Ğ
DBM
, 
šşude
 ) {

70 
MAX_INT
 = 100000;

71 
¡d
::
deçuÉ_¿ndom_’gše
 
g’”©Ü
;

72 
di¡ributiÚ
 =

73 
¡d
::
unifÜm_št_di¡ributiÚ
<>Ğ-
MAX_INT
 / 4 + 1, MAX_INT / 4 );

74 
şock_num
 = 50;

75 
DBMFaùÜy
<> 
	`mªag”
Ğ
şock_num
 );

76 
num
 = 1000;

77  
i
 = 0; i < 
num
; i++ ) {

78 *
dbm
 = 
mªag”
.
	`¿ndomF—sŸbËDBM
();

79 
x
 = 
	`abs
Ğ
	`di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 + 1 );

80 
y
 = 
	`abs
Ğ
	`di¡ributiÚ
Ğ
g’”©Ü
 ) ) % ( 
şock_num
 + 1 );

81 iàĞ
x
 !ğ
y
 ) {

82 
rhs
 = 
	`di¡ributiÚ
Ğ
g’”©Ü
 );

83 
ClockCÚ¡¿št
<> 
	`cs
Ğ
x
, 
y
, 
rhs
 );

84 * 
dbm1
 = 
mªag”
.
	`And
Ğ
dbm
, 
cs
 );

85 
	`EXPECT_TRUE
Ğ
mªag”
.
	`šşude
Ğ
dbm
, 
dbm1
 ) );

86 
mªag”
.
	`de¡royDBM
Ğ
dbm1
 );

88 
mªag”
.
	`de¡royDBM
Ğ
dbm
 );

90 
	}
}

92 
	$maš
Ğ
¬gc
, *
¬gv
[] ) {

93 
‹¡šg
::
	`In™GoogËTe¡
Ğ&
¬gc
, 
¬gv
 );

94  
	`RUN_ALL_TESTS
();

95 
	}
}

	@uppaalparser.y

2 
	~<io¡»am
>

3 
	~<¡ršg
>

4 
	~<¡dio.h
>

5 
	~<m­
>

6 
	~<veùÜ
>

7 
	~<ut™y
>

9 
	~"chªÃl.h
"

11 
	~"ut/dbmut.hµ
"

12 
	~"io/uµ¯ld©a.h
"

13 
	~"mod–/.hµ
"

15 
usšg
 
	g¡d
::
¡ršg
;

16 
usšg
 
	g¡d
::
m­
;

17 
usšg
 
	g¡d
::
veùÜ
;

18 
usšg
 
	g¡d
::
make_·œ
;

20 
usšg
 
Çme¥aû
 
	gg¿ph§t
;

22 
	gyydebug
=1;

23 
usšg
 
	g¡d
::
û¼
;

24 
usšg
 
	g¡d
::
’dl
;

25 
usšg
 
	g¡d
::
cout
;

27 
	gveùÜ
<
	g¡ršg
> 
	gsymbŞ_bË
;

29 
lšeNum
;

32 
Uµ¯lTem¶©eD©a
* 
	gsy¡em_d©a
;

33 
Uµ¯lTem¶©eD©a
* 
	gcu¼’t_d©a
;

36 
yy”rÜ
(const *);

37 
yy”rÜ
(cÚ¡ 
¡ršg
&);

38 
yyËx
();

39 
yy·r£
();

40 
FILE
* 
yyš
;

47 
štV®
;

48 
veùÜ
<
¡ršg
> * 
¡r_vec_poš‹r
;

49 
COMP_OPERATOR
 
com_İ
;

53 %
tok’
 <
štV®
> 
CONSTANT


55 %
tok’
<
štV®
> 
IDENTIFIER


59 %
tok’
<
štV®
> 
TEMPLATE


62 %
ty³
<
štV®
> 
cÚ¡_ex´essiÚ


65 %
ty³
<
štV®
> 
ty³_¥ecif›r


67 %
ty³
<
¡r_vec_poš‹r
> 
id’tif›r_li¡


69 %
ty³
<
¡r_vec_poš‹r
> 
_li¡


71 %
ty³
<
com_İ
> 
com·»_»ÏtiÚ


73 %
tok’
 
STRING_LITERAL
 
URGENT
 
BROADCAST
 
META


74 %
tok’
 
PTR_OP
 
INC_OP
 
DEC_OP
 
LEFT_OP
 
RIGHT_OP
 
LE_OP
 
GE_OP
 
EQ_OP
 
NE_OP


75 %
tok’
 
AND_OP
 
OR_OP
 
MUL_ASSIGN
 
DIV_ASSIGN
 
MOD_ASSIGN
 
ADD_ASSIGN


76 %
tok’
 
SUB_ASSIGN
 
LEFT_ASSIGN
 
RIGHT_ASSIGN
 
AND_ASSIGN


77 %
tok’
 
XOR_ASSIGN
 
OR_ASSIGN
 
TYPE_NAME


79 %
tok’
 
TYPEDEF


80 %
tok’
 
INT
 
CONST
 
VOID
 
CLOCK
 
CHAN
 
BOOL


81 %
tok’
 
TRUE_Y
 
FALSE_Y


83 %
tok’
 
STRUCT
 
ELLIPSIS


85 %
tok’
 
COMMENT
 
CASE
 
DEFAULT
 
IF
 
ELSE
 
SWITCH
 
WHILE
 
DO
 
FOR
 
CONTINUE
 
BREAK
 
RETURN
 
SYSTEM


87 %
nÚassoc
 
IFX


88 %
nÚassoc
 
ELSE


90 %
¡¬t
 
Œª¦©iÚ_un™


93 %% /* 
	$yy·r£
 */ 
	`yyËx
()

95 
ty³_¥ecif›r


96 : 
INT


98 
$$
=1;

100 | 
CLOCK


102 
$$
=2;

104 | 
BOOL


106 
$$
=3;

108 | 
CHAN


110 
$$
=4;

112 | 
URGENT
 
CHAN


114 
$$
=5;

116 | 
BROADCAST
 
CHAN


118 
$$
=6;

123 
id’tif›r_li¡


124 : 
IDENTIFIER


126 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

127 
$$
->
	`push_back
Ğ
symbŞ_bË
[
$1
]);

129 | 
id’tif›r_li¡
 ',' 
IDENTIFIER


131 
$$
=
$1
;

132 
$$
->
	`push_back
(
symbŞ_bË
[
$3
]);

135 
_li¡


136 :
IDENTIFIER


138 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

139 
$$
->
	`push_back
Ğ
symbŞ_bË
[
$1
]);

142 
TEMPLATE


144 
$$
=
Ãw
 
veùÜ
<
¡ršg
> ( );

145 
$$
->
	`push_back
Ğ
symbŞ_bË
[
$1
]);

147 | 
_li¡
 ',' 
IDENTIFIER


149 
$$
=
$1
;

150 
$$
->
	`push_back
(
symbŞ_bË
[
$3
]);

152 | 
_li¡
 ',' 
TEMPLATE


154 
$$
=
$1
;

155 
$$
->
	`push_back
(
symbŞ_bË
[
$3
]);

160 
com·»_»ÏtiÚ
:

162 
EQ_OP
{

163 
$$
=
EQ
;

166 
LE_OP
{

167 
$$
=
LE
;

170 
GE_OP
{

171 
$$
=
GE
;

175 
$$
=
LT
;

179 
$$
=
GT
;

182 
NE_OP
{

183 
$$
=
NE
;

186 
Œª¦©iÚ_un™


187 : 
ex‹º®_deş¬©iÚ


188 | 
Œª¦©iÚ_un™
 
ex‹º®_deş¬©iÚ


189 | 
comm’t_li¡


192 
ex‹º®_deş¬©iÚ


193 : 
v¬ŸbË_deş¬©iÚ


194 | 
cÚ¡¿št_¡©em’t


195 | 
assign_¡©em’t


196 | 
sy¡em_deş¬©iÚ


198 
cÚ¡¿št_¡©em’t
:

199 
©omic_cÚ¡¿št


201 
cÚ¡¿št_¡©em’t
 
AND_OP
 
©omic_cÚ¡¿št


204 
comm’t_li¡
:

205 
COMMENT


207 
comm’t_li¡
 
COMMENT


210 
©omic_cÚ¡¿št
:

212 
IDENTIFIER
 
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


214 
sy¡em_d©a
->
	`·r£CÚ¡¿št
Ğ
cu¼’t_d©a
,
symbŞ_bË
[
$1
], 
$2
, 
$3
 );

217 
IDENTIFIER
 
com·»_»ÏtiÚ
 IDENTIFIER

219 
sy¡em_d©a
->
	`·r£CÚ¡¿št
Ğ
cu¼’t_d©a
, 
sysbŞ_bË
[ 
$1
], 
$2
,sysbŞ_bË[ 
$3
] );

222 
IDENTIFIER
 '-' IDENTIFIER 
com·»_»ÏtiÚ
 
cÚ¡_ex´essiÚ


224 if(
	`g‘Ty³
Ğ
symbŞ_bË
[
$1
])==
CLOCK_T
 &&g‘Ty³ĞsymbŞ_bË[
$3
])==CLOCK_T ){

225 
şock_id1
=
cu¼’t_d©a
->
	`g‘Id
Ğ
CLOCK_STR
, 
symbŞ_bË
[
$1
])+1;

226 
şock_id2
=
cu¼’t_d©a
->
	`g‘Id
Ğ
CLOCK_STR
, 
symbŞ_bË
[
$3
])+1;

227 ifĞ
$4
==
EQ
){

229 
INT_TAS_t
::
CS_t
 *
cs
=
Ãw
 INT_TAS_t::
	`CS_t
(
şock_id1
, 
şock_id2
, 
GE
, 
$5
 );

231 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
CLOCK_CS
,CLOCK_CS, 
cs
);

233 
cs
=
Ãw
 
INT_TAS_t
::
	`CS_t
(
şock_id1
, 
şock_id2
, 
LE
, 
$5
 );

235 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
CLOCK_CS
,CLOCK_CS, 
cs
);

237 
INT_TAS_t
::
CS_t
 *
cs
=
Ãw
 INT_TAS_t::
	`CS_t
(
şock_id1
, 
şock_id2
, 
$4
, 
$5
 );

238 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
CLOCK_CS
,CLOCK_CS, 
cs
);

242 if(
	`g‘Ty³
Ğ
symbŞ_bË
[
$1
])==
INT_T
 &&g‘Ty³ĞsymbŞ_bË[
$3
])==INT_T ){

243 
couÁ”_id1
=
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$1
]);

244 
couÁ”_id2
=
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$3
]);

249 
DŸCouÁ”CÚ¡¿št
 *
cs
=
In¡ªûFaùÜy
::
	`g‘In¡ªû
().
	`ü—‹DŸCouÁ”CÚ¡¿št
Ğ
couÁ”_id1
, 
couÁ”_id2
, 
$4
, 
$5
);

250 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_CS
,INT_CS, 
cs
);

256 
IDENTIFIER


258 *
cs
;

259 
¡ršg
 
§ve_Çme
;

260 cÚ¡ 
TYPE_T
 
ty³
=
	`g‘Ty³
Ğ
symbŞ_bË
[
$1
], 
§ve_Çme
);

262 
ty³
 ){

263 
PARAMETER_T
:

264 
·¿m_id
=
	`g‘P¬am‘”Id
(
§ve_Çme
 );

265 
P¬aEËm’t
* 
p
=(P¬aEËm’t*)
cu¼’t_d©a
->
	`g‘Poš‹r
(
PARAMETER_STR
, 
§ve_Çme
);

266 ifĞ
p
->
is_»f
){

271 if(
PARAMETER_T
==
	`g‘Ty³
(
symbŞ_bË
[ 
$1
] ) ){

277 '!' 
IDENTIFIER


284 
assign_¡©em’t
:

285 
sšgË_assign_¡©em’t


286 | 
assign_¡©em’t
 ',' 
sšgË_assign_¡©em’t


288 
sšgË_assign_¡©em’t
:

289 
IDENTIFIER
 '=' 
cÚ¡_ex´essiÚ


291 ifĞ
	`g‘Ty³
Ğ
symbŞ_bË
[
$1
] )==
CLOCK_T
){

293 
şock_id
=
cu¼’t_d©a
->
	`g‘Id
Ğ
CLOCK_STR
, 
symbŞ_bË
[
$1
] )+1;

294 
·œ
<, > *
µ
=
Ãw
…aœ<,>(
şock_id
, 
$3
 );

295 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
RESET_STR
,RESET_STR, 
µ
);

297 }if(
	`g‘Ty³
Ğ
symbŞ_bË
[
$1
] )==
INT_T
 ){

299 
couÁ”_id
=
sy¡em_d©a
->
	`g‘Id
(
INT_STR
 )

300 if(
cu¼’t_d©a
->
	`hasV®ue
(
INT_STR
, 
symbŞ_bË
[
$1
] ) ){

301 
couÁ”_id
=
cu¼’t_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$1
]);

303 
couÁ”_id
=
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$1
]);

305 
couÁ”_id
=
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$1
]);

308 
Sim¶eCouÁ”AùiÚ
 *
cs
=
In¡ªûFaùÜy
::
	`g‘In¡ªû
Ğ).
	`ü—‹Sim¶eCouÁ”AùiÚ
Ğ
couÁ”_id
, 
$3
);

309 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_UPDATE
,INT_UPDATE, 
cs
);

314 
IDENTIFIER
 '=' IDENTIFIER

316 
	`as£¹
(
	`g‘Ty³
(
symbŞ_bË
[
$1
] )==
INT_T
 );

317 
couÁ”_id
=
sy¡em_d©a
->
	`g‘Id
Ğ
INT_STR
, 
symbŞ_bË
[
$1
]);

321 
·¿m‘”_id
=
	`g‘P¬am‘”Id
(
symbŞ_bË
[
$3
] );

324 
Sim¶eCouÁ”PAùiÚ
 *
cs
 =
In¡ªûFaùÜy
::
	`g‘In¡ªû
Ğ).
	`ü—‹Sim¶eCouÁ”PAùiÚ
Ğ
couÁ”_id
, 
·¿m‘”_id
);

325 
cu¼’t_d©a
->
	`addPoš‹r
Ğ
INT_UPDATE
,INT_UPDATE, 
cs
);

329 
IDENTIFIER
 '=' 
TEMPLATE
 '(' 
id’tif›r_li¡
 ')'

332 
TaDec
 * 

=
Ãw
 
	`TaDec
( );

333 

->
Çme
=
symbŞ_bË
[ 
$1
];

335 autØ
Çme
: ( *Ğ
$5
) ) ){

337 
TYPE_T
 
ty³
=
	`g‘Ty³
(
Çme
 );

338 
id
=-1;

339 if(
INT_T
==
ty³
 ){

340 
id
ğ
sy¡em_d©a
->
	`g‘Id
(
INT_STR
, 
Çme
 );

341 }if(
BOOL_T
==
ty³
 ){

342 
id
ğ
sy¡em_d©a
->
	`g‘Id
Ğ
BOOL_STR
, 
Çme
);

343 }ifĞ
CHAN_T
==
ty³
){

344 
id
=
sy¡em_d©a
->
	`g‘Id
Ğ
CHAN_STR
, 
Çme
);

346 
	`as£¹
Ğ
id
>-1);

347 

->
·¿m_li¡
.
	`push_back
Ğ
id
);

350 
sy¡em_d©a
->
	`addPoš‹r
(
TEMPLATE_STR
,
symbŞ_bË
[ 
$1
], 

);

352 
d–‘e
 
$5
;

356 
cÚ¡_ex´essiÚ
:

357 
CONSTANT


359 
$$
=
$1
;

373 
TRUE_Y
{

374 
$$
=1;

377 
FALSE_Y
{

378 
$$
=0;

382 
v¬ŸbË_deş¬©iÚ


383 : 
ty³_¥ecif›r
 
id’tif›r_li¡
 ';'

385  
$1
){

387 ‡utØ
v
: *
$2
){

388 
cu¼’t_d©a
->
	`£tV®ue
(
INT_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
));

390 
d–‘e
 
$2
;

393 ‡utØ
v
: *
$2
){

394 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
));

396 
d–‘e
 
$2
;

400 ‡utØ
v
: *
$2
){

401 
cu¼’t_d©a
->
	`£tV®ue
(
BOOL_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
));

403 
d–‘e
 
$2
;

407 ‡utØ
v
: *
$2
){

408 
cu¼’t_d©a
->
	`£tV®ue
(
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
), 
ONE2ONE_CH
);

410 
d–‘e
 
$2
;

415 ‡utØ
v
: *
$2
){

416 
cu¼’t_d©a
->
	`£tV®ue
(
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
), 
URGENT_CH
);

418 
d–‘e
 
$2
;

421 ‡utØ
v
: *
$2
){

422 
cu¼’t_d©a
->
	`£tV®ue
(
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
v
), 
BROADCAST_CH
);

424 
d–‘e
 
$2
;

430 | 
ty³_¥ecif›r
 
IDENTIFIER
 '[' 
cÚ¡_ex´essiÚ
 ']' ';'

433 
¡ršg
 
Çme
=
symbŞ_bË
[ 
$2
];

435  
$1
){

437  
i
=0; i< 
$4
; i++){

438 
cu¼’t_d©a
->
	`£tV®ue
Ğ
INT_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
)) );

442  
i
=0; i< 
$4
; i++){

443 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CLOCK_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
 )));

448  
i
=0; i< 
$4
; i++){

449 
cu¼’t_d©a
->
	`£tV®ue
Ğ
BOOL_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
 )));

454  
i
=0; i< 
$4
; i++){

455 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
 )), 
ONE2ONE_CH
);

460  
i
=0; i< 
$4
; i++){

461 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
 )), 
URGENT_CH
);

465  
i
=0; i< 
$4
; i++){

466 
cu¼’t_d©a
->
	`£tV®ue
Ğ
CHAN_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
	`¬¿yToV¬
(
Çme
, 
i
 )), 
BROADCAST_CH
);

473 | 
ty³_¥ecif›r
 
IDENTIFIER
 '=' 
cÚ¡_ex´essiÚ
 ';'

475  
$1
){

477 
cu¼’t_d©a
->
	`£tV®ue
(
INT_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$2
]), 
$4
);

480 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$2
]), 
$4
);

484 
cu¼’t_d©a
->
	`£tV®ue
(
BOOL_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$2
]), 
$4
);

489 | 
CONST
 
ty³_¥ecif›r
 
IDENTIFIER
 '=' 
cÚ¡_ex´essiÚ
 ';'

492  
$2
){

494 
cu¼’t_d©a
->
	`£tV®ue
(
INT_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$3
]), 
$5
);

497 
cu¼’t_d©a
->
	`£tV®ue
(
CLOCK_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$3
]), 
$5
);

501 
cu¼’t_d©a
->
	`addV®ue
(
BOOL_STR
, cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$3
]), 
$5
);

508 | 
TYPEDEF
 
INT
 '[' 
cÚ¡_ex´essiÚ
 ',' cÚ¡_ex´essiÚ ']' 
IDENTIFIER
 ';'

511 
veùÜ
<> 
‹mp
;

512  
i
=
$4
; i<=
$6
; i++ ){

513 
‹mp
.
	`push_back
Ğ
i
);

515 
cu¼’t_d©a
->
	`addIÁA¼ay
(cu¼’t_d©a->
	`g‘V¬FuÎName
(
symbŞ_bË
[
$8
]),
‹mp
);

519 
sy¡em_deş¬©iÚ


520 : 
SYSTEM
 
_li¡
 ';'

522 
Sy¡emDec
 * 
sys
=
Ãw
 
	`Sy¡emDec
( );

523  
size_t
 
i
=0; i< 
$2
->
	`size
( ); i++){

524 
¡ršg
 
Çme
=(*
$2
)[ 
i
];

525 if(
sy¡em_d©a
->
	`hasV®ue
(
TEMPLATE_STR
, 
Çme
 )){

527 
TaDec
* 
‹mp
=
Ãw
 
	`TaDec
( );

528 
‹mp
->
no_·¿m‘”
=
Œue
;

529 
‹mp
->
Çme
=‚ame;

530 
sys
->
_li¡
.
	`push_back
(
‹mp
 );

532 * 
sys_dec
=
sy¡em_d©a
->
	`g‘Poš‹r
(
TEMPLATE_STR
, 
Çme
 );

533 
sys
->
_li¡
.
	`push_back
((
TaDec
*)
sys_dec
 );

538 
sy¡em_d©a
->
	`ş—rPošts
(
TEMPLATE_STR
 );

540 
sy¡em_d©a
->
	`addPoš‹r
(
SYSTEM_STR
, SYSTEM_STR,
sys
 );

541 
d–‘e
 
$2
;

544 
	}
%%

546 
	~"uµ¯lsÿn.h
"

550 
	$yy”rÜ
(cÚ¡ *
s
)

552 
	`fæush
(
¡dout
);

553 
	`as£¹
Ğ
çl£
);

554 
	`´štf
("\n jjjƒrror\n");

555 
	}
}

556 
	$yy”rÜ
(cÚ¡ 
¡ršg
 &
s
){

558 
	`fæush
(
¡dout
);

559 
	`as£¹
Ğ
çl£
);

560 
	`´štf
("\n kkkƒrror\n");

562 
	}
}

568 
Çme¥aû
 
	gg¿ph§t
{

569 
·r£ProbËm
ĞcÚ¡ 
¡ršg
 &
¡r
, 
Uµ¯lTem¶©eD©a
 *
pd
, Uµ¯lTem¶©eD©a* 
d
){

570 
	gsy¡em_d©a
=
pd
;

571 
	gcu¼’t_d©a
=
d
;

572 
	gyyš
=
tmpfe
();

573 
åuts
Ğ
¡r
.
c_¡r
(), 
yyš
);

574 
»wšd
(
yyš
);

575 
yy·r£
();

576 
fşo£
(
yyš
);

	@
1
.
0
43
1041
include/action/counteraction.h
include/channel.h
include/constraint/clockdiffcons.hpp
include/constraint/countercons.h
include/counter.hpp
include/discretestate.hpp
include/domain/dbm.hpp
include/domain/dbmset.hpp
include/io/rapidxml.hpp
include/io/rapidxml_iterators.hpp
include/io/rapidxml_print.hpp
include/io/rapidxml_utils.hpp
include/io/uppaaldata.h
include/io/uppaalmodelparser.h
include/io/xmlconf.h
include/location.hpp
include/model/ta.hpp
include/parameter.h
include/problem/reachability.hpp
include/property/property.h
include/reachableset.hpp
include/statemanager.hpp
include/transition.hpp
include/util/data.hpp
include/util/datacompression.h
include/util/dbmutil.hpp
include/util/fastHash.h
include/util/gettime.h
include/util/instancefactory.h
include/util/parallel.h
src/datacompression.cpp
src/dbmutil.cpp
src/fashHash.cpp
src/instancefactory.cpp
src/main.cpp
src/uppaalmodelparser.cpp
src/uppaalparser.cpp
src/uppaalparser.y
src/uppaalscan.l
src/xmlconf.cpp
test/checker/fisher.cpp
test/state/statetest.cpp
uppaalparser.y
